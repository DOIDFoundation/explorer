import{T as p,g}from"./index-8e637133.js";import{u as v,w as b}from"./index-fa8e6f20.js";import{b as m,x as e,n,d as a,t as f,e as u}from"./vendor-a218ddb8.js";const x="";var k=Object.defineProperty,w=Object.getOwnPropertyDescriptor,c=(t,s,r,l)=>{for(var i=l>1?void 0:l?w(s,r):s,d=t.length-1,h;d>=0;d--)(h=t[d])&&(i=(l?h(s,r,i):h(i))||i);return l&&i&&k(s,r,i),i};let o=class extends p(x){constructor(){super(...arguments),this.bindBlocks=new m(this,v),this.height="",this.blocks={},this.pending=!1}goMinerBlock(t){t=="miner"&&g("/blocks/"+this.blocks[t])}connectedCallback(){if(super.connectedCallback(),this.height){console.log(this.height),this.pending=!0;const t=this.height.length==64?"doid_getBlockByHash":"doid_getBlockByHeight";b({method:t,params:[this.height.length==64?this.height:+this.height],id:this.height},({header:s}={})=>{this.pending=!1,this.blocks=s})}}render(){return e`<div class="dui-container"><div class="mt-4 px-1"><div class="text-blue-700 font-bold cursor-pointer uppercase text-sm" @click="${()=>{history.back()}}"><i class="mdi mdi-arrow-left"></i> Back</div><div class="text-3xl mt-1">Block</div></div><div class="bg-gray-100 rounded-lg p-2 px-4 mt-3">${n(this.pending,()=>e`<div class="text-center p-3 border-t-2"><loading-icon type="inline-block"></loading-icon></div>`,()=>e`${n(this.blocks,()=>e`${Object.keys(this.blocks).map(t=>e`${n(this.blocks[t],()=>e`<div class="flex font-blod py-2"><div class="text-gray-400 w-1/4 flex-none capitalize">${t}:</div><div class="${n(t==="miner",()=>"text-blue-500 cursor-pointer underline")}" @click="${()=>{this.goMinerBlock(t)}}">${this.blocks[t]}</div></div>`)}`)}`,()=>e`<div class="font-bold text-xl text-red-600">Unknown</div>`)}`)}</div></div>`}};c([a()],o.prototype,"height",2);c([a()],o.prototype,"blocks",2);c([f()],o.prototype,"pending",2);o=c([u("view-block")],o);export{o as ViewHome};
