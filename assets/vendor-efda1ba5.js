var Kd=Object.defineProperty;var jd=(n,t,e)=>t in n?Kd(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var y=(n,t,e)=>(jd(n,typeof t!="symbol"?t+"":t,e),e),_a=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var u=(n,t,e)=>(_a(n,t,"read from private field"),e?e.call(n):t.get(n)),m=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},d=(n,t,e,r)=>(_a(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e);var Xs=(n,t,e,r)=>({set _(s){d(n,t,s,e)},get _(){return u(n,t,r)}}),A=(n,t,e)=>(_a(n,t,"access private method"),e);var mi=class{constructor(t,e,r,s,i,o){y(this,"type",3);y(this,"name","");y(this,"prefix","");y(this,"value","");y(this,"suffix","");y(this,"modifier",3);this.type=t,this.name=e,this.prefix=r,this.value=s,this.suffix=i,this.modifier=o}hasCustomName(){return this.name!==""&&typeof this.name!="number"}},Jd=/[$_\p{ID_Start}]/u,Wd=/[$_\u200C\u200D\p{ID_Continue}]/u,dc=".*";function Yd(n,t){return(t?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(n)}function vh(n,t=!1){let e=[],r=0;for(;r<n.length;){let s=n[r],i=function(o){if(!t)throw new TypeError(o);e.push({type:"INVALID_CHAR",index:r,value:n[r++]})};if(s==="*"){e.push({type:"ASTERISK",index:r,value:n[r++]});continue}if(s==="+"||s==="?"){e.push({type:"OTHER_MODIFIER",index:r,value:n[r++]});continue}if(s==="\\"){e.push({type:"ESCAPED_CHAR",index:r++,value:n[r++]});continue}if(s==="{"){e.push({type:"OPEN",index:r,value:n[r++]});continue}if(s==="}"){e.push({type:"CLOSE",index:r,value:n[r++]});continue}if(s===":"){let o="",a=r+1;for(;a<n.length;){let c=n.substr(a,1);if(a===r+1&&Jd.test(c)||a!==r+1&&Wd.test(c)){o+=n[a++];continue}break}if(!o){i(`Missing parameter name at ${r}`);continue}e.push({type:"NAME",index:r,value:o}),r=a;continue}if(s==="("){let o=1,a="",c=r+1,l=!1;if(n[c]==="?"){i(`Pattern cannot start with "?" at ${c}`);continue}for(;c<n.length;){if(!Yd(n[c],!1)){i(`Invalid character '${n[c]}' at ${c}.`),l=!0;break}if(n[c]==="\\"){a+=n[c++]+n[c++];continue}if(n[c]===")"){if(o--,o===0){c++;break}}else if(n[c]==="("&&(o++,n[c+1]!=="?")){i(`Capturing groups are not allowed at ${c}`),l=!0;break}a+=n[c++]}if(l)continue;if(o){i(`Unbalanced pattern at ${r}`);continue}if(!a){i(`Missing pattern at ${r}`);continue}e.push({type:"REGEX",index:r,value:a}),r=c;continue}e.push({type:"CHAR",index:r,value:n[r++]})}return e.push({type:"END",index:r,value:""}),e}function Eh(n,t={}){let e=vh(n);t.delimiter??(t.delimiter="/#?"),t.prefixes??(t.prefixes="./");let r=`[^${Ht(t.delimiter)}]+?`,s=[],i=0,o=0,a=new Set,c=S=>{if(o<e.length&&e[o].type===S)return e[o++].value},l=()=>c("OTHER_MODIFIER")??c("ASTERISK"),f=S=>{let C=c(S);if(C!==void 0)return C;let{type:$,index:B}=e[o];throw new TypeError(`Unexpected ${$} at ${B}, expected ${S}`)},h=()=>{let S="",C;for(;C=c("CHAR")??c("ESCAPED_CHAR");)S+=C;return S},p=S=>S,g=t.encodePart||p,b="",E=S=>{b+=S},v=()=>{b.length&&(s.push(new mi(3,"","",g(b),"",3)),b="")},k=(S,C,$,B,G)=>{let Q=3;switch(G){case"?":Q=1;break;case"*":Q=0;break;case"+":Q=2;break}if(!C&&!$&&Q===3){E(S);return}if(v(),!C&&!$){if(!S)return;s.push(new mi(3,"","",g(S),"",Q));return}let L;$?$==="*"?L=dc:L=$:L=r;let K=2;L===r?(K=1,L=""):L===dc&&(K=0,L="");let tt;if(C?tt=C:$&&(tt=i++),a.has(tt))throw new TypeError(`Duplicate name '${tt}'.`);a.add(tt),s.push(new mi(K,tt,g(S),L,g(B),Q))};for(;o<e.length;){let S=c("CHAR"),C=c("NAME"),$=c("REGEX");if(!C&&!$&&($=c("ASTERISK")),C||$){let G=S??"";t.prefixes.indexOf(G)===-1&&(E(G),G=""),v();let Q=l();k(G,C,$,"",Q);continue}let B=S??c("ESCAPED_CHAR");if(B){E(B);continue}if(c("OPEN")){let G=h(),Q=c("NAME"),L=c("REGEX");!Q&&!L&&(L=c("ASTERISK"));let K=h();f("CLOSE");let tt=l();k(G,Q,L,K,tt);continue}v(),f("END")}return s}function Ht(n){return n.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function xl(n){return n&&n.ignoreCase?"ui":"u"}function Zd(n,t,e){return xh(Eh(n,e),t,e)}function Fr(n){switch(n){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function xh(n,t,e={}){e.delimiter??(e.delimiter="/#?"),e.prefixes??(e.prefixes="./"),e.sensitive??(e.sensitive=!1),e.strict??(e.strict=!1),e.end??(e.end=!0),e.start??(e.start=!0),e.endsWith="";let r=e.start?"^":"";for(let a of n){if(a.type===3){a.modifier===3?r+=Ht(a.value):r+=`(?:${Ht(a.value)})${Fr(a.modifier)}`;continue}t&&t.push(a.name);let c=`[^${Ht(e.delimiter)}]+?`,l=a.value;if(a.type===1?l=c:a.type===0&&(l=dc),!a.prefix.length&&!a.suffix.length){a.modifier===3||a.modifier===1?r+=`(${l})${Fr(a.modifier)}`:r+=`((?:${l})${Fr(a.modifier)})`;continue}if(a.modifier===3||a.modifier===1){r+=`(?:${Ht(a.prefix)}(${l})${Ht(a.suffix)})`,r+=Fr(a.modifier);continue}r+=`(?:${Ht(a.prefix)}`,r+=`((?:${l})(?:`,r+=Ht(a.suffix),r+=Ht(a.prefix),r+=`(?:${l}))*)${Ht(a.suffix)})`,a.modifier===0&&(r+="?")}let s=`[${Ht(e.endsWith)}]|$`,i=`[${Ht(e.delimiter)}]`;if(e.end)return e.strict||(r+=`${i}?`),e.endsWith.length?r+=`(?=${s})`:r+="$",new RegExp(r,xl(e));e.strict||(r+=`(?:${i}(?=${s}))?`);let o=!1;if(n.length){let a=n[n.length-1];a.type===3&&a.modifier===3&&(o=e.delimiter.indexOf(a)>-1)}return o||(r+=`(?=${i}|${s})`),new RegExp(r,xl(e))}var ln={delimiter:"",prefixes:"",sensitive:!0,strict:!0},qd={delimiter:".",prefixes:"",sensitive:!0,strict:!0},Xd={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function t0(n,t){return n.length?n[0]==="/"?!0:!t||n.length<2?!1:(n[0]=="\\"||n[0]=="{")&&n[1]=="/":!1}function Sh(n,t){return n.startsWith(t)?n.substring(t.length,n.length):n}function e0(n,t){return n.endsWith(t)?n.substr(0,n.length-t.length):n}function Ch(n){return!n||n.length<2?!1:n[0]==="["||(n[0]==="\\"||n[0]==="{")&&n[1]==="["}var kh=["ftp","file","http","https","ws","wss"];function Ph(n){if(!n)return!0;for(let t of kh)if(n.test(t))return!0;return!1}function n0(n,t){if(n=Sh(n,"#"),t||n==="")return n;let e=new URL("https://example.com");return e.hash=n,e.hash?e.hash.substring(1,e.hash.length):""}function r0(n,t){if(n=Sh(n,"?"),t||n==="")return n;let e=new URL("https://example.com");return e.search=n,e.search?e.search.substring(1,e.search.length):""}function s0(n,t){return t||n===""?n:Ch(n)?Th(n):Ih(n)}function i0(n,t){if(t||n==="")return n;let e=new URL("https://example.com");return e.password=n,e.password}function o0(n,t){if(t||n==="")return n;let e=new URL("https://example.com");return e.username=n,e.username}function a0(n,t,e){if(e||n==="")return n;if(t&&!kh.includes(t))return new URL(`${t}:${n}`).pathname;let r=n[0]=="/";return n=new URL(r?n:"/-"+n,"https://example.com").pathname,r||(n=n.substring(2,n.length)),n}function c0(n,t,e){return Nh(t)===n&&(n=""),e||n===""?n:Oh(n)}function l0(n,t){return n=e0(n,":"),t||n===""?n:Zc(n)}function Nh(n){switch(n){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function Zc(n){if(n==="")return n;if(/^[-+.A-Za-z0-9]*$/.test(n))return n.toLowerCase();throw new TypeError(`Invalid protocol '${n}'.`)}function u0(n){if(n==="")return n;let t=new URL("https://example.com");return t.username=n,t.username}function h0(n){if(n==="")return n;let t=new URL("https://example.com");return t.password=n,t.password}function Ih(n){if(n==="")return n;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(n))throw new TypeError(`Invalid hostname '${n}'`);let t=new URL("https://example.com");return t.hostname=n,t.hostname}function Th(n){if(n==="")return n;if(/[^0-9a-fA-F[\]:]/g.test(n))throw new TypeError(`Invalid IPv6 hostname '${n}'`);return n.toLowerCase()}function Oh(n){if(n===""||/^[0-9]*$/.test(n)&&parseInt(n)<=65535)return n;throw new TypeError(`Invalid port '${n}'.`)}function f0(n){if(n==="")return n;let t=new URL("https://example.com");return t.pathname=n[0]!=="/"?"/-"+n:n,n[0]!=="/"?t.pathname.substring(2,t.pathname.length):t.pathname}function d0(n){return n===""?n:new URL(`data:${n}`).pathname}function p0(n){if(n==="")return n;let t=new URL("https://example.com");return t.search=n,t.search.substring(1,t.search.length)}function g0(n){if(n==="")return n;let t=new URL("https://example.com");return t.hash=n,t.hash.substring(1,t.hash.length)}var jr,At,Y,J,Mn,Jr,Oe,Wr,Yr,Zr,rt,at,na,Rh,Mi,pc,Hn,ai,qr,Co,St,Gt,Hi,gc,ra,$h,Xr,ko,sa,_h,ia,Bh,ts,Po,dn,$r,Re,Ln,oa,Lh,aa,Uh,ca,Fh,la,Dh,jt,de,ua,Mh,Ah,m0=(Ah=class{constructor(n){m(this,rt);m(this,na);m(this,Mi);m(this,Hn);m(this,qr);m(this,St);m(this,Hi);m(this,ra);m(this,Xr);m(this,sa);m(this,ia);m(this,ts);m(this,dn);m(this,Re);m(this,oa);m(this,aa);m(this,ca);m(this,la);m(this,jt);m(this,ua);m(this,jr,void 0);m(this,At,[]);m(this,Y,{});m(this,J,0);m(this,Mn,1);m(this,Jr,0);m(this,Oe,0);m(this,Wr,0);m(this,Yr,0);m(this,Zr,!1);d(this,jr,n)}get result(){return u(this,Y)}parse(){for(d(this,At,vh(u(this,jr),!0));u(this,J)<u(this,At).length;d(this,J,u(this,J)+u(this,Mn))){if(d(this,Mn,1),u(this,At)[u(this,J)].type==="END"){if(u(this,Oe)===0){A(this,Mi,pc).call(this),A(this,Re,Ln).call(this)?A(this,rt,at).call(this,9,1):A(this,dn,$r).call(this)?(A(this,rt,at).call(this,8,1),u(this,Y).hash=""):(A(this,rt,at).call(this,7,0),u(this,Y).search="",u(this,Y).hash="");continue}else if(u(this,Oe)===2){A(this,Hn,ai).call(this,5);continue}A(this,rt,at).call(this,10,0);break}if(u(this,Wr)>0)if(A(this,aa,Uh).call(this))d(this,Wr,u(this,Wr)-1);else continue;if(A(this,oa,Lh).call(this)){d(this,Wr,u(this,Wr)+1);continue}switch(u(this,Oe)){case 0:A(this,Hi,gc).call(this)&&(u(this,Y).username="",u(this,Y).password="",u(this,Y).hostname="",u(this,Y).port="",u(this,Y).pathname="",u(this,Y).search="",u(this,Y).hash="",A(this,Hn,ai).call(this,1));break;case 1:if(A(this,Hi,gc).call(this)){A(this,ua,Mh).call(this);let n=7,t=1;u(this,Zr)&&(u(this,Y).pathname="/"),A(this,ra,$h).call(this)?(n=2,t=3):u(this,Zr)&&(n=2),A(this,rt,at).call(this,n,t)}break;case 2:A(this,Xr,ko).call(this)?A(this,Hn,ai).call(this,3):(A(this,ts,Po).call(this)||A(this,dn,$r).call(this)||A(this,Re,Ln).call(this))&&A(this,Hn,ai).call(this,5);break;case 3:A(this,sa,_h).call(this)?A(this,rt,at).call(this,4,1):A(this,Xr,ko).call(this)&&A(this,rt,at).call(this,5,1);break;case 4:A(this,Xr,ko).call(this)&&A(this,rt,at).call(this,5,1);break;case 5:A(this,ca,Fh).call(this)?d(this,Yr,u(this,Yr)+1):A(this,la,Dh).call(this)&&d(this,Yr,u(this,Yr)-1),A(this,ia,Bh).call(this)&&!u(this,Yr)?A(this,rt,at).call(this,6,1):A(this,ts,Po).call(this)?A(this,rt,at).call(this,7,0):A(this,dn,$r).call(this)?A(this,rt,at).call(this,8,1):A(this,Re,Ln).call(this)&&A(this,rt,at).call(this,9,1);break;case 6:A(this,ts,Po).call(this)?A(this,rt,at).call(this,7,0):A(this,dn,$r).call(this)?A(this,rt,at).call(this,8,1):A(this,Re,Ln).call(this)&&A(this,rt,at).call(this,9,1);break;case 7:A(this,dn,$r).call(this)?A(this,rt,at).call(this,8,1):A(this,Re,Ln).call(this)&&A(this,rt,at).call(this,9,1);break;case 8:A(this,Re,Ln).call(this)&&A(this,rt,at).call(this,9,1);break}}}},jr=new WeakMap,At=new WeakMap,Y=new WeakMap,J=new WeakMap,Mn=new WeakMap,Jr=new WeakMap,Oe=new WeakMap,Wr=new WeakMap,Yr=new WeakMap,Zr=new WeakMap,rt=new WeakSet,at=function(n,t){switch(u(this,Oe)){case 0:break;case 1:u(this,Y).protocol=A(this,jt,de).call(this);break;case 2:break;case 3:u(this,Y).username=A(this,jt,de).call(this);break;case 4:u(this,Y).password=A(this,jt,de).call(this);break;case 5:u(this,Y).hostname=A(this,jt,de).call(this);break;case 6:u(this,Y).port=A(this,jt,de).call(this);break;case 7:u(this,Y).pathname=A(this,jt,de).call(this);break;case 8:u(this,Y).search=A(this,jt,de).call(this);break;case 9:u(this,Y).hash=A(this,jt,de).call(this);break}A(this,na,Rh).call(this,n,t)},na=new WeakSet,Rh=function(n,t){d(this,Oe,n),d(this,Jr,u(this,J)+t),d(this,J,u(this,J)+t),d(this,Mn,0)},Mi=new WeakSet,pc=function(){d(this,J,u(this,Jr)),d(this,Mn,0)},Hn=new WeakSet,ai=function(n){A(this,Mi,pc).call(this),d(this,Oe,n)},qr=new WeakSet,Co=function(n){return n<0&&(n=u(this,At).length-n),n<u(this,At).length?u(this,At)[n]:u(this,At)[u(this,At).length-1]},St=new WeakSet,Gt=function(n,t){let e=A(this,qr,Co).call(this,n);return e.value===t&&(e.type==="CHAR"||e.type==="ESCAPED_CHAR"||e.type==="INVALID_CHAR")},Hi=new WeakSet,gc=function(){return A(this,St,Gt).call(this,u(this,J),":")},ra=new WeakSet,$h=function(){return A(this,St,Gt).call(this,u(this,J)+1,"/")&&A(this,St,Gt).call(this,u(this,J)+2,"/")},Xr=new WeakSet,ko=function(){return A(this,St,Gt).call(this,u(this,J),"@")},sa=new WeakSet,_h=function(){return A(this,St,Gt).call(this,u(this,J),":")},ia=new WeakSet,Bh=function(){return A(this,St,Gt).call(this,u(this,J),":")},ts=new WeakSet,Po=function(){return A(this,St,Gt).call(this,u(this,J),"/")},dn=new WeakSet,$r=function(){if(A(this,St,Gt).call(this,u(this,J),"?"))return!0;if(u(this,At)[u(this,J)].value!=="?")return!1;let n=A(this,qr,Co).call(this,u(this,J)-1);return n.type!=="NAME"&&n.type!=="REGEX"&&n.type!=="CLOSE"&&n.type!=="ASTERISK"},Re=new WeakSet,Ln=function(){return A(this,St,Gt).call(this,u(this,J),"#")},oa=new WeakSet,Lh=function(){return u(this,At)[u(this,J)].type=="OPEN"},aa=new WeakSet,Uh=function(){return u(this,At)[u(this,J)].type=="CLOSE"},ca=new WeakSet,Fh=function(){return A(this,St,Gt).call(this,u(this,J),"[")},la=new WeakSet,Dh=function(){return A(this,St,Gt).call(this,u(this,J),"]")},jt=new WeakSet,de=function(){let n=u(this,At)[u(this,J)],t=A(this,qr,Co).call(this,u(this,Jr)).index;return u(this,jr).substring(t,n.index)},ua=new WeakSet,Mh=function(){let n={};Object.assign(n,ln),n.encodePart=Zc;let t=Zd(A(this,jt,de).call(this),void 0,n);d(this,Zr,Ph(t))},Ah),Ba=["protocol","username","password","hostname","port","pathname","search","hash"],rn="*";function Sl(n,t){if(typeof n!="string")throw new TypeError("parameter 1 is not of type 'string'.");let e=new URL(n,t);return{protocol:e.protocol.substring(0,e.protocol.length-1),username:e.username,password:e.password,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search!==""?e.search.substring(1,e.search.length):void 0,hash:e.hash!==""?e.hash.substring(1,e.hash.length):void 0}}function Pe(n,t){return t?ci(n):n}function ti(n,t,e){let r;if(typeof t.baseURL=="string")try{r=new URL(t.baseURL),n.protocol=Pe(r.protocol.substring(0,r.protocol.length-1),e),n.username=Pe(r.username,e),n.password=Pe(r.password,e),n.hostname=Pe(r.hostname,e),n.port=Pe(r.port,e),n.pathname=Pe(r.pathname,e),n.search=Pe(r.search.substring(1,r.search.length),e),n.hash=Pe(r.hash.substring(1,r.hash.length),e)}catch{throw new TypeError(`invalid baseURL '${t.baseURL}'.`)}if(typeof t.protocol=="string"&&(n.protocol=l0(t.protocol,e)),typeof t.username=="string"&&(n.username=o0(t.username,e)),typeof t.password=="string"&&(n.password=i0(t.password,e)),typeof t.hostname=="string"&&(n.hostname=s0(t.hostname,e)),typeof t.port=="string"&&(n.port=c0(t.port,n.protocol,e)),typeof t.pathname=="string"){if(n.pathname=t.pathname,r&&!t0(n.pathname,e)){let s=r.pathname.lastIndexOf("/");s>=0&&(n.pathname=Pe(r.pathname.substring(0,s+1),e)+n.pathname)}n.pathname=a0(n.pathname,n.protocol,e)}return typeof t.search=="string"&&(n.search=r0(t.search,e)),typeof t.hash=="string"&&(n.hash=n0(t.hash,e)),n}function ci(n){return n.replace(/([+*?:{}()\\])/g,"\\$1")}function y0(n){return n.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function w0(n,t){t.delimiter??(t.delimiter="/#?"),t.prefixes??(t.prefixes="./"),t.sensitive??(t.sensitive=!1),t.strict??(t.strict=!1),t.end??(t.end=!0),t.start??(t.start=!0),t.endsWith="";let e=".*",r=`[^${y0(t.delimiter)}]+?`,s=/[$_\u200C\u200D\p{ID_Continue}]/u,i="";for(let o=0;o<n.length;++o){let a=n[o];if(a.type===3){if(a.modifier===3){i+=ci(a.value);continue}i+=`{${ci(a.value)}}${Fr(a.modifier)}`;continue}let c=a.hasCustomName(),l=!!a.suffix.length||!!a.prefix.length&&(a.prefix.length!==1||!t.prefixes.includes(a.prefix)),f=o>0?n[o-1]:null,h=o<n.length-1?n[o+1]:null;if(!l&&c&&a.type===1&&a.modifier===3&&h&&!h.prefix.length&&!h.suffix.length)if(h.type===3){let p=h.value.length>0?h.value[0]:"";l=s.test(p)}else l=!h.hasCustomName();if(!l&&!a.prefix.length&&f&&f.type===3){let p=f.value[f.value.length-1];l=t.prefixes.includes(p)}l&&(i+="{"),i+=ci(a.prefix),c&&(i+=`:${a.name}`),a.type===2?i+=`(${a.value})`:a.type===1?c||(i+=`(${r})`):a.type===0&&(!c&&(!f||f.type===3||f.modifier!==3||l||a.prefix!=="")?i+="*":i+=`(${e})`),a.type===1&&c&&a.suffix.length&&s.test(a.suffix[0])&&(i+="\\"),i+=ci(a.suffix),l&&(i+="}"),a.modifier!==3&&(i+=Fr(a.modifier))}return i}var pe,Gn,es,ct,ge,bh,A0=(bh=class{constructor(n={},t,e){m(this,pe,void 0);m(this,Gn,{});m(this,es,{});m(this,ct,{});m(this,ge,{});try{let r;if(typeof t=="string"?r=t:e=t,typeof n=="string"){let a=new m0(n);if(a.parse(),n=a.result,r===void 0&&typeof n.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");n.baseURL=r}else{if(!n||typeof n!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(r)throw new TypeError("parameter 1 is not of type 'string'.")}typeof e>"u"&&(e={ignoreCase:!1});let s={ignoreCase:e.ignoreCase===!0};d(this,pe,ti({pathname:rn,protocol:rn,username:rn,password:rn,hostname:rn,port:rn,search:rn,hash:rn},n,!0)),Nh(u(this,pe).protocol)===u(this,pe).port&&(u(this,pe).port="");let o;for(o of Ba){if(!(o in u(this,pe)))continue;let a={},c=u(this,pe)[o];switch(u(this,es)[o]=[],o){case"protocol":Object.assign(a,ln),a.encodePart=Zc;break;case"username":Object.assign(a,ln),a.encodePart=u0;break;case"password":Object.assign(a,ln),a.encodePart=h0;break;case"hostname":Object.assign(a,qd),Ch(c)?a.encodePart=Th:a.encodePart=Ih;break;case"port":Object.assign(a,ln),a.encodePart=Oh;break;case"pathname":Ph(u(this,Gn).protocol)?(Object.assign(a,Xd,s),a.encodePart=f0):(Object.assign(a,ln,s),a.encodePart=d0);break;case"search":Object.assign(a,ln,s),a.encodePart=p0;break;case"hash":Object.assign(a,ln,s),a.encodePart=g0;break}try{u(this,ge)[o]=Eh(c,a),u(this,Gn)[o]=xh(u(this,ge)[o],u(this,es)[o],a),u(this,ct)[o]=w0(u(this,ge)[o],a)}catch{throw new TypeError(`invalid ${o} pattern '${u(this,pe)[o]}'.`)}}}catch(r){throw new TypeError(`Failed to construct 'URLPattern': ${r.message}`)}}test(n={},t){let e={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof n!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof n>"u")return!1;try{typeof n=="object"?e=ti(e,n,!1):e=ti(e,Sl(n,t),!1)}catch{return!1}let r;for(r of Ba)if(!u(this,Gn)[r].exec(e[r]))return!1;return!0}exec(n={},t){let e={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof n!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof n>"u")return;try{typeof n=="object"?e=ti(e,n,!1):e=ti(e,Sl(n,t),!1)}catch{return null}let r={};t?r.inputs=[n,t]:r.inputs=[n];let s;for(s of Ba){let i=u(this,Gn)[s].exec(e[s]);if(!i)return null;let o={};for(let[a,c]of u(this,es)[s].entries())if(typeof c=="string"||typeof c=="number"){let l=i[a+1];o[c]=l}r[s]={input:e[s]??"",groups:o}}return r}static compareComponent(n,t,e){let r=(a,c)=>{for(let l of["type","modifier","prefix","value","suffix"]){if(a[l]<c[l])return-1;if(a[l]!==c[l])return 1}return 0},s=new mi(3,"","","","",3),i=new mi(0,"","","","",3),o=(a,c)=>{let l=0;for(;l<Math.min(a.length,c.length);++l){let f=r(a[l],c[l]);if(f)return f}return a.length===c.length?0:r(a[l]??s,c[l]??s)};return!u(t,ct)[n]&&!u(e,ct)[n]?0:u(t,ct)[n]&&!u(e,ct)[n]?o(u(t,ge)[n],[i]):!u(t,ct)[n]&&u(e,ct)[n]?o([i],u(e,ge)[n]):o(u(t,ge)[n],u(e,ge)[n])}get protocol(){return u(this,ct).protocol}get username(){return u(this,ct).username}get password(){return u(this,ct).password}get hostname(){return u(this,ct).hostname}get port(){return u(this,ct).port}get pathname(){return u(this,ct).pathname}get search(){return u(this,ct).search}get hash(){return u(this,ct).hash}},pe=new WeakMap,Gn=new WeakMap,es=new WeakMap,ct=new WeakMap,ge=new WeakMap,bh);globalThis.URLPattern||(globalThis.URLPattern=A0);/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */(function(){var n=!1,t=[],e=!1,r;function s(){window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}function i(){window.customElements&&customElements.polyfillWrapFlushCallback&&customElements.polyfillWrapFlushCallback(function(k){r=k,e&&r()})}function o(){i(),a()}function a(){window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(window.document),n=!0,c().then(s)}function c(){e=!1;var k=t.map(function(S){return S instanceof Function?S():S});return t=[],Promise.all(k).then(function(){e=!0,r&&r()}).catch(function(S){console.error(S)})}window.WebComponents=window.WebComponents||{},window.WebComponents.ready=window.WebComponents.ready||!1,window.WebComponents.waitFor=window.WebComponents.waitFor||function(k){k&&(t.push(k),n&&c())},window.WebComponents._batchCustomElements=i;var l="webcomponents-loader.js",f=[];(!("attachShadow"in Element.prototype&&"getRootNode"in Element.prototype)||window.ShadyDOM&&window.ShadyDOM.force)&&f.push("sd"),(!window.customElements||window.customElements.forcePolyfill)&&f.push("ce");var h=function(){var k=document.createElement("template");if(!("content"in k)||!(k.content.cloneNode()instanceof DocumentFragment))return!0;var S=document.createElement("template");S.content.appendChild(document.createElement("div")),k.content.appendChild(S);var C=k.cloneNode(!0);return C.content.childNodes.length===0||C.content.firstChild.content.childNodes.length===0}();if((!window.Promise||!Array.from||!window.URL||!window.Symbol||h)&&(f=["sd-ce-pf"]),f.length){var p=function(){var k=function($){return $},S={createHTML:k,createScript:k,createScriptURL:k},C=window.trustedTypes&&window.trustedTypes.createPolicy("webcomponents-loader",S);return C||S}(),g,b="bundles/webcomponents-"+f.join("-")+".js";if(window.WebComponents.root)g=window.WebComponents.root+b,window.trustedTypes&&window.trustedTypes.isScriptURL(window.WebComponents.root)&&(g=p.createScriptURL(g));else{var E=document.querySelector('script[src*="'+l+'"]');g=p.createScriptURL(E.src.replace(l,b))}var v=document.createElement("script");v.src=g,document.readyState==="loading"?(v.setAttribute("onload",p.createScript("window.WebComponents._batchCustomElements()")),document.write(p.createHTML(v.outerHTML)),document.addEventListener("DOMContentLoaded",a)):(v.addEventListener("load",function(){o()}),v.addEventListener("error",function(){throw new Error("Could not load polyfill bundle"+g)}),document.head.appendChild(v))}else document.readyState==="complete"?(n=!0,s()):(window.addEventListener("load",a),window.addEventListener("DOMContentLoaded",function(){window.removeEventListener("load",a),a()}))})();(function(n){typeof define=="function"&&define.amd?define(n):n()})(function(){/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/var n,t,e="__scoped";(n=globalThis.reactiveElementPolyfillSupport)!==null&&n!==void 0||(globalThis.reactiveElementPolyfillSupport=function(o){var a=o.ReactiveElement;if(window.ShadyCSS!==void 0&&(!window.ShadyCSS.nativeShadow||window.ShadyCSS.ApplyShim)){var c=a.prototype;window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch===!0&&window.ShadyDOM.patchElementProto(c);var l=c.createRenderRoot;c.createRenderRoot=function(){var p,g,b,E=this.localName;if(window.ShadyCSS.nativeShadow)return l.call(this);if(!this.constructor.hasOwnProperty(e)){this.constructor[e]=!0;var v=this.constructor.elementStyles.map(function(k){return k instanceof CSSStyleSheet?Array.from(k.cssRules).reduce(function(S,C){return S+C.cssText},""):k.cssText});(g=(p=window.ShadyCSS)===null||p===void 0?void 0:p.ScopingShim)===null||g===void 0||g.prepareAdoptedCssText(v,E),this.constructor._$AJ===void 0&&window.ShadyCSS.prepareTemplateStyles(document.createElement("template"),E)}return(b=this.shadowRoot)!==null&&b!==void 0?b:this.attachShadow(this.constructor.shadowRootOptions)};var f=c.connectedCallback;c.connectedCallback=function(){f.call(this),this.hasUpdated&&window.ShadyCSS.styleElement(this)};var h=c._$AE;c._$AE=function(p){this.hasUpdated||window.ShadyCSS.styleElement(this),h.call(this,p)}}});var r,s=new Set,i=new Map;(t=globalThis.litHtmlPolyfillSupport)!==null&&t!==void 0||(globalThis.litHtmlPolyfillSupport=function(o,a){if(window.ShadyCSS!==void 0&&(!window.ShadyCSS.nativeShadow||window.ShadyCSS.ApplyShim)){var c=function(v){return v!==void 0&&!s.has(v)},l=function(v){var k=i.get(v);return k===void 0&&i.set(v,k=[]),k},f=new Map,h=o.createElement;o.createElement=function(v,k){var S=h.call(o,v,k),C=k==null?void 0:k.scope;if(C!==void 0&&(window.ShadyCSS.nativeShadow||window.ShadyCSS.prepareTemplateDom(S,C),c(C))){var $=l(C),B=S.content.querySelectorAll("style");$.push.apply($,Array.from(B).map(function(G){var Q;return(Q=G.parentNode)===null||Q===void 0||Q.removeChild(G),G.textContent}))}return S};var p=document.createDocumentFragment(),g=document.createComment(""),b=a.prototype,E=b._$AI;b._$AI=function(v,k){var S,C;k===void 0&&(k=this);var $=this._$AA.parentNode,B=(S=this.options)===null||S===void 0?void 0:S.scope;if($ instanceof ShadowRoot&&c(B)){var G=this._$AA,Q=this._$AB;p.appendChild(g),this._$AA=g,this._$AB=null,E.call(this,v,k);var L=v!=null&&v._$litType$?this._$AH._$AD.el:document.createElement("template");if(function(tt,nn){var ke,Ir=l(tt),fo=Ir.length!==0;fo&&((ke=document.createElement("style")).textContent=Ir.join(`
`),nn.content.appendChild(ke)),s.add(tt),i.delete(tt),window.ShadyCSS.prepareTemplateStyles(nn,tt),fo&&window.ShadyCSS.nativeShadow&&(ke=nn.content.querySelector("style"))!==null&&nn.content.appendChild(ke)}(B,L),p.removeChild(g),(C=window.ShadyCSS)===null||C===void 0?void 0:C.nativeShadow){var K=L.content.querySelector("style");K!==null&&p.appendChild(K.cloneNode(!0))}$.insertBefore(p,Q),this._$AA=G,this._$AB=Q}else E.call(this,v,k)},b._$AC=function(v){var k,S=(k=this.options)===null||k===void 0?void 0:k.scope,C=f.get(S);C===void 0&&f.set(S,C=new Map);var $=C.get(v.strings);return $===void 0&&C.set(v.strings,$=new o(v,this.options)),$}}}),(r=globalThis.litElementPolyfillSupport)!==null&&r!==void 0||(globalThis.litElementPolyfillSupport=function(o){var a=o.LitElement;if(window.ShadyCSS!==void 0&&(!window.ShadyCSS.nativeShadow||window.ShadyCSS.ApplyShim)){a._$AJ=!0;var c=a.prototype,l=c.createRenderRoot;c.createRenderRoot=function(){return this.renderOptions.scope=this.localName,l.call(this)}}})});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const No=window,qc=No.ShadowRoot&&(No.ShadyCSS===void 0||No.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Hh=Symbol(),Cl=new WeakMap;let b0=class{constructor(t,e,r){if(this._$cssResult$=!0,r!==Hh)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(qc&&t===void 0){const r=e!==void 0&&e.length===1;r&&(t=Cl.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&Cl.set(e,t))}return t}toString(){return this.cssText}};const v0=n=>new b0(typeof n=="string"?n:n+"",void 0,Hh),E0=(n,t)=>{qc?n.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):t.forEach(e=>{const r=document.createElement("style"),s=No.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=e.cssText,n.appendChild(r)})},kl=qc?n=>n:n=>n instanceof CSSStyleSheet?(t=>{let e="";for(const r of t.cssRules)e+=r.cssText;return v0(e)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var La;const Do=window,Pl=Do.trustedTypes,x0=Pl?Pl.emptyScript:"",Nl=Do.reactiveElementPolyfillSupport,mc={toAttribute(n,t){switch(t){case Boolean:n=n?x0:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,t){let e=n;switch(t){case Boolean:e=n!==null;break;case Number:e=n===null?null:Number(n);break;case Object:case Array:try{e=JSON.parse(n)}catch{e=null}}return e}},Gh=(n,t)=>t!==n&&(t==t||n==n),Ua={attribute:!0,type:String,converter:mc,reflect:!1,hasChanged:Gh},yc="finalized";let ei=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;this.finalize(),((e=this.h)!==null&&e!==void 0?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach((e,r)=>{const s=this._$Ep(r,e);s!==void 0&&(this._$Ev.set(s,r),t.push(s))}),t}static createProperty(t,e=Ua){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const r=typeof t=="symbol"?Symbol():"__"+t,s=this.getPropertyDescriptor(t,r,e);s!==void 0&&Object.defineProperty(this.prototype,t,s)}}static getPropertyDescriptor(t,e,r){return{get(){return this[e]},set(s){const i=this[t];this[e]=s,this.requestUpdate(t,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||Ua}static finalize(){if(this.hasOwnProperty(yc))return!1;this[yc]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),t.h!==void 0&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,r=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const s of r)this.createProperty(s,e[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)e.unshift(kl(s))}else t!==void 0&&e.push(kl(t));return e}static _$Ep(t,e){const r=e.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(t=this.constructor.h)===null||t===void 0||t.forEach(e=>e(this))}addController(t){var e,r;((e=this._$ES)!==null&&e!==void 0?e:this._$ES=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((r=t.hostConnected)===null||r===void 0||r.call(t))}removeController(t){var e;(e=this._$ES)===null||e===void 0||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])})}createRenderRoot(){var t;const e=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return E0(e,this.constructor.elementStyles),e}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$ES)===null||t===void 0||t.forEach(e=>{var r;return(r=e.hostConnected)===null||r===void 0?void 0:r.call(e)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$ES)===null||t===void 0||t.forEach(e=>{var r;return(r=e.hostDisconnected)===null||r===void 0?void 0:r.call(e)})}attributeChangedCallback(t,e,r){this._$AK(t,r)}_$EO(t,e,r=Ua){var s;const i=this.constructor._$Ep(t,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?r.converter:mc).toAttribute(e,r.type);this._$El=t,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}_$AK(t,e){var r;const s=this.constructor,i=s._$Ev.get(t);if(i!==void 0&&this._$El!==i){const o=s.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:mc;this._$El=i,this[i]=a.fromAttribute(e,o.type),this._$El=null}}requestUpdate(t,e,r){let s=!0;t!==void 0&&(((r=r||this.constructor.getPropertyOptions(t)).hasChanged||Gh)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),r.reflect===!0&&this._$El!==t&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(t,r))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((s,i)=>this[i]=s),this._$Ei=void 0);let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(t=this._$ES)===null||t===void 0||t.forEach(s=>{var i;return(i=s.hostUpdate)===null||i===void 0?void 0:i.call(s)}),this.update(r)):this._$Ek()}catch(s){throw e=!1,this._$Ek(),s}e&&this._$AE(r)}willUpdate(t){}_$AE(t){var e;(e=this._$ES)===null||e===void 0||e.forEach(r=>{var s;return(s=r.hostUpdated)===null||s===void 0?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){this._$EC!==void 0&&(this._$EC.forEach((e,r)=>this._$EO(r,this[r],e)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}};ei[yc]=!0,ei.elementProperties=new Map,ei.elementStyles=[],ei.shadowRootOptions={mode:"open"},Nl==null||Nl({ReactiveElement:ei}),((La=Do.reactiveElementVersions)!==null&&La!==void 0?La:Do.reactiveElementVersions=[]).push("1.6.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Fa;const Mo=window,Ms=Mo.trustedTypes,Il=Ms?Ms.createPolicy("lit-html",{createHTML:n=>n}):void 0,Ho="$lit$",je=`lit$${(Math.random()+"").slice(9)}$`,Xc="?"+je,S0=`<${Xc}>`,br=document,Go=()=>br.createComment(""),Si=n=>n===null||typeof n!="object"&&typeof n!="function",zh=Array.isArray,Vh=n=>zh(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",Da=`[ 	
\f\r]`,ni=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Tl=/-->/g,Ol=/>/g,$n=RegExp(`>|${Da}(?:([^\\s"'>=/]+)(${Da}*=${Da}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Rl=/'/g,$l=/"/g,Qh=/^(?:script|style|textarea|title)$/i,qe=Symbol.for("lit-noChange"),Z=Symbol.for("lit-nothing"),_l=new WeakMap,Fn=br.createTreeWalker(br,129,null,!1),Kh=(n,t)=>{const e=n.length-1,r=[];let s,i=t===2?"<svg>":"",o=ni;for(let c=0;c<e;c++){const l=n[c];let f,h,p=-1,g=0;for(;g<l.length&&(o.lastIndex=g,h=o.exec(l),h!==null);)g=o.lastIndex,o===ni?h[1]==="!--"?o=Tl:h[1]!==void 0?o=Ol:h[2]!==void 0?(Qh.test(h[2])&&(s=RegExp("</"+h[2],"g")),o=$n):h[3]!==void 0&&(o=$n):o===$n?h[0]===">"?(o=s??ni,p=-1):h[1]===void 0?p=-2:(p=o.lastIndex-h[2].length,f=h[1],o=h[3]===void 0?$n:h[3]==='"'?$l:Rl):o===$l||o===Rl?o=$n:o===Tl||o===Ol?o=ni:(o=$n,s=void 0);const b=o===$n&&n[c+1].startsWith("/>")?" ":"";i+=o===ni?l+S0:p>=0?(r.push(f),l.slice(0,p)+Ho+l.slice(p)+je+b):l+je+(p===-2?(r.push(void 0),c):b)}const a=i+(n[e]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return[Il!==void 0?Il.createHTML(a):a,r]};let wc=class jh{constructor({strings:t,_$litType$:e},r){let s;this.parts=[];let i=0,o=0;const a=t.length-1,c=this.parts,[l,f]=Kh(t,e);if(this.el=jh.createElement(l,r),Fn.currentNode=this.el.content,e===2){const h=this.el.content,p=h.firstChild;p.remove(),h.append(...p.childNodes)}for(;(s=Fn.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes()){const h=[];for(const p of s.getAttributeNames())if(p.endsWith(Ho)||p.startsWith(je)){const g=f[o++];if(h.push(p),g!==void 0){const b=s.getAttribute(g.toLowerCase()+Ho).split(je),E=/([.?@])?(.*)/.exec(g);c.push({type:1,index:i,name:E[2],strings:b,ctor:E[1]==="."?Yh:E[1]==="?"?Zh:E[1]==="@"?qh:io})}else c.push({type:6,index:i})}for(const p of h)s.removeAttribute(p)}if(Qh.test(s.tagName)){const h=s.textContent.split(je),p=h.length-1;if(p>0){s.textContent=Ms?Ms.emptyScript:"";for(let g=0;g<p;g++)s.append(h[g],Go()),Fn.nextNode(),c.push({type:2,index:++i});s.append(h[p],Go())}}}else if(s.nodeType===8)if(s.data===Xc)c.push({type:2,index:i});else{let h=-1;for(;(h=s.data.indexOf(je,h+1))!==-1;)c.push({type:7,index:i}),h+=je.length-1}i++}}static createElement(t,e){const r=br.createElement("template");return r.innerHTML=t,r}};function vr(n,t,e=n,r){var s,i,o,a;if(t===qe)return t;let c=r!==void 0?(s=e._$Co)===null||s===void 0?void 0:s[r]:e._$Cl;const l=Si(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==l&&((i=c==null?void 0:c._$AO)===null||i===void 0||i.call(c,!1),l===void 0?c=void 0:(c=new l(n),c._$AT(n,e,r)),r!==void 0?((o=(a=e)._$Co)!==null&&o!==void 0?o:a._$Co=[])[r]=c:e._$Cl=c),c!==void 0&&(t=vr(n,c._$AS(n,t.values),c,r)),t}let Jh=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:r},parts:s}=this._$AD,i=((e=t==null?void 0:t.creationScope)!==null&&e!==void 0?e:br).importNode(r,!0);Fn.currentNode=i;let o=Fn.nextNode(),a=0,c=0,l=s[0];for(;l!==void 0;){if(a===l.index){let f;l.type===2?f=new tl(o,o.nextSibling,this,t):l.type===1?f=new l.ctor(o,l.name,l.strings,this,t):l.type===6&&(f=new Xh(o,this,t)),this._$AV.push(f),l=s[++c]}a!==(l==null?void 0:l.index)&&(o=Fn.nextNode(),a++)}return Fn.currentNode=br,i}v(t){let e=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,e),e+=r.strings.length-2):r._$AI(t[e])),e++}},tl=class Wh{constructor(t,e,r,s){var i;this.type=2,this._$AH=Z,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=r,this.options=s,this._$Cp=(i=s==null?void 0:s.isConnected)===null||i===void 0||i}get _$AU(){var t,e;return(e=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&e!==void 0?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=vr(this,t,e),Si(t)?t===Z||t==null||t===""?(this._$AH!==Z&&this._$AR(),this._$AH=Z):t!==this._$AH&&t!==qe&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):Vh(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Z&&Si(this._$AH)?this._$AA.nextSibling.data=t:this.$(br.createTextNode(t)),this._$AH=t}g(t){var e;const{values:r,_$litType$:s}=t,i=typeof s=="number"?this._$AC(t):(s.el===void 0&&(s.el=wc.createElement(s.h,this.options)),s);if(((e=this._$AH)===null||e===void 0?void 0:e._$AD)===i)this._$AH.v(r);else{const o=new Jh(i,this),a=o.u(this.options);o.v(r),this.$(a),this._$AH=o}}_$AC(t){let e=_l.get(t.strings);return e===void 0&&_l.set(t.strings,e=new wc(t)),e}T(t){zh(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let r,s=0;for(const i of t)s===e.length?e.push(r=new Wh(this.k(Go()),this.k(Go()),this,this.options)):r=e[s],r._$AI(i),s++;s<e.length&&(this._$AR(r&&r._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,e);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var e;this._$AM===void 0&&(this._$Cp=t,(e=this._$AP)===null||e===void 0||e.call(this,t))}},io=class{constructor(t,e,r,s,i){this.type=1,this._$AH=Z,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Z}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,r,s){const i=this.strings;let o=!1;if(i===void 0)t=vr(this,t,e,0),o=!Si(t)||t!==this._$AH&&t!==qe,o&&(this._$AH=t);else{const a=t;let c,l;for(t=i[0],c=0;c<i.length-1;c++)l=vr(this,a[r+c],e,c),l===qe&&(l=this._$AH[c]),o||(o=!Si(l)||l!==this._$AH[c]),l===Z?t=Z:t!==Z&&(t+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(t)}j(t){t===Z?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},Yh=class extends io{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Z?void 0:t}};const C0=Ms?Ms.emptyScript:"";let Zh=class extends io{constructor(){super(...arguments),this.type=4}j(t){t&&t!==Z?this.element.setAttribute(this.name,C0):this.element.removeAttribute(this.name)}},qh=class extends io{constructor(t,e,r,s,i){super(t,e,r,s,i),this.type=5}_$AI(t,e=this){var r;if((t=(r=vr(this,t,e,0))!==null&&r!==void 0?r:Z)===qe)return;const s=this._$AH,i=t===Z&&s!==Z||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,o=t!==Z&&(s===Z||i);i&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,r;typeof this._$AH=="function"?this._$AH.call((r=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&r!==void 0?r:this.element,t):this._$AH.handleEvent(t)}},Xh=class{constructor(t,e,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){vr(this,t)}};const k0={O:Ho,P:je,A:Xc,C:1,M:Kh,L:Jh,D:Vh,R:vr,I:tl,V:io,H:Zh,N:qh,U:Yh,F:Xh},Bl=Mo.litHtmlPolyfillSupport;Bl==null||Bl(wc,tl),((Fa=Mo.litHtmlVersions)!==null&&Fa!==void 0?Fa:Mo.litHtmlVersions=[]).push("2.7.4");/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Io=window,el=Io.ShadowRoot&&(Io.ShadyCSS===void 0||Io.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,tf=Symbol(),Ll=new WeakMap;let P0=class{constructor(t,e,r){if(this._$cssResult$=!0,r!==tf)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(el&&t===void 0){const r=e!==void 0&&e.length===1;r&&(t=Ll.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&Ll.set(e,t))}return t}toString(){return this.cssText}};const N0=n=>new P0(typeof n=="string"?n:n+"",void 0,tf),I0=(n,t)=>{el?n.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):t.forEach(e=>{const r=document.createElement("style"),s=Io.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=e.cssText,n.appendChild(r)})},Ul=el?n=>n:n=>n instanceof CSSStyleSheet?(t=>{let e="";for(const r of t.cssRules)e+=r.cssText;return N0(e)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ma;const zo=window,Fl=zo.trustedTypes,T0=Fl?Fl.emptyScript:"",Dl=zo.reactiveElementPolyfillSupport,Ac={toAttribute(n,t){switch(t){case Boolean:n=n?T0:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,t){let e=n;switch(t){case Boolean:e=n!==null;break;case Number:e=n===null?null:Number(n);break;case Object:case Array:try{e=JSON.parse(n)}catch{e=null}}return e}},ef=(n,t)=>t!==n&&(t==t||n==n),Ha={attribute:!0,type:String,converter:Ac,reflect:!1,hasChanged:ef};let _r=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;this.finalize(),((e=this.h)!==null&&e!==void 0?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach((e,r)=>{const s=this._$Ep(r,e);s!==void 0&&(this._$Ev.set(s,r),t.push(s))}),t}static createProperty(t,e=Ha){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const r=typeof t=="symbol"?Symbol():"__"+t,s=this.getPropertyDescriptor(t,r,e);s!==void 0&&Object.defineProperty(this.prototype,t,s)}}static getPropertyDescriptor(t,e,r){return{get(){return this[e]},set(s){const i=this[t];this[e]=s,this.requestUpdate(t,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||Ha}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),t.h!==void 0&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,r=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const s of r)this.createProperty(s,e[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)e.unshift(Ul(s))}else t!==void 0&&e.push(Ul(t));return e}static _$Ep(t,e){const r=e.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(t=this.constructor.h)===null||t===void 0||t.forEach(e=>e(this))}addController(t){var e,r;((e=this._$ES)!==null&&e!==void 0?e:this._$ES=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((r=t.hostConnected)===null||r===void 0||r.call(t))}removeController(t){var e;(e=this._$ES)===null||e===void 0||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])})}createRenderRoot(){var t;const e=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return I0(e,this.constructor.elementStyles),e}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$ES)===null||t===void 0||t.forEach(e=>{var r;return(r=e.hostConnected)===null||r===void 0?void 0:r.call(e)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$ES)===null||t===void 0||t.forEach(e=>{var r;return(r=e.hostDisconnected)===null||r===void 0?void 0:r.call(e)})}attributeChangedCallback(t,e,r){this._$AK(t,r)}_$EO(t,e,r=Ha){var s;const i=this.constructor._$Ep(t,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?r.converter:Ac).toAttribute(e,r.type);this._$El=t,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}_$AK(t,e){var r;const s=this.constructor,i=s._$Ev.get(t);if(i!==void 0&&this._$El!==i){const o=s.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:Ac;this._$El=i,this[i]=a.fromAttribute(e,o.type),this._$El=null}}requestUpdate(t,e,r){let s=!0;t!==void 0&&(((r=r||this.constructor.getPropertyOptions(t)).hasChanged||ef)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),r.reflect===!0&&this._$El!==t&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(t,r))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((s,i)=>this[i]=s),this._$Ei=void 0);let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(t=this._$ES)===null||t===void 0||t.forEach(s=>{var i;return(i=s.hostUpdate)===null||i===void 0?void 0:i.call(s)}),this.update(r)):this._$Ek()}catch(s){throw e=!1,this._$Ek(),s}e&&this._$AE(r)}willUpdate(t){}_$AE(t){var e;(e=this._$ES)===null||e===void 0||e.forEach(r=>{var s;return(s=r.hostUpdated)===null||s===void 0?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){this._$EC!==void 0&&(this._$EC.forEach((e,r)=>this._$EO(r,this[r],e)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}};_r.finalized=!0,_r.elementProperties=new Map,_r.elementStyles=[],_r.shadowRootOptions={mode:"open"},Dl==null||Dl({ReactiveElement:_r}),((Ma=zo.reactiveElementVersions)!==null&&Ma!==void 0?Ma:zo.reactiveElementVersions=[]).push("1.6.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ga;const Vo=window,Hs=Vo.trustedTypes,Ml=Hs?Hs.createPolicy("lit-html",{createHTML:n=>n}):void 0,bc="$lit$",hn=`lit$${(Math.random()+"").slice(9)}$`,nf="?"+hn,O0=`<${nf}>`,Gs=document,Ci=()=>Gs.createComment(""),ki=n=>n===null||typeof n!="object"&&typeof n!="function",rf=Array.isArray,R0=n=>rf(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",za=`[ 	
\f\r]`,ri=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Hl=/-->/g,Gl=/>/g,_n=RegExp(`>|${za}(?:([^\\s"'>=/]+)(${za}*=${za}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),zl=/'/g,Vl=/"/g,sf=/^(?:script|style|textarea|title)$/i,$0=n=>(t,...e)=>({_$litType$:n,strings:t,values:e}),$1=$0(1),zs=Symbol.for("lit-noChange"),ut=Symbol.for("lit-nothing"),Ql=new WeakMap,Vr=Gs.createTreeWalker(Gs,129,null,!1),_0=(n,t)=>{const e=n.length-1,r=[];let s,i=t===2?"<svg>":"",o=ri;for(let c=0;c<e;c++){const l=n[c];let f,h,p=-1,g=0;for(;g<l.length&&(o.lastIndex=g,h=o.exec(l),h!==null);)g=o.lastIndex,o===ri?h[1]==="!--"?o=Hl:h[1]!==void 0?o=Gl:h[2]!==void 0?(sf.test(h[2])&&(s=RegExp("</"+h[2],"g")),o=_n):h[3]!==void 0&&(o=_n):o===_n?h[0]===">"?(o=s??ri,p=-1):h[1]===void 0?p=-2:(p=o.lastIndex-h[2].length,f=h[1],o=h[3]===void 0?_n:h[3]==='"'?Vl:zl):o===Vl||o===zl?o=_n:o===Hl||o===Gl?o=ri:(o=_n,s=void 0);const b=o===_n&&n[c+1].startsWith("/>")?" ":"";i+=o===ri?l+O0:p>=0?(r.push(f),l.slice(0,p)+bc+l.slice(p)+hn+b):l+hn+(p===-2?(r.push(void 0),c):b)}const a=i+(n[e]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return[Ml!==void 0?Ml.createHTML(a):a,r]};class Pi{constructor({strings:t,_$litType$:e},r){let s;this.parts=[];let i=0,o=0;const a=t.length-1,c=this.parts,[l,f]=_0(t,e);if(this.el=Pi.createElement(l,r),Vr.currentNode=this.el.content,e===2){const h=this.el.content,p=h.firstChild;p.remove(),h.append(...p.childNodes)}for(;(s=Vr.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes()){const h=[];for(const p of s.getAttributeNames())if(p.endsWith(bc)||p.startsWith(hn)){const g=f[o++];if(h.push(p),g!==void 0){const b=s.getAttribute(g.toLowerCase()+bc).split(hn),E=/([.?@])?(.*)/.exec(g);c.push({type:1,index:i,name:E[2],strings:b,ctor:E[1]==="."?L0:E[1]==="?"?F0:E[1]==="@"?D0:Ea})}else c.push({type:6,index:i})}for(const p of h)s.removeAttribute(p)}if(sf.test(s.tagName)){const h=s.textContent.split(hn),p=h.length-1;if(p>0){s.textContent=Hs?Hs.emptyScript:"";for(let g=0;g<p;g++)s.append(h[g],Ci()),Vr.nextNode(),c.push({type:2,index:++i});s.append(h[p],Ci())}}}else if(s.nodeType===8)if(s.data===nf)c.push({type:2,index:i});else{let h=-1;for(;(h=s.data.indexOf(hn,h+1))!==-1;)c.push({type:7,index:i}),h+=hn.length-1}i++}}static createElement(t,e){const r=Gs.createElement("template");return r.innerHTML=t,r}}function Vs(n,t,e=n,r){var s,i,o,a;if(t===zs)return t;let c=r!==void 0?(s=e._$Co)===null||s===void 0?void 0:s[r]:e._$Cl;const l=ki(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==l&&((i=c==null?void 0:c._$AO)===null||i===void 0||i.call(c,!1),l===void 0?c=void 0:(c=new l(n),c._$AT(n,e,r)),r!==void 0?((o=(a=e)._$Co)!==null&&o!==void 0?o:a._$Co=[])[r]=c:e._$Cl=c),c!==void 0&&(t=Vs(n,c._$AS(n,t.values),c,r)),t}let B0=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:r},parts:s}=this._$AD,i=((e=t==null?void 0:t.creationScope)!==null&&e!==void 0?e:Gs).importNode(r,!0);Vr.currentNode=i;let o=Vr.nextNode(),a=0,c=0,l=s[0];for(;l!==void 0;){if(a===l.index){let f;l.type===2?f=new oo(o,o.nextSibling,this,t):l.type===1?f=new l.ctor(o,l.name,l.strings,this,t):l.type===6&&(f=new M0(o,this,t)),this._$AV.push(f),l=s[++c]}a!==(l==null?void 0:l.index)&&(o=Vr.nextNode(),a++)}return i}v(t){let e=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,e),e+=r.strings.length-2):r._$AI(t[e])),e++}};class oo{constructor(t,e,r,s){var i;this.type=2,this._$AH=ut,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=r,this.options=s,this._$Cp=(i=s==null?void 0:s.isConnected)===null||i===void 0||i}get _$AU(){var t,e;return(e=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&e!==void 0?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Vs(this,t,e),ki(t)?t===ut||t==null||t===""?(this._$AH!==ut&&this._$AR(),this._$AH=ut):t!==this._$AH&&t!==zs&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):R0(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==ut&&ki(this._$AH)?this._$AA.nextSibling.data=t:this.$(Gs.createTextNode(t)),this._$AH=t}g(t){var e;const{values:r,_$litType$:s}=t,i=typeof s=="number"?this._$AC(t):(s.el===void 0&&(s.el=Pi.createElement(s.h,this.options)),s);if(((e=this._$AH)===null||e===void 0?void 0:e._$AD)===i)this._$AH.v(r);else{const o=new B0(i,this),a=o.u(this.options);o.v(r),this.$(a),this._$AH=o}}_$AC(t){let e=Ql.get(t.strings);return e===void 0&&Ql.set(t.strings,e=new Pi(t)),e}T(t){rf(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let r,s=0;for(const i of t)s===e.length?e.push(r=new oo(this.k(Ci()),this.k(Ci()),this,this.options)):r=e[s],r._$AI(i),s++;s<e.length&&(this._$AR(r&&r._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,e);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var e;this._$AM===void 0&&(this._$Cp=t,(e=this._$AP)===null||e===void 0||e.call(this,t))}}class Ea{constructor(t,e,r,s,i){this.type=1,this._$AH=ut,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=ut}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,r,s){const i=this.strings;let o=!1;if(i===void 0)t=Vs(this,t,e,0),o=!ki(t)||t!==this._$AH&&t!==zs,o&&(this._$AH=t);else{const a=t;let c,l;for(t=i[0],c=0;c<i.length-1;c++)l=Vs(this,a[r+c],e,c),l===zs&&(l=this._$AH[c]),o||(o=!ki(l)||l!==this._$AH[c]),l===ut?t=ut:t!==ut&&(t+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(t)}j(t){t===ut?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class L0 extends Ea{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===ut?void 0:t}}const U0=Hs?Hs.emptyScript:"";class F0 extends Ea{constructor(){super(...arguments),this.type=4}j(t){t&&t!==ut?this.element.setAttribute(this.name,U0):this.element.removeAttribute(this.name)}}class D0 extends Ea{constructor(t,e,r,s,i){super(t,e,r,s,i),this.type=5}_$AI(t,e=this){var r;if((t=(r=Vs(this,t,e,0))!==null&&r!==void 0?r:ut)===zs)return;const s=this._$AH,i=t===ut&&s!==ut||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,o=t!==ut&&(s===ut||i);i&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,r;typeof this._$AH=="function"?this._$AH.call((r=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&r!==void 0?r:this.element,t):this._$AH.handleEvent(t)}}class M0{constructor(t,e,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Vs(this,t)}}const Kl=Vo.litHtmlPolyfillSupport;Kl==null||Kl(Pi,oo),((Ga=Vo.litHtmlVersions)!==null&&Ga!==void 0?Ga:Vo.litHtmlVersions=[]).push("2.7.3");const H0=(n,t,e)=>{var r,s;const i=(r=e==null?void 0:e.renderBefore)!==null&&r!==void 0?r:t;let o=i._$litPart$;if(o===void 0){const a=(s=e==null?void 0:e.renderBefore)!==null&&s!==void 0?s:null;i._$litPart$=o=new oo(t.insertBefore(Ci(),a),a,void 0,e??{})}return o._$AI(n),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Va,Qa;let To=class extends _r{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const r=super.createRenderRoot();return(t=(e=this.renderOptions).renderBefore)!==null&&t!==void 0||(e.renderBefore=r.firstChild),r}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=H0(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!1)}render(){return zs}};To.finalized=!0,To._$litElement$=!0,(Va=globalThis.litElementHydrateSupport)===null||Va===void 0||Va.call(globalThis,{LitElement:To});const jl=globalThis.litElementPolyfillSupport;jl==null||jl({LitElement:To});((Qa=globalThis.litElementVersions)!==null&&Qa!==void 0?Qa:globalThis.litElementVersions=[]).push("3.3.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const L1=n=>t=>typeof t=="function"?((e,r)=>(customElements.define(e,r),r))(n,t):((e,r)=>{const{kind:s,elements:i}=r;return{kind:s,elements:i,finisher(o){customElements.define(e,o)}}})(n,t);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const G0=(n,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(e){e.createProperty(t.key,n)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(e){e.createProperty(t.key,n)}},z0=(n,t,e)=>{t.constructor.createProperty(e,n)};function V0(n){return(t,e)=>e!==void 0?z0(n,t,e):G0(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function U1(n){return V0({...n,state:!0})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Q0=({finisher:n,descriptor:t})=>(e,r)=>{var s;if(r===void 0){const i=(s=e.originalKey)!==null&&s!==void 0?s:e.key,o=t!=null?{kind:"method",placement:"prototype",key:i,descriptor:t(e.key)}:{...e,key:i};return n!=null&&(o.finisher=function(a){n(a,i)}),o}{const i=e.constructor;t!==void 0&&Object.defineProperty(e,r,t(r)),n==null||n(i,r)}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ka;((Ka=window.HTMLSlotElement)===null||Ka===void 0?void 0:Ka.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ws={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Ys=n=>(...t)=>({_$litDirective$:n,values:t});let Zs=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,r){this._$Ct=t,this._$AM=e,this._$Ci=r}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const D1=Ys(class extends Zs{constructor(n){var t;if(super(n),n.type!==Ws.ATTRIBUTE||n.name!=="class"||((t=n.strings)===null||t===void 0?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(n){return" "+Object.keys(n).filter(t=>n[t]).join(" ")+" "}update(n,[t]){var e,r;if(this.it===void 0){this.it=new Set,n.strings!==void 0&&(this.nt=new Set(n.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in t)t[i]&&!(!((e=this.nt)===null||e===void 0)&&e.has(i))&&this.it.add(i);return this.render(t)}const s=n.element.classList;this.it.forEach(i=>{i in t||(s.remove(i),this.it.delete(i))});for(const i in t){const o=!!t[i];o===this.it.has(i)||!((r=this.nt)===null||r===void 0)&&r.has(i)||(o?(s.add(i),this.it.add(i)):(s.remove(i),this.it.delete(i)))}return qe}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const M1=n=>n??Z;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:K0}=k0,j0=n=>n.strings===void 0,Jl=()=>document.createComment(""),si=(n,t,e)=>{var r;const s=n._$AA.parentNode,i=t===void 0?n._$AB:t._$AA;if(e===void 0){const o=s.insertBefore(Jl(),i),a=s.insertBefore(Jl(),i);e=new K0(o,a,n,n.options)}else{const o=e._$AB.nextSibling,a=e._$AM,c=a!==n;if(c){let l;(r=e._$AQ)===null||r===void 0||r.call(e,n),e._$AM=n,e._$AP!==void 0&&(l=n._$AU)!==a._$AU&&e._$AP(l)}if(o!==i||c){let l=e._$AA;for(;l!==o;){const f=l.nextSibling;s.insertBefore(l,i),l=f}}}return e},Bn=(n,t,e=n)=>(n._$AI(t,e),n),J0={},of=(n,t=J0)=>n._$AH=t,W0=n=>n._$AH,ja=n=>{var t;(t=n._$AP)===null||t===void 0||t.call(n,!1,!0);let e=n._$AA;const r=n._$AB.nextSibling;for(;e!==r;){const s=e.nextSibling;e.remove(),e=s}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const H1=Ys(class extends Zs{constructor(){super(...arguments),this.key=Z}render(n,t){return this.key=n,t}update(n,[t,e]){return t!==this.key&&(of(n),this.key=t),e}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yi=(n,t)=>{var e,r;const s=n._$AN;if(s===void 0)return!1;for(const i of s)(r=(e=i)._$AO)===null||r===void 0||r.call(e,t,!1),yi(i,t);return!0},Qo=n=>{let t,e;do{if((t=n._$AM)===void 0)break;e=t._$AN,e.delete(n),n=t}while((e==null?void 0:e.size)===0)},af=n=>{for(let t;t=n._$AM;n=t){let e=t._$AN;if(e===void 0)t._$AN=e=new Set;else if(e.has(n))break;e.add(n),q0(t)}};function Y0(n){this._$AN!==void 0?(Qo(this),this._$AM=n,af(this)):this._$AM=n}function Z0(n,t=!1,e=0){const r=this._$AH,s=this._$AN;if(s!==void 0&&s.size!==0)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)yi(r[i],!1),Qo(r[i]);else r!=null&&(yi(r,!1),Qo(r));else yi(this,n)}const q0=n=>{var t,e,r,s;n.type==Ws.CHILD&&((t=(r=n)._$AP)!==null&&t!==void 0||(r._$AP=Z0),(e=(s=n)._$AQ)!==null&&e!==void 0||(s._$AQ=Y0))};let X0=class extends Zs{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,r){super._$AT(t,e,r),af(this),this.isConnected=t._$AU}_$AO(t,e=!0){var r,s;t!==this.isConnected&&(this.isConnected=t,t?(r=this.reconnected)===null||r===void 0||r.call(this):(s=this.disconnected)===null||s===void 0||s.call(this)),e&&(yi(this,t),Qo(this))}setValue(t){if(j0(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Wl=(n,t,e)=>{const r=new Map;for(let s=t;s<=e;s++)r.set(n[s],s);return r},z1=Ys(class extends Zs{constructor(n){if(super(n),n.type!==Ws.CHILD)throw Error("repeat() can only be used in text expressions")}dt(n,t,e){let r;e===void 0?e=t:t!==void 0&&(r=t);const s=[],i=[];let o=0;for(const a of n)s[o]=r?r(a,o):o,i[o]=e(a,o),o++;return{values:i,keys:s}}render(n,t,e){return this.dt(n,t,e).values}update(n,[t,e,r]){var s;const i=W0(n),{values:o,keys:a}=this.dt(t,e,r);if(!Array.isArray(i))return this.ht=a,o;const c=(s=this.ht)!==null&&s!==void 0?s:this.ht=[],l=[];let f,h,p=0,g=i.length-1,b=0,E=o.length-1;for(;p<=g&&b<=E;)if(i[p]===null)p++;else if(i[g]===null)g--;else if(c[p]===a[b])l[b]=Bn(i[p],o[b]),p++,b++;else if(c[g]===a[E])l[E]=Bn(i[g],o[E]),g--,E--;else if(c[p]===a[E])l[E]=Bn(i[p],o[E]),si(n,l[E+1],i[p]),p++,E--;else if(c[g]===a[b])l[b]=Bn(i[g],o[b]),si(n,i[p],i[g]),g--,b++;else if(f===void 0&&(f=Wl(a,b,E),h=Wl(c,p,g)),f.has(c[p]))if(f.has(c[g])){const v=h.get(a[b]),k=v!==void 0?i[v]:null;if(k===null){const S=si(n,i[p]);Bn(S,o[b]),l[b]=S}else l[b]=Bn(k,o[b]),si(n,i[p],k),i[v]=null;b++}else ja(i[g]),g--;else ja(i[p]),p++;for(;b<=E;){const v=si(n,l[E+1]);Bn(v,o[b]),l[b++]=v}for(;p<=g;){const v=i[p++];v!==null&&ja(v)}return this.ht=a,of(n,l),qe}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const cf="important",tp=" !"+cf,V1=Ys(class extends Zs{constructor(n){var t;if(super(n),n.type!==Ws.ATTRIBUTE||n.name!=="style"||((t=n.strings)===null||t===void 0?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(n){return Object.keys(n).reduce((t,e)=>{const r=n[e];return r==null?t:t+`${e=e.includes("-")?e:e.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(n,[t]){const{style:e}=n.element;if(this.ut===void 0){this.ut=new Set;for(const r in t)this.ut.add(r);return this.render(t)}this.ut.forEach(r=>{t[r]==null&&(this.ut.delete(r),r.includes("-")?e.removeProperty(r):e[r]="")});for(const r in t){const s=t[r];if(s!=null){this.ut.add(r);const i=typeof s=="string"&&s.endsWith(tp);r.includes("-")||i?e.setProperty(r,i?s.slice(0,-11):s,i?cf:""):e[r]=s}}return qe}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class vc extends Zs{constructor(t){if(super(t),this.et=Z,t.type!==Ws.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===Z||t==null)return this.ft=void 0,this.et=t;if(t===qe)return t;if(typeof t!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.et)return this.ft;this.et=t;const e=[t];return e.raw=e,this.ft={_$litType$:this.constructor.resultType,strings:e,values:[]}}}vc.directiveName="unsafeHTML",vc.resultType=1;const Q1=Ys(vc);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function K1(n,t,e){return n?t():e==null?void 0:e()}function lf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ep=function(t){var e=t.indexOf("%");if(e===-1)return t;var r=t.length,s="",i=0,o=0,a=e;for(wi=Oo;e>-1&&e<r-2;){var c=Yl(t[e+1],4),l=Yl(t[e+2],0);switch(o=sp(o,c|l),wi){case Oo:s+=t.substring(i,a),s+=o<=65535?String.fromCharCode(o):String.fromCharCode(55232+(o>>10),56320+(o&1023)),o=0,i=e+3,e=a=t.indexOf("%",i);break;default:if(e+=3,e<r&&t[e]==="%")break;case rp:wi=Oo,o=0,e=a=t.indexOf("%",a+1);break}}return s+t.substring(i)},np=Object.assign(Object.create(null),{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15});function Yl(n,t){var e=np[n];return e===void 0?255:e<<t}var Oo=12,rp=0,Ja=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7],wi=Oo;function sp(n,t){var e=Ja[t];return wi=Ja[256+wi+e],n<<6|t&Ja[364+e]}const j1=lf(ep);function ip(n){return typeof n=="function"?n():n}const ha=class ha extends Event{constructor(e,r,s){super(ha.eventName,{cancelable:!1});y(this,"key");y(this,"state");y(this,"value");this.key=e,this.value=r,this.state=s}};y(ha,"eventName","lit-state-changed");let pr=ha;const op=(n,t)=>t!==n&&(t===t||n===n);class Wa extends EventTarget{constructor(){super();y(this,"hookMap",new Map);this.constructor.finalize(),this.propertyMap&&[...this.propertyMap].forEach(([e,r])=>{if(r.initialValue!==void 0){const s=ip(r.initialValue);this[e]=s,r.value=s}})}get propertyMap(){return this.constructor.propertyMap}get stateValue(){return Object.fromEntries([...this.propertyMap].map(([e])=>[e,this[e]]))}static finalize(){if(this.finalized)return!1;this.finalized=!0;const e=Object.keys(this.properties||{});for(const r of e)this.createProperty(r,this.properties[r]);return!0}static createProperty(e,r){this.finalize();const s=typeof e=="symbol"?Symbol():`__${e}`,i=this.getPropertyDescriptor(e,s,r);Object.defineProperty(this.prototype,e,i)}static getPropertyDescriptor(e,r,s){const i=(s==null?void 0:s.hasChanged)||op;return{get(){return this[r]},set(o){const a=this[e];this[r]=o,i(o,a)===!0&&this.dispatchStateEvent(e,o,this)},configurable:!0,enumerable:!0}}reset(){this.hookMap.forEach(e=>e.reset()),[...this.propertyMap].filter(([e,r])=>!(r.skipReset===!0||r.resetValue===void 0)).forEach(([e,r])=>{this[e]=r.resetValue})}subscribe(e,r,s){r&&!Array.isArray(r)&&(r=[r]);const i=o=>{(!r||r.includes(o.key))&&e(o.key,o.value,this)};return this.addEventListener(pr.eventName,i,s),()=>this.removeEventListener(pr.eventName,i)}dispatchStateEvent(e,r,s){this.dispatchEvent(new pr(e,r,s))}}y(Wa,"propertyMap"),y(Wa,"properties"),y(Wa,"finalized",!1);class J1{constructor(t,e,r){y(this,"host");y(this,"state");y(this,"callback");this.host=t,this.state=e,this.host.addController(this),this.callback=r||(()=>this.host.requestUpdate())}hostConnected(){this.state.addEventListener(pr.eventName,this.callback),this.callback()}hostDisconnected(){this.state.removeEventListener(pr.eventName,this.callback)}}function W1(n){return Q0({finisher:(t,e)=>{if(Object.getOwnPropertyDescriptor(t.prototype,e))throw new Error("@property must be called before all state decorators");return t.propertyMap||(t.propertyMap=new Map),t.propertyMap.set(e,{...n,initialValue:n==null?void 0:n.value,resetValue:n==null?void 0:n.value}),t.createProperty(e,n)}})}new URL(window.location.href);const ap="6.0.0";function cp(n,t,e){const r=t.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===t)return}const s=new Error(`invalid value for type ${t}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${e}`,s.value=n,s}async function Pt(n){const t=Object.keys(n);return(await Promise.all(t.map(r=>Promise.resolve(n[r])))).reduce((r,s,i)=>(r[t[i]]=s,r),{})}function R(n,t,e){for(let r in t){let s=t[r];const i=e?e[r]:null;i&&cp(s,i,r),Object.defineProperty(n,r,{enumerable:!0,value:s,writable:!1})}}function Dr(n){if(n==null)return"null";if(Array.isArray(n))return"[ "+n.map(Dr).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let e="0x";for(let r=0;r<n.length;r++)e+=t[n[r]>>4],e+=t[n[r]&15];return e}if(typeof n=="object"&&typeof n.toJSON=="function")return Dr(n.toJSON());switch(typeof n){case"boolean":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"number":return n.toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(e=>`${Dr(e)}: ${Dr(n[e])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function gr(n,t){return n&&n.code===t}function nl(n){return gr(n,"CALL_EXCEPTION")}function Bt(n,t,e){{const s=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${Dr(e)}`);for(const i in e){const o=e[i];s.push(i+"="+Dr(o))}}s.push(`code=${t}`),s.push(`version=${ap}`),s.length&&(n+=" ("+s.join(", ")+")")}let r;switch(t){case"INVALID_ARGUMENT":r=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(n);break;default:r=new Error(n)}return R(r,{code:t}),e&&R(r,e),r}function x(n,t,e,r){if(!n)throw Bt(t,e,r)}function w(n,t,e,r){x(n,t,"INVALID_ARGUMENT",{argument:e,value:r})}function uf(n,t,e){e==null&&(e=""),e&&(e=": "+e),x(n>=t,"missing arguemnt"+e,"MISSING_ARGUMENT",{count:n,expectedCount:t}),x(n<=t,"too many arguemnts"+e,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:t})}const lp=["NFD","NFC","NFKD","NFKC"].reduce((n,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"){const e=String.fromCharCode(233).normalize("NFD"),r=String.fromCharCode(101,769);if(e!==r)throw new Error("broken")}n.push(t)}catch{}return n},[]);function up(n){x(lp.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function xa(n,t,e){if(e==null&&(e=""),n!==t){let r=e,s="new";e&&(r+=".",s+=" "+e),x(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function hf(n,t,e){if(n instanceof Uint8Array)return e?new Uint8Array(n):n;if(typeof n=="string"&&n.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((n.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(n.substring(s,s+2),16),s+=2;return r}w(!1,"invalid BytesLike value",t||"value",n)}function F(n,t){return hf(n,t,!1)}function It(n,t){return hf(n,t,!0)}function nt(n,t){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&n.length!==2+2*t||t===!0&&n.length%2!==0)}function hp(n){return nt(n,!0)||n instanceof Uint8Array}const Zl="0123456789abcdef";function T(n){const t=F(n);let e="0x";for(let r=0;r<t.length;r++){const s=t[r];e+=Zl[(s&240)>>4]+Zl[s&15]}return e}function ot(n){return"0x"+n.map(t=>T(t).substring(2)).join("")}function Qr(n){return nt(n,!0)?(n.length-2)/2:F(n).length}function et(n,t,e){const r=F(n);return e!=null&&e>r.length&&x(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:e}),T(r.slice(t??0,e??r.length))}function fp(n,t,e){const r=F(n);x(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const s=new Uint8Array(t);return s.fill(0),e?s.set(r,t-r.length):s.set(r,0),T(s)}function Er(n,t){return fp(n,t,!0)}const Sa=BigInt(0),ce=BigInt(1),Mr=9007199254740991;function dp(n,t){const e=Ca(n,"value"),r=BigInt(U(t,"width"));if(x(e>>r===Sa,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),e>>r-ce){const s=(ce<<r)-ce;return-((~e&s)+ce)}return e}function ff(n,t){let e=O(n,"value");const r=BigInt(U(t,"width")),s=ce<<r-ce;if(e<Sa){e=-e,x(e<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const i=(ce<<r)-ce;return(~e&i)+ce}else x(e<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return e}function li(n,t){const e=Ca(n,"value"),r=BigInt(U(t,"bits"));return e&(ce<<r)-ce}function O(n,t){switch(typeof n){case"bigint":return n;case"number":return w(Number.isInteger(n),"underflow",t||"value",n),w(n>=-Mr&&n<=Mr,"overflow",t||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(e){w(!1,`invalid BigNumberish string: ${e.message}`,t||"value",n)}}w(!1,"invalid BigNumberish value",t||"value",n)}function Ca(n,t){const e=O(n,t);return x(e>=Sa,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),e}const ql="0123456789abcdef";function rl(n){if(n instanceof Uint8Array){let t="0x0";for(const e of n)t+=ql[e>>4],t+=ql[e&15];return BigInt(t)}return O(n)}function U(n,t){switch(typeof n){case"bigint":return w(n>=-Mr&&n<=Mr,"overflow",t||"value",n),Number(n);case"number":return w(Number.isInteger(n),"underflow",t||"value",n),w(n>=-Mr&&n<=Mr,"overflow",t||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return U(BigInt(n),t)}catch(e){w(!1,`invalid numeric string: ${e.message}`,t||"value",n)}}w(!1,"invalid numeric value",t||"value",n)}function pp(n){return U(rl(n))}function In(n,t){let r=Ca(n,"value").toString(16);if(t==null)r.length%2&&(r="0"+r);else{const s=U(t,"width");for(x(s*2>=r.length,`value exceeds width (${s} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<s*2;)r="0"+r}return"0x"+r}function Ft(n){const t=Ca(n,"value");if(t===Sa)return new Uint8Array([]);let e=t.toString(16);e.length%2&&(e="0"+e);const r=new Uint8Array(e.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(e.substring(i,i+2),16)}return r}function ui(n){let t=T(hp(n)?n:Ft(n)).substring(2);for(;t.substring(0,1)==="0";)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const gp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Xl=BigInt(58);function mp(n){let t=rl(F(n)),e="";for(;t;)e=gp[Number(t%Xl)]+e,t/=Xl;return e}function yp(n){n=atob(n);const t=new Uint8Array(n.length);for(let e=0;e<n.length;e++)t[e]=n.charCodeAt(e);return F(t)}function wp(n){const t=F(n);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var ns;class df{constructor(t,e,r){y(this,"filter");y(this,"emitter");m(this,ns,void 0);d(this,ns,e),R(this,{emitter:t,filter:r})}async removeListener(){u(this,ns)!=null&&await this.emitter.off(this.filter,u(this,ns))}}ns=new WeakMap;function Ap(n,t,e,r,s){w(!1,`invalid codepoint at offset ${t}; ${n}`,"bytes",e)}function pf(n,t,e,r,s){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let i=0;for(let o=t+1;o<e.length&&e[o]>>6===2;o++)i++;return i}return n==="OVERRUN"?e.length-t-1:0}function bp(n,t,e,r,s){return n==="OVERLONG"?(w(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),pf(n,t,e))}const vp=Object.freeze({error:Ap,ignore:pf,replace:bp});function Ep(n,t){t==null&&(t=vp.error);const e=F(n,"bytes"),r=[];let s=0;for(;s<e.length;){const i=e[s++];if(!(i>>7)){r.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=t("UNEXPECTED_CONTINUE",s-1,e,r):s+=t("BAD_PREFIX",s-1,e,r);continue}if(s-1+o>=e.length){s+=t("OVERRUN",s-1,e,r);continue}let c=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let f=e[s];if((f&192)!=128){s+=t("MISSING_CONTINUE",s,e,r),c=null;break}c=c<<6|f&63,s++}if(c!==null){if(c>1114111){s+=t("OUT_OF_RANGE",s-1-o,e,r,c);continue}if(c>=55296&&c<=57343){s+=t("UTF16_SURROGATE",s-1-o,e,r,c);continue}if(c<=a){s+=t("OVERLONG",s-1-o,e,r,c);continue}r.push(c)}}return r}function Ye(n,t){t!=null&&(up(t),n=n.normalize(t));let e=[];for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);if(s<128)e.push(s);else if(s<2048)e.push(s>>6|192),e.push(s&63|128);else if((s&64512)==55296){r++;const i=n.charCodeAt(r);w(r<n.length&&(i&64512)===56320,"invalid surrogate pair","str",n);const o=65536+((s&1023)<<10)+(i&1023);e.push(o>>18|240),e.push(o>>12&63|128),e.push(o>>6&63|128),e.push(o&63|128)}else e.push(s>>12|224),e.push(s>>6&63|128),e.push(s&63|128)}return new Uint8Array(e)}function xp(n){return n.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function sl(n,t){return xp(Ep(n,t))}async function Sp(n,t){const e=n.url.split(":")[0].toLowerCase();x(e==="http"||e==="https",`unsupported protocol ${e}`,"UNSUPPORTED_OPERATION",{info:{protocol:e},operation:"request"}),x(!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r;if(t){const l=new AbortController;r=l.signal,t.addListener(()=>{l.abort()})}const s={method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:r},i=await fetch(n.url,s),o={};i.headers.forEach((l,f)=>{o[f.toLowerCase()]=l});const a=await i.arrayBuffer(),c=a==null?null:new Uint8Array(a);return{statusCode:i.status,statusMessage:i.statusText,headers:o,body:c}}const Cp=12,kp=250;let tu=Sp;const Pp=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Np=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Ya=!1;async function gf(n,t){try{const e=n.match(Pp);if(!e)throw new Error("invalid data");return new Pn(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?yp(e[3]):Tp(e[3]))}catch{return new Pn(599,"BAD REQUEST (invalid data: URI)",{},null,new Tn(n))}}function mf(n){async function t(e,r){try{const s=e.match(Np);if(!s)throw new Error("invalid link");return new Tn(`${n}${s[2]}`)}catch{return new Pn(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Tn(e))}}return t}const po={data:gf,ipfs:mf("https://gateway.ipfs.io/ipfs/")},yf=new WeakMap;var zn,pn;class Ip{constructor(t){m(this,zn,void 0);m(this,pn,void 0);d(this,zn,[]),d(this,pn,!1),yf.set(t,()=>{if(!u(this,pn)){d(this,pn,!0);for(const e of u(this,zn))setTimeout(()=>{e()},0);d(this,zn,[])}})}addListener(t){x(u(this,pn),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),u(this,zn).push(t)}get cancelled(){return u(this,pn)}checkSignal(){this.cancelled&&x(!1,"cancelled","CANCELLED",{})}}zn=new WeakMap,pn=new WeakMap;function go(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var rs,ss,re,$e,is,os,lt,Rt,_e,Vn,Qn,Kn,me,Be,jn,hi;const fa=class fa{constructor(t){m(this,jn);m(this,rs,void 0);m(this,ss,void 0);m(this,re,void 0);m(this,$e,void 0);m(this,is,void 0);m(this,os,void 0);m(this,lt,void 0);m(this,Rt,void 0);m(this,_e,void 0);m(this,Vn,void 0);m(this,Qn,void 0);m(this,Kn,void 0);m(this,me,void 0);m(this,Be,void 0);d(this,os,String(t)),d(this,rs,!1),d(this,ss,!0),d(this,re,{}),d(this,$e,""),d(this,is,3e5),d(this,Be,{slotInterval:kp,maxAttempts:Cp})}get url(){return u(this,os)}set url(t){d(this,os,String(t))}get body(){return u(this,lt)==null?null:new Uint8Array(u(this,lt))}set body(t){if(t==null)d(this,lt,void 0),d(this,Rt,void 0);else if(typeof t=="string")d(this,lt,Ye(t)),d(this,Rt,"text/plain");else if(t instanceof Uint8Array)d(this,lt,t),d(this,Rt,"application/octet-stream");else if(typeof t=="object")d(this,lt,Ye(JSON.stringify(t))),d(this,Rt,"application/json");else throw new Error("invalid body")}hasBody(){return u(this,lt)!=null}get method(){return u(this,$e)?u(this,$e):this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),d(this,$e,String(t).toUpperCase())}get headers(){const t=Object.assign({},u(this,re));return u(this,_e)&&(t.authorization=`Basic ${wp(Ye(u(this,_e)))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&u(this,Rt)&&(t["content-type"]=u(this,Rt)),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){u(this,re)[String(t).toLowerCase()]=String(e)}clearHeaders(){d(this,re,{})}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const s=e[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return u(this,_e)||null}setCredentials(t,e){w(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),d(this,_e,`${t}:${e}`)}get allowGzip(){return u(this,ss)}set allowGzip(t){d(this,ss,!!t)}get allowInsecureAuthentication(){return!!u(this,rs)}set allowInsecureAuthentication(t){d(this,rs,!!t)}get timeout(){return u(this,is)}set timeout(t){w(t>=0,"timeout must be non-zero","timeout",t),d(this,is,t)}get preflightFunc(){return u(this,Vn)||null}set preflightFunc(t){d(this,Vn,t)}get processFunc(){return u(this,Qn)||null}set processFunc(t){d(this,Qn,t)}get retryFunc(){return u(this,Kn)||null}set retryFunc(t){d(this,Kn,t)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${u(this,lt)?T(u(this,lt)):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(u(this,Be).slotInterval=t.slotInterval),t.maxAttempts!=null&&(u(this,Be).maxAttempts=t.maxAttempts)}send(){return x(u(this,me)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),d(this,me,new Ip(this)),A(this,jn,hi).call(this,0,eu()+this.timeout,0,this,new Pn(0,"",{},null,this))}cancel(){x(u(this,me)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=yf.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),r=t.split(":")[0].toLowerCase();x(this.method==="GET"&&(e!=="https"||r!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const s=new fa(t);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,d(s,re,Object.assign({},u(this,re))),u(this,lt)&&d(s,lt,new Uint8Array(u(this,lt))),d(s,Rt,u(this,Rt)),s}clone(){const t=new fa(this.url);return d(t,$e,u(this,$e)),u(this,lt)&&d(t,lt,u(this,lt)),d(t,Rt,u(this,Rt)),d(t,re,Object.assign({},u(this,re))),d(t,_e,u(this,_e)),this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),d(t,Vn,u(this,Vn)),d(t,Qn,u(this,Qn)),d(t,Kn,u(this,Kn)),t}static lockConfig(){Ya=!0}static getGateway(t){return po[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(Ya)throw new Error("gateways locked");po[t]=e}static registerGetUrl(t){if(Ya)throw new Error("gateways locked");tu=t}static createDataGateway(){return gf}static createIpfsGatewayFunc(t){return mf(t)}};rs=new WeakMap,ss=new WeakMap,re=new WeakMap,$e=new WeakMap,is=new WeakMap,os=new WeakMap,lt=new WeakMap,Rt=new WeakMap,_e=new WeakMap,Vn=new WeakMap,Qn=new WeakMap,Kn=new WeakMap,me=new WeakMap,Be=new WeakMap,jn=new WeakSet,hi=async function(t,e,r,s,i){var f,h,p;if(t>=u(this,Be).maxAttempts)return i.makeServerError("exceeded maximum retry limit");x(eu()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await Op(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in po){const g=await po[a](o.url,go(u(s,me)));if(g instanceof Pn){let b=g;if(this.processFunc){go(u(s,me));try{b=await this.processFunc(o,b)}catch(E){(E.throttle==null||typeof E.stall!="number")&&b.makeServerError("error in post-processing function",E).assertOk()}}return b}o=g}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await tu(o,go(u(s,me)));let l=new Pn(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{const g=l.headers.location||"";return A(f=o.redirect(g),jn,hi).call(f,t+1,e,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,t))){const g=l.headers["retry-after"];let b=u(this,Be).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof g=="string"&&g.match(/^[1-9][0-9]*$/)&&(b=parseInt(g)),A(h=o.clone(),jn,hi).call(h,t+1,e,b,s,l)}if(this.processFunc){go(u(s,me));try{l=await this.processFunc(o,l)}catch(g){(g.throttle==null||typeof g.stall!="number")&&l.makeServerError("error in post-processing function",g).assertOk();let b=u(this,Be).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return g.stall>=0&&(b=g.stall),A(p=o.clone(),jn,hi).call(p,t+1,e,b,s,l)}}return l};let Tn=fa;var Gi,zi,Vi,se,as,Jn;const Al=class Al{constructor(t,e,r,s,i){m(this,Gi,void 0);m(this,zi,void 0);m(this,Vi,void 0);m(this,se,void 0);m(this,as,void 0);m(this,Jn,void 0);d(this,Gi,t),d(this,zi,e),d(this,Vi,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),d(this,se,s==null?null:new Uint8Array(s)),d(this,as,i||null),d(this,Jn,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${u(this,se)?T(u(this,se)):"null"}>`}get statusCode(){return u(this,Gi)}get statusMessage(){return u(this,zi)}get headers(){return Object.assign({},u(this,Vi))}get body(){return u(this,se)==null?null:new Uint8Array(u(this,se))}get bodyText(){try{return u(this,se)==null?"":sl(u(this,se))}catch{x(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{x(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const s=e[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(t,e){let r;t?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${t})`);const s=new Al(599,r,this.headers,this.body,u(this,as)||void 0);return d(s,Jn,{message:t,error:e}),s}throwThrottleError(t,e){e==null?e=-1:w(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const r=new Error(t||"throttling requests");throw R(r,{stall:e,throttle:!0}),r}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return u(this,se)!=null}get request(){return u(this,as)}ok(){return u(this,Jn).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=u(this,Jn);t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`),x(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e})}};Gi=new WeakMap,zi=new WeakMap,Vi=new WeakMap,se=new WeakMap,as=new WeakMap,Jn=new WeakMap;let Pn=Al;function eu(){return new Date().getTime()}function Tp(n){return Ye(n.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=>String.fromCharCode(parseInt(e,16))))}function Op(n){return new Promise(t=>setTimeout(t,n))}function Rp(n){let t=n.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function nu(n,t,e){let r=0;for(let s=0;s<e;s++)r=r*256+n[t+s];return r}function ru(n,t,e,r){const s=[];for(;e<t+1+r;){const i=wf(n,e);s.push(i.result),e+=i.consumed,x(e<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:t})}return{consumed:1+r,result:s}}function wf(n,t){x(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const e=r=>{x(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[t]>=248){const r=n[t]-247;e(t+1+r);const s=nu(n,t+1,r);return e(t+1+r+s),ru(n,t,t+1+r,r+s)}else if(n[t]>=192){const r=n[t]-192;return e(t+1+r),ru(n,t,t+1,r)}else if(n[t]>=184){const r=n[t]-183;e(t+1+r);const s=nu(n,t+1,r);e(t+1+r+s);const i=T(n.slice(t+1+r,t+1+r+s));return{consumed:1+r+s,result:i}}else if(n[t]>=128){const r=n[t]-128;e(t+1+r);const s=T(n.slice(t+1,t+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:Rp(n[t])}}function il(n){const t=F(n,"data"),e=wf(t,0);return w(e.consumed===t.length,"unexpected junk after rlp payload","data",n),e.result}function su(n){const t=[];for(;n;)t.unshift(n&255),n>>=8;return t}function Af(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(i){r=r.concat(Af(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=su(r.length);return s.unshift(247+s.length),s.concat(r)}const t=Array.prototype.slice.call(F(n,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=su(t.length);return e.unshift(183+e.length),e.concat(t)}const iu="0123456789abcdef";function Ni(n){let t="0x";for(const e of Af(n))t+=iu[e>>4],t+=iu[e&15];return t}const vt=32,Ec=new Uint8Array(vt),$p=["then"],mo={};function yo(n,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw e.error=t,e}var gn;const xi=class xi extends Array{constructor(...e){const r=e[0];let s=e[1],i=(e[2]||[]).slice(),o=!0;r!==mo&&(s=e,i=[],o=!1);super(s.length);m(this,gn,void 0);s.forEach((c,l)=>{this[l]=c});const a=i.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if(d(this,gn,Object.freeze(s.map((c,l)=>{const f=i[l];return f!=null&&a.get(f)===1?f:null}))),!!o)return Object.freeze(this),new Proxy(this,{get:(c,l,f)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){const p=U(l,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const g=c[p];return g instanceof Error&&yo(`index ${p}`,g),g}if($p.indexOf(l)>=0)return Reflect.get(c,l,f);const h=c[l];if(h instanceof Function)return function(...p){return h.apply(this===f?c:this,p)};if(!(l in c))return c.getValue.apply(this===f?c:this,[l])}return Reflect.get(c,l,f)}})}toArray(){return this.forEach((e,r)=>{e instanceof Error&&yo(`index ${r}`,e)}),Array.of(this)}toObject(){return u(this,gn).reduce((e,r,s)=>(x(r!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),r in e||(e[r]=this.getValue(r)),e),{})}slice(e,r){e==null&&(e=0),r==null&&(r=this.length);const s=[],i=[];for(let o=e;o<r;o++)s.push(this[o]),i.push(u(this,gn)[o]);return new xi(mo,s,i)}filter(e,r){const s=[],i=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&yo(`index ${o}`,a),e.call(r,a,o,this)&&(s.push(a),i.push(u(this,gn)[o]))}return new xi(mo,s,i)}getValue(e){const r=u(this,gn).indexOf(e);if(r===-1)return;const s=this[r];return s instanceof Error&&yo(`property ${JSON.stringify(e)}`,s.error),s}static fromItems(e,r){return new xi(mo,e,r)}};gn=new WeakMap;let Ko=xi;function ou(n){let t=Ft(n);return x(t.length<=vt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:vt,offset:t.length}),t.length!==vt&&(t=It(ot([Ec.slice(t.length%vt),t]))),t}class tn{constructor(t,e,r,s){y(this,"name");y(this,"type");y(this,"localName");y(this,"dynamic");R(this,{name:t,type:e,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){w(!1,t,this.localName,e)}}var Le,Wn,cs,Ro;class xc{constructor(){m(this,cs);m(this,Le,void 0);m(this,Wn,void 0);d(this,Le,[]),d(this,Wn,0)}get data(){return ot(u(this,Le))}get length(){return u(this,Wn)}appendWriter(t){return A(this,cs,Ro).call(this,It(t.data))}writeBytes(t){let e=It(t);const r=e.length%vt;return r&&(e=It(ot([e,Ec.slice(r)]))),A(this,cs,Ro).call(this,e)}writeValue(t){return A(this,cs,Ro).call(this,ou(t))}writeUpdatableValue(){const t=u(this,Le).length;return u(this,Le).push(Ec),d(this,Wn,u(this,Wn)+vt),e=>{u(this,Le)[t]=ou(e)}}}Le=new WeakMap,Wn=new WeakMap,cs=new WeakSet,Ro=function(t){return u(this,Le).push(t),d(this,Wn,u(this,Wn)+t.length),t.length};var $t,Jt,da,bf;const bl=class bl{constructor(t,e){m(this,da);y(this,"allowLoose");m(this,$t,void 0);m(this,Jt,void 0);R(this,{allowLoose:!!e}),d(this,$t,It(t)),d(this,Jt,0)}get data(){return T(u(this,$t))}get dataLength(){return u(this,$t).length}get consumed(){return u(this,Jt)}get bytes(){return new Uint8Array(u(this,$t))}subReader(t){return new bl(u(this,$t).slice(u(this,Jt)+t),this.allowLoose)}readBytes(t,e){let r=A(this,da,bf).call(this,0,t,!!e);return d(this,Jt,u(this,Jt)+r.length),r.slice(0,t)}readValue(){return rl(this.readBytes(vt))}readIndex(){return pp(this.readBytes(vt))}};$t=new WeakMap,Jt=new WeakMap,da=new WeakSet,bf=function(t,e,r){let s=Math.ceil(e/vt)*vt;return u(this,Jt)+s>u(this,$t).length&&(this.allowLoose&&r&&u(this,Jt)+e<=u(this,$t).length?s=e:x(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:It(u(this,$t)),length:u(this,$t).length,offset:u(this,Jt)+s})),u(this,$t).slice(u(this,Jt),u(this,Jt)+s)};let Sc=bl;function Cc(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function _p(n){if(typeof n!="boolean")throw new Error(`Expected boolean, not ${n}`)}function vf(n,...t){if(!(n instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(n.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${n.length}`)}function Bp(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Cc(n.outputLen),Cc(n.blockLen)}function Lp(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function Up(n,t){vf(n);const e=t.outputLen;if(n.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const Lt={number:Cc,bool:_p,bytes:vf,hash:Bp,exists:Lp,output:Up};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fp=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),Za=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),fe=(n,t)=>n<<32-t|n>>>t,Dp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Dp)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function Mp(n){if(typeof n!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof n}`);return new TextEncoder().encode(n)}function ao(n){if(typeof n=="string"&&(n=Mp(n)),!(n instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof n})`);return n}class jo{clone(){return this._cloneInto()}}function co(n){const t=r=>n().update(ao(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function Hp(n){const t=(r,s)=>n(s).update(ao(r)).digest(),e=n({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=r=>n(r),t}class Ef extends jo{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Lt.hash(t);const r=ao(e);if(this.iHash=t.create(),!(this.iHash instanceof jo))throw new TypeError("Expected instance of class which extends utils.Hash");const s=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(s);i.set(r.length>this.iHash.blockLen?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return Lt.exists(this),this.iHash.update(t),this}digestInto(t){Lt.exists(this),Lt.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xf=(n,t,e)=>new Ef(n,t).update(e).digest();xf.create=(n,t)=>new Ef(n,t);function Gp(n,t,e,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(e>>s&i),a=Number(e&i),c=r?4:0,l=r?0:4;n.setUint32(t+c,o,r),n.setUint32(t+l,a,r)}class Sf extends jo{constructor(t,e,r,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Za(this.buffer)}update(t){Lt.exists(this);const{view:e,buffer:r,blockLen:s}=this;t=ao(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Za(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Lt.exists(this),Lt.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let c=o;c<s;c++)e[c]=0;Gp(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Za(t);this.get().forEach((c,l)=>a.setUint32(4*l,c,i))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%e&&t.buffer.set(r),t}}const zp=(n,t,e)=>n&t^~n&e,Vp=(n,t,e)=>n&t^n&e^t&e,Qp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),on=new Uint32Array(64);class Kp extends Sf{constructor(){super(64,32,8,!1),this.A=sn[0]|0,this.B=sn[1]|0,this.C=sn[2]|0,this.D=sn[3]|0,this.E=sn[4]|0,this.F=sn[5]|0,this.G=sn[6]|0,this.H=sn[7]|0}get(){const{A:t,B:e,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,e,r,s,i,o,a,c]}set(t,e,r,s,i,o,a,c){this.A=t|0,this.B=e|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,e){for(let h=0;h<16;h++,e+=4)on[h]=t.getUint32(e,!1);for(let h=16;h<64;h++){const p=on[h-15],g=on[h-2],b=fe(p,7)^fe(p,18)^p>>>3,E=fe(g,17)^fe(g,19)^g>>>10;on[h]=E+on[h-7]+b+on[h-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:f}=this;for(let h=0;h<64;h++){const p=fe(a,6)^fe(a,11)^fe(a,25),g=f+p+zp(a,c,l)+Qp[h]+on[h]|0,E=(fe(r,2)^fe(r,13)^fe(r,22))+Vp(r,s,i)|0;f=l,l=c,c=a,a=o+g|0,o=i,i=s,s=r,r=g+E|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(r,s,i,o,a,c,l,f)}roundClean(){on.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const jp=co(()=>new Kp),wo=BigInt(2**32-1),kc=BigInt(32);function Cf(n,t=!1){return t?{h:Number(n&wo),l:Number(n>>kc&wo)}:{h:Number(n>>kc&wo)|0,l:Number(n&wo)|0}}function Jp(n,t=!1){let e=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Cf(n[s],t);[e[s],r[s]]=[i,o]}return[e,r]}const Wp=(n,t)=>BigInt(n>>>0)<<kc|BigInt(t>>>0),Yp=(n,t,e)=>n>>>e,Zp=(n,t,e)=>n<<32-e|t>>>e,qp=(n,t,e)=>n>>>e|t<<32-e,Xp=(n,t,e)=>n<<32-e|t>>>e,tg=(n,t,e)=>n<<64-e|t>>>e-32,eg=(n,t,e)=>n>>>e-32|t<<64-e,ng=(n,t)=>t,rg=(n,t)=>n,sg=(n,t,e)=>n<<e|t>>>32-e,ig=(n,t,e)=>t<<e|n>>>32-e,og=(n,t,e)=>t<<e-32|n>>>64-e,ag=(n,t,e)=>n<<e-32|t>>>64-e;function cg(n,t,e,r){const s=(t>>>0)+(r>>>0);return{h:n+e+(s/2**32|0)|0,l:s|0}}const lg=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),ug=(n,t,e,r)=>t+e+r+(n/2**32|0)|0,hg=(n,t,e,r)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0),fg=(n,t,e,r,s)=>t+e+r+s+(n/2**32|0)|0,dg=(n,t,e,r,s)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0)+(s>>>0),pg=(n,t,e,r,s,i)=>t+e+r+s+i+(n/2**32|0)|0,_={fromBig:Cf,split:Jp,toBig:Wp,shrSH:Yp,shrSL:Zp,rotrSH:qp,rotrSL:Xp,rotrBH:tg,rotrBL:eg,rotr32H:ng,rotr32L:rg,rotlSH:sg,rotlSL:ig,rotlBH:og,rotlBL:ag,add:cg,add3L:lg,add3H:ug,add4L:hg,add4H:fg,add5H:pg,add5L:dg},[gg,mg]=_.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),an=new Uint32Array(80),cn=new Uint32Array(80);class ol extends Sf{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:f,Fh:h,Fl:p,Gh:g,Gl:b,Hh:E,Hl:v}=this;return[t,e,r,s,i,o,a,c,l,f,h,p,g,b,E,v]}set(t,e,r,s,i,o,a,c,l,f,h,p,g,b,E,v){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=f|0,this.Fh=h|0,this.Fl=p|0,this.Gh=g|0,this.Gl=b|0,this.Hh=E|0,this.Hl=v|0}process(t,e){for(let C=0;C<16;C++,e+=4)an[C]=t.getUint32(e),cn[C]=t.getUint32(e+=4);for(let C=16;C<80;C++){const $=an[C-15]|0,B=cn[C-15]|0,G=_.rotrSH($,B,1)^_.rotrSH($,B,8)^_.shrSH($,B,7),Q=_.rotrSL($,B,1)^_.rotrSL($,B,8)^_.shrSL($,B,7),L=an[C-2]|0,K=cn[C-2]|0,tt=_.rotrSH(L,K,19)^_.rotrBH(L,K,61)^_.shrSH(L,K,6),nn=_.rotrSL(L,K,19)^_.rotrBL(L,K,61)^_.shrSL(L,K,6),ke=_.add4L(Q,nn,cn[C-7],cn[C-16]),Ir=_.add4H(ke,G,tt,an[C-7],an[C-16]);an[C]=Ir|0,cn[C]=ke|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:f,Eh:h,El:p,Fh:g,Fl:b,Gh:E,Gl:v,Hh:k,Hl:S}=this;for(let C=0;C<80;C++){const $=_.rotrSH(h,p,14)^_.rotrSH(h,p,18)^_.rotrBH(h,p,41),B=_.rotrSL(h,p,14)^_.rotrSL(h,p,18)^_.rotrBL(h,p,41),G=h&g^~h&E,Q=p&b^~p&v,L=_.add5L(S,B,Q,mg[C],cn[C]),K=_.add5H(L,k,$,G,gg[C],an[C]),tt=L|0,nn=_.rotrSH(r,s,28)^_.rotrBH(r,s,34)^_.rotrBH(r,s,39),ke=_.rotrSL(r,s,28)^_.rotrBL(r,s,34)^_.rotrBL(r,s,39),Ir=r&i^r&a^i&a,fo=s&o^s&c^o&c;k=E|0,S=v|0,E=g|0,v=b|0,g=h|0,b=p|0,{h,l:p}=_.add(l|0,f|0,K|0,tt|0),l=a|0,f=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const El=_.add3L(tt,ke,fo);r=_.add3H(El,K,nn,Ir),s=El|0}({h:r,l:s}=_.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=_.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=_.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:f}=_.add(this.Dh|0,this.Dl|0,l|0,f|0),{h,l:p}=_.add(this.Eh|0,this.El|0,h|0,p|0),{h:g,l:b}=_.add(this.Fh|0,this.Fl|0,g|0,b|0),{h:E,l:v}=_.add(this.Gh|0,this.Gl|0,E|0,v|0),{h:k,l:S}=_.add(this.Hh|0,this.Hl|0,k|0,S|0),this.set(r,s,i,o,a,c,l,f,h,p,g,b,E,v,k,S)}roundClean(){an.fill(0),cn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class yg extends ol{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class wg extends ol{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Ag=co(()=>new ol);co(()=>new yg);co(()=>new wg);function bg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate globalThis object")}const au=bg();au.crypto||au.msCrypto;function vg(n,t){const e={sha256:jp,sha512:Ag}[n];return w(e!=null,"invalid hmac algorithm","algorithm",n),xf.create(e,t)}let kf=!1;const Pf=function(n,t,e){return vg(n,t).update(e).digest()};let Nf=Pf;function lo(n,t,e){const r=F(t,"key"),s=F(e,"data");return T(Nf(n,r,s))}lo._=Pf;lo.lock=function(){kf=!0};lo.register=function(n){if(kf)throw new Error("computeHmac is locked");Nf=n};Object.freeze(lo);const[If,Tf,Of]=[[],[],[]],Eg=BigInt(0),ii=BigInt(1),xg=BigInt(2),Sg=BigInt(7),Cg=BigInt(256),kg=BigInt(113);for(let n=0,t=ii,e=1,r=0;n<24;n++){[e,r]=[r,(2*e+3*r)%5],If.push(2*(5*r+e)),Tf.push((n+1)*(n+2)/2%64);let s=Eg;for(let i=0;i<7;i++)t=(t<<ii^(t>>Sg)*kg)%Cg,t&xg&&(s^=ii<<(ii<<BigInt(i))-ii);Of.push(s)}const[Pg,Ng]=_.split(Of,!0),cu=(n,t,e)=>e>32?_.rotlBH(n,t,e):_.rotlSH(n,t,e),lu=(n,t,e)=>e>32?_.rotlBL(n,t,e):_.rotlSL(n,t,e);function Ig(n,t=24){const e=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)e[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=e[c],f=e[c+1],h=cu(l,f,1)^e[a],p=lu(l,f,1)^e[a+1];for(let g=0;g<50;g+=10)n[o+g]^=h,n[o+g+1]^=p}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=Tf[o],c=cu(s,i,a),l=lu(s,i,a),f=If[o];s=n[f],i=n[f+1],n[f]=c,n[f+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)e[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~e[(a+2)%10]&e[(a+4)%10]}n[0]^=Pg[r],n[1]^=Ng[r]}e.fill(0)}class ka extends jo{constructor(t,e,r,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Lt.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Fp(this.state)}keccak(){Ig(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Lt.exists(this);const{blockLen:e,state:r}=this;t=ao(t);const s=t.length;for(let i=0;i<s;){const o=Math.min(e-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:s}=this;t[r]^=e,e&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Lt.exists(this,!1),Lt.bytes(t),this.finish();const e=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(e.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Lt.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Lt.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new ka(e,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const On=(n,t,e)=>co(()=>new ka(t,n,e));On(6,144,224/8);On(6,136,256/8);On(6,104,384/8);On(6,72,512/8);On(1,144,224/8);const Tg=On(1,136,256/8);On(1,104,384/8);On(1,72,512/8);const Rf=(n,t,e)=>Hp((r={})=>new ka(t,n,r.dkLen===void 0?e:r.dkLen,!0));Rf(31,168,128/8);Rf(31,136,256/8);let $f=!1;const _f=function(n){return Tg(n)};let Bf=_f;function X(n){const t=F(n,"data");return T(Bf(t))}X._=_f;X.lock=function(){$f=!0};X.register=function(n){if($f)throw new TypeError("keccak256 is locked");Bf=n};Object.freeze(X);const Og={},Rg=Object.freeze(Object.defineProperty({__proto__:null,default:Og},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const M=BigInt(0),j=BigInt(1),st=BigInt(2),Ai=BigInt(3),$g=BigInt(8),Pc=st**BigInt(256),W={a:M,b:BigInt(7),P:Pc-st**BigInt(32)-BigInt(977),n:Pc-BigInt("432420386565659656852420866394968145599"),h:j,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function uu(n){const{a:t,b:e}=W,r=N(n*n),s=N(r*n);return N(s+t*n+e)}const Ao=W.a===M;class z{constructor(t,e,r){this.x=t,this.y=e,this.z=r}static fromAffine(t){if(!(t instanceof H))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new z(t.x,t.y,j)}static toAffineBatch(t){const e=Ug(t.map(r=>r.z));return t.map((r,s)=>r.toAffine(e[s]))}static normalizeZ(t){return z.toAffineBatch(t).map(z.fromAffine)}equals(t){if(!(t instanceof z))throw new TypeError("JacobianPoint expected");const{x:e,y:r,z:s}=this,{x:i,y:o,z:a}=t,c=N(s**st),l=N(a**st),f=N(e*l),h=N(i*c),p=N(N(r*a)*l),g=N(N(o*s)*c);return f===h&&p===g}negate(){return new z(this.x,N(-this.y),this.z)}double(){const{x:t,y:e,z:r}=this,s=N(t**st),i=N(e**st),o=N(i**st),a=N(st*(N((t+i)**st)-s-o)),c=N(Ai*s),l=N(c**st),f=N(l-st*a),h=N(c*(a-f)-$g*o),p=N(st*e*r);return new z(f,h,p)}add(t){if(!(t instanceof z))throw new TypeError("JacobianPoint expected");const{x:e,y:r,z:s}=this,{x:i,y:o,z:a}=t;if(i===M||o===M)return this;if(e===M||r===M)return t;const c=N(s**st),l=N(a**st),f=N(e*l),h=N(i*c),p=N(N(r*a)*l),g=N(N(o*s)*c),b=N(h-f),E=N(g-p);if(b===M)return E===M?this.double():z.ZERO;const v=N(b**st),k=N(b*v),S=N(f*v),C=N(E**st-k-st*S),$=N(E*(S-C)-p*k),B=N(s*a*b);return new z(C,$,B)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=z.ZERO;if(typeof t=="bigint"&&t===M)return e;let r=du(t);if(r===j)return this;if(!Ao){let h=e,p=this;for(;r>M;)r&j&&(h=h.add(p)),p=p.double(),r>>=j;return h}let{k1neg:s,k1:i,k2neg:o,k2:a}=gu(r),c=e,l=e,f=this;for(;i>M||a>M;)i&j&&(c=c.add(f)),a&j&&(l=l.add(f)),f=f.double(),i>>=j,a>>=j;return s&&(c=c.negate()),o&&(l=l.negate()),l=new z(N(l.x*W.beta),l.y,l.z),c.add(l)}precomputeWindow(t){const e=Ao?128/t+1:256/t+1,r=[];let s=this,i=s;for(let o=0;o<e;o++){i=s,r.push(i);for(let a=1;a<2**(t-1);a++)i=i.add(s),r.push(i);s=i.double()}return r}wNAF(t,e){!e&&this.equals(z.BASE)&&(e=H.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=e&&Nc.get(e);s||(s=this.precomputeWindow(r),e&&r!==1&&(s=z.normalizeZ(s),Nc.set(e,s)));let i=z.ZERO,o=z.ZERO;const a=1+(Ao?128/r:256/r),c=2**(r-1),l=BigInt(2**r-1),f=2**r,h=BigInt(r);for(let p=0;p<a;p++){const g=p*c;let b=Number(t&l);if(t>>=h,b>c&&(b-=f,t+=j),b===0){let E=s[g];p%2&&(E=E.negate()),o=o.add(E)}else{let E=s[g+Math.abs(b)-1];b<0&&(E=E.negate()),i=i.add(E)}}return{p:i,f:o}}multiply(t,e){let r=du(t),s,i;if(Ao){const{k1neg:o,k1:a,k2neg:c,k2:l}=gu(r);let{p:f,f:h}=this.wNAF(a,e),{p,f:g}=this.wNAF(l,e);o&&(f=f.negate()),c&&(p=p.negate()),p=new z(N(p.x*W.beta),p.y,p.z),s=f.add(p),i=h.add(g)}else{const{p:o,f:a}=this.wNAF(r,e);s=o,i=a}return z.normalizeZ([s,i])[0]}toAffine(t=uo(this.z)){const{x:e,y:r,z:s}=this,i=t,o=N(i*i),a=N(o*i),c=N(e*o),l=N(r*a);if(N(s*i)!==j)throw new Error("invZ was invalid");return new H(c,l)}}z.BASE=new z(W.Gx,W.Gy,j);z.ZERO=new z(M,j,M);const Nc=new WeakMap;class H{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Nc.delete(this)}static fromCompressedHex(t){const e=t.length===32,r=Se(e?t:t.subarray(1));if(!Xa(r))throw new Error("Point is not on curve");const s=uu(r);let i=Lg(s);const o=(i&j)===j;e?o&&(i=N(-i)):(t[0]&1)===1!==o&&(i=N(-i));const a=new H(r,i);return a.assertValidity(),a}static fromUncompressedHex(t){const e=Se(t.subarray(1,33)),r=Se(t.subarray(33,65)),s=new H(e,r);return s.assertValidity(),s}static fromHex(t){const e=Ks(t),r=e.length,s=e[0];if(r===32||r===33&&(s===2||s===3))return this.fromCompressedHex(e);if(r===65&&s===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return H.BASE.multiply(fn(t))}static fromSignature(t,e,r){t=Ks(t);const s=Fg(t),{r:i,s:o}=Gg(e);if(r!==0&&r!==1)throw new Error("Cannot recover signature: invalid recovery bit");const a=r&1?"03":"02",c=H.fromHex(a+mr(i)),{n:l}=W,f=uo(i,l),h=N(-s*f,l),p=N(o*f,l),g=H.BASE.multiplyAndAddUnsafe(c,h,p);if(!g)throw new Error("Cannot recover signature: point at infinify");return g.assertValidity(),g}toRawBytes(t=!1){return Nn(this.toHex(t))}toHex(t=!1){const e=mr(this.x);return t?`${this.y&j?"03":"02"}${e}`:`04${e}${mr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:r}=this;if(!Xa(e)||!Xa(r))throw new Error(t);const s=N(r*r),i=uu(e);if(N(s-i)!==M)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new H(this.x,N(-this.y))}double(){return z.fromAffine(this).double().toAffine()}add(t){return z.fromAffine(this).add(z.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return z.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,r){const s=z.fromAffine(this),i=e===M||e===j||this!==H.BASE?s.multiplyUnsafe(e):s.multiply(e),o=z.fromAffine(t).multiplyUnsafe(r),a=i.add(o);return a.equals(z.ZERO)?void 0:a.toAffine()}}H.BASE=new H(W.Gx,W.Gy);H.ZERO=new H(M,M);function hu(n){return Number.parseInt(n[0],16)>=8?"00"+n:n}function fu(n){if(n.length<2||n[0]!==2)throw new Error(`Invalid signature integer tag: ${Qs(n)}`);const t=n[1],e=n.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&&e[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Se(e),left:n.subarray(t+2)}}function _g(n){if(n.length<2||n[0]!=48)throw new Error(`Invalid signature tag: ${Qs(n)}`);if(n[1]!==n.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=fu(n.subarray(2)),{data:r,left:s}=fu(e);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${Qs(s)}`);return{r:t,s:r}}let Kr=class $o{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=Ii(t),r="Signature.fromCompact";if(typeof t!="string"&&!e)throw new TypeError(`${r}: Expected string or Uint8Array`);const s=e?Qs(t):t;if(s.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new $o(Jo(s.slice(0,64)),Jo(s.slice(64,128)))}static fromDER(t){const e=Ii(t);if(typeof t!="string"&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s}=_g(e?t:Nn(t));return new $o(r,s)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!Ti(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Ti(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=W.n>>j;return this.s>t}normalizeS(){return this.hasHighS()?new $o(this.r,W.n-this.s):this}toDERRawBytes(t=!1){return Nn(this.toDERHex(t))}toDERHex(t=!1){const e=hu(oi(this.s));if(t)return e;const r=hu(oi(this.r)),s=oi(r.length/2),i=oi(e.length/2);return`30${oi(r.length/2+e.length/2+4)}02${s}${r}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Nn(this.toCompactHex())}toCompactHex(){return mr(this.r)+mr(this.s)}};function Br(...n){if(!n.every(Ii))throw new Error("Uint8Array list expected");if(n.length===1)return n[0];const t=n.reduce((r,s)=>r+s.length,0),e=new Uint8Array(t);for(let r=0,s=0;r<n.length;r++){const i=n[r];e.set(i,s),s+=i.length}return e}function Ii(n){return n instanceof Uint8Array}const Bg=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function Qs(n){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e<n.length;e++)t+=Bg[n[e]];return t}function mr(n){if(n>Pc)throw new Error("Expected number < 2^256");return n.toString(16).padStart(64,"0")}function qa(n){return Nn(mr(n))}function oi(n){const t=n.toString(16);return t.length&1?`0${t}`:t}function Jo(n){if(typeof n!="string")throw new TypeError("hexToNumber: expected string, got "+typeof n);return BigInt(`0x${n}`)}function Nn(n){if(typeof n!="string")throw new TypeError("hexToBytes: expected string, got "+typeof n);if(n.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+n.length);const t=new Uint8Array(n.length/2);for(let e=0;e<t.length;e++){const r=e*2,s=n.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[e]=i}return t}function Se(n){return Jo(Qs(n))}function Ks(n){return n instanceof Uint8Array?Uint8Array.from(n):Nn(n)}function du(n){if(typeof n=="number"&&Number.isSafeInteger(n)&&n>0)return BigInt(n);if(typeof n=="bigint"&&Ti(n))return n;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function N(n,t=W.P){const e=n%t;return e>=M?e:t+e}function Mt(n,t){const{P:e}=W;let r=n;for(;t-- >M;)r*=r,r%=e;return r}function Lg(n){const{P:t}=W,e=BigInt(6),r=BigInt(11),s=BigInt(22),i=BigInt(23),o=BigInt(44),a=BigInt(88),c=n*n*n%t,l=c*c*n%t,f=Mt(l,Ai)*l%t,h=Mt(f,Ai)*l%t,p=Mt(h,st)*c%t,g=Mt(p,r)*p%t,b=Mt(g,s)*g%t,E=Mt(b,o)*b%t,v=Mt(E,a)*E%t,k=Mt(v,o)*b%t,S=Mt(k,Ai)*l%t,C=Mt(S,i)*g%t,$=Mt(C,e)*c%t;return Mt($,st)}function uo(n,t=W.P){if(n===M||t<=M)throw new Error(`invert: expected positive integers, got n=${n} mod=${t}`);let e=N(n,t),r=t,s=M,i=j;for(;e!==M;){const a=r/e,c=r%e,l=s-i*a;r=e,e=c,s=i,i=l}if(r!==j)throw new Error("invert: does not exist");return N(s,t)}function Ug(n,t=W.P){const e=new Array(n.length),r=n.reduce((i,o,a)=>o===M?i:(e[a]=i,N(i*o,t)),j),s=uo(r,t);return n.reduceRight((i,o,a)=>o===M?i:(e[a]=N(i*e[a],t),N(i*o,t)),s),e}const pu=(n,t)=>(n+t/st)/t,bo=st**BigInt(128);function gu(n){const{n:t}=W,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-j*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,o=pu(i*n,t),a=pu(-r*n,t);let c=N(n-o*e-a*s,t),l=N(-o*r-a*i,t);const f=c>bo,h=l>bo;if(f&&(c=t-c),h&&(l=t-l),c>bo||l>bo)throw new Error("splitScalarEndo: Endomorphism failed, k="+n);return{k1neg:f,k1:c,k2neg:h,k2:l}}function Fg(n){const{n:t}=W,r=n.length*8-256;let s=Se(n);return r>0&&(s=s>>BigInt(r)),s>=t&&(s-=t),s}class Dg{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...t){return qt.hmacSha256(this.k,...t)}hmacSync(...t){if(typeof qt.hmacSha256Sync!="function")throw new Error("utils.hmacSha256Sync is undefined, you need to set it");const e=qt.hmacSha256Sync(this.k,...t);if(e instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return e}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}}function Ti(n){return M<n&&n<W.n}function Xa(n){return M<n&&n<W.P}function Mg(n,t,e){const r=Se(n);if(!Ti(r))return;const{n:s}=W,i=H.BASE.multiply(r),o=N(i.x,s);if(o===M)return;const a=N(uo(r,s)*N(t+e*o,s),s);if(a===M)return;const c=new Kr(o,a),l=(i.x===c.r?0:2)|Number(i.y&j);return{sig:c,recovery:l}}function fn(n){let t;if(typeof n=="bigint")t=n;else if(typeof n=="number"&&Number.isSafeInteger(n)&&n>0)t=BigInt(n);else if(typeof n=="string"){if(n.length!==64)throw new Error("Expected 32 bytes of private key");t=Jo(n)}else if(Ii(n)){if(n.length!==32)throw new Error("Expected 32 bytes of private key");t=Se(n)}else throw new TypeError("Expected valid private key");if(!Ti(t))throw new Error("Expected private key: 0 < key < n");return t}function Hg(n){return n instanceof H?(n.assertValidity(),n):H.fromHex(n)}function Gg(n){if(n instanceof Kr)return n.assertValidity(),n;try{return Kr.fromDER(n)}catch{return Kr.fromCompact(n)}}function zg(n,t=!1){return H.fromPrivateKey(n).toRawBytes(t)}function Vg(n,t,e,r=!1){return H.fromSignature(n,t,e).toRawBytes(r)}function mu(n){const t=Ii(n),e=typeof n=="string",r=(t||e)&&n.length;return t?r===33||r===65:e?r===66||r===130:n instanceof H}function Qg(n,t,e=!1){if(mu(n))throw new TypeError("getSharedSecret: first arg must be private key");if(!mu(t))throw new TypeError("getSharedSecret: second arg must be public key");const r=Hg(t);return r.assertValidity(),r.multiply(fn(n)).toRawBytes(e)}function Lf(n){const t=n.length>32?n.slice(0,32):n;return Se(t)}function Kg(n){const t=Lf(n),e=N(t,W.n);return Uf(e<M?t:e)}function Uf(n){if(typeof n!="bigint")throw new Error("Expected bigint");const t=mr(n);return Nn(t)}function jg(n,t,e){if(n==null)throw new Error(`sign: expected valid message hash, not "${n}"`);const r=Ks(n),s=fn(t),i=[Uf(s),Kg(r)];if(e!=null){e===!0&&(e=qt.randomBytes(32));const c=Ks(e);if(c.length!==32)throw new Error("sign: Expected 32 bytes of extra data");i.push(c)}const o=Br(...i),a=Lf(r);return{seed:o,m:a,d:s}}function Jg(n,t){let{sig:e,recovery:r}=n;const{canonical:s,der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t);s&&e.hasHighS()&&(e=e.normalizeS(),r^=1);const a=i?e.toDERRawBytes():e.toCompactRawBytes();return o?[a,r]:a}function Wg(n,t,e={}){const{seed:r,m:s,d:i}=jg(n,t,e.extraEntropy);let o;const a=new Dg;for(a.reseedSync(r);!(o=Mg(a.generateSync(),s,i));)a.reseedSync();return Jg(o,e)}H.BASE._setWindowSize(8);const Ot={node:Rg,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},vo={},qt={isValidPrivateKey(n){try{return fn(n),!0}catch{return!1}},privateAdd:(n,t)=>{const e=fn(n),r=fn(t);return qa(N(e+r,W.n))},privateNegate:n=>{const t=fn(n);return qa(W.n-t)},pointAddScalar:(n,t,e)=>{const r=H.fromHex(n),s=fn(t),i=H.BASE.multiplyAndAddUnsafe(r,s,j);if(!i)throw new Error("Tweaked point at infinity");return i.toRawBytes(e)},pointMultiply:(n,t,e)=>{const r=H.fromHex(n),s=Se(Ks(t));return r.multiply(s).toRawBytes(e)},hashToPrivateKey:n=>{if(n=Ks(n),n.length<40||n.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const t=N(Se(n),W.n-j)+j;return qa(t)},randomBytes:(n=32)=>{if(Ot.web)return Ot.web.getRandomValues(new Uint8Array(n));if(Ot.node){const{randomBytes:t}=Ot.node;return Uint8Array.from(t(n))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>qt.hashToPrivateKey(qt.randomBytes(40)),bytesToHex:Qs,hexToBytes:Nn,concatBytes:Br,mod:N,invert:uo,sha256:async(...n)=>{if(Ot.web){const t=await Ot.web.subtle.digest("SHA-256",Br(...n));return new Uint8Array(t)}else if(Ot.node){const{createHash:t}=Ot.node,e=t("sha256");return n.forEach(r=>e.update(r)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(n,...t)=>{if(Ot.web){const e=await Ot.web.subtle.importKey("raw",n,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=Br(...t),s=await Ot.web.subtle.sign("HMAC",e,r);return new Uint8Array(s)}else if(Ot.node){const{createHmac:e}=Ot.node,r=e("sha256",n);return t.forEach(s=>r.update(s)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(n,...t)=>{let e=vo[n];if(e===void 0){const r=await qt.sha256(Uint8Array.from(n,s=>s.charCodeAt(0)));e=Br(r,r),vo[n]=e}return qt.sha256(e,...t)},taggedHashSync:(n,...t)=>{if(typeof qt.sha256Sync!="function")throw new Error("utils.sha256Sync is undefined, you need to set it");let e=vo[n];if(e===void 0){const r=qt.sha256Sync(Uint8Array.from(n,s=>s.charCodeAt(0)));e=Br(r,r),vo[n]=e}return qt.sha256Sync(e,...t)},precompute(n=8,t=H.BASE){const e=t===H.BASE?t:new H(t.x,t.y);return e._setWindowSize(n),e.multiply(Ai),e}},yu="0x0000000000000000000000000000000000000000",Ic="0x0000000000000000000000000000000000000000000000000000000000000000",wu=BigInt(0),Au=BigInt(1),bu=BigInt(2),vu=BigInt(27),Eu=BigInt(28),Eo=BigInt(35),Tr={};function xu(n){return Er(Ft(n),32)}var ls,us,hs,Yn;const ee=class ee{constructor(t,e,r,s){m(this,ls,void 0);m(this,us,void 0);m(this,hs,void 0);m(this,Yn,void 0);xa(t,Tr,"Signature"),d(this,ls,e),d(this,us,r),d(this,hs,s),d(this,Yn,null)}get r(){return u(this,ls)}set r(t){w(Qr(t)===32,"invalid r","value",t),d(this,ls,T(t))}get s(){return u(this,us)}set s(t){w(Qr(t)===32,"invalid r","value",t);const e=T(t);w(parseInt(e.substring(0,3))<8,"non-canonical s","value",e),d(this,us,e)}get v(){return u(this,hs)}set v(t){const e=U(t,"value");w(e===27||e===28,"invalid v","v",t),d(this,hs,e)}get networkV(){return u(this,Yn)}get legacyChainId(){const t=this.networkV;return t==null?null:ee.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=F(this.s);return this.yParity&&(t[0]|=128),T(t)}get compactSerialized(){return ot([this.r,this.yParityAndS])}get serialized(){return ot([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new ee(Tr,this.r,this.s,this.v);return this.networkV&&d(t,Yn,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=O(t,"v");return e==vu||e==Eu?wu:(w(e>=Eo,"invalid EIP-155 v","v",t),(e-Eo)/bu)}static getChainIdV(t,e){return O(t)*bu+BigInt(35+e-27)}static getNormalizedV(t){const e=O(t);return e===wu||e===vu?27:e===Au||e===Eu?28:(w(e>=Eo,"invalid v","v",t),e&Au?27:28)}static from(t){function e(l,f){w(l,f,"signature",t)}if(t==null)return new ee(Tr,Ic,Ic,27);if(typeof t=="string"){const l=F(t,"signature");if(l.length===64){const f=T(l.slice(0,32)),h=l.slice(32,64),p=h[0]&128?28:27;return h[0]&=127,new ee(Tr,f,T(h),p)}if(l.length===65){const f=T(l.slice(0,32)),h=l.slice(32,64);e((h[0]&128)===0,"non-canonical s");const p=ee.getNormalizedV(l[64]);return new ee(Tr,f,T(h),p)}e(!1,"invlaid raw signature length")}if(t instanceof ee)return t.clone();const r=t.r;e(r!=null,"missing r");const s=xu(r),i=function(l,f){if(l!=null)return xu(l);if(f!=null){e(nt(f,32),"invalid yParityAndS");const h=F(f);return h[0]&=127,T(h)}e(!1,"missing s")}(t.s,t.yParityAndS);e((F(i)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(l,f,h){if(l!=null){const p=O(l);return{networkV:p>=Eo?p:void 0,v:ee.getNormalizedV(p)}}if(f!=null)return e(nt(f,32),"invalid yParityAndS"),{v:F(f)[0]&128?28:27};if(h!=null){switch(h){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),c=new ee(Tr,s,i,a);return o&&d(c,Yn,o),e(!("yParity"in t&&t.yParity!==c.yParity),"yParity mismatch"),e(!("yParityAndS"in t&&t.yParityAndS!==c.yParityAndS),"yParityAndS mismatch"),c}};ls=new WeakMap,us=new WeakMap,hs=new WeakMap,Yn=new WeakMap;let le=ee;qt.hmacSha256Sync=function(n,...t){return F(lo("sha256",n,ot(t)))};var Ue;const Un=class Un{constructor(t){m(this,Ue,void 0);w(Qr(t)===32,"invalid private key","privateKey","[REDACTED]"),d(this,Ue,T(t))}get privateKey(){return u(this,Ue)}get publicKey(){return Un.computePublicKey(u(this,Ue))}get compressedPublicKey(){return Un.computePublicKey(u(this,Ue),!0)}sign(t){w(Qr(t)===32,"invalid digest length","digest",t);const[e,r]=Wg(It(t),It(u(this,Ue)),{recovered:!0,canonical:!0}),s=Kr.fromHex(e);return le.from({r:In("0x"+s.r.toString(16),32),s:In("0x"+s.s.toString(16),32),v:r?28:27})}computeSharedSecret(t){const e=Un.computePublicKey(t);return console.log(e),T(Qg(It(u(this,Ue)),F(e)))}static computePublicKey(t,e){let r=F(t,"key");if(r.length===32){const i=zg(r,!!e);return T(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=H.fromHex(r);return T(s.toRawBytes(e))}static recoverPublicKey(t,e){w(Qr(t)===32,"invalid digest length","digest",t);const r=le.from(e),s=Kr.fromCompact(It(ot([r.r,r.s]))).toDERRawBytes(),i=Vg(It(t),s,r.yParity);if(i!=null)return T(i);w(!1,"invalid signautre for digest","signature",e)}static addPoints(t,e,r){const s=H.fromHex(Un.computePublicKey(t).substring(2)),i=H.fromHex(Un.computePublicKey(e).substring(2));return"0x"+s.add(i).toHex(!!r)}};Ue=new WeakMap;let Oi=Un;const Yg=BigInt(0),Zg=BigInt(36);function Su(n){n=n.toLowerCase();const t=n.substring(2).split(""),e=new Uint8Array(40);for(let s=0;s<40;s++)e[s]=t[s].charCodeAt(0);const r=F(X(e));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(t[s]=t[s].toUpperCase()),(r[s>>1]&15)>=8&&(t[s+1]=t[s+1].toUpperCase());return"0x"+t.join("")}const al={};for(let n=0;n<10;n++)al[String(n)]=String(n);for(let n=0;n<26;n++)al[String.fromCharCode(65+n)]=String(10+n);const Cu=15;function qg(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let t=n.split("").map(r=>al[r]).join("");for(;t.length>=Cu;){let r=t.substring(0,Cu);t=parseInt(r,10)%97+t.substring(r.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}const Xg=function(){const n={};for(let t=0;t<36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];n[e]=BigInt(t)}return n}();function tm(n){n=n.toLowerCase();let t=Yg;for(let e=0;e<n.length;e++)t=t*Zg+Xg[n[e]];return t}function V(n){if(w(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.substring(0,2)!=="0x"&&(n="0x"+n);const t=Su(n);return w(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===n,"bad address checksum","address",n),t}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){w(n.substring(2,4)===qg(n),"bad icap checksum","address",n);let t=tm(n.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Su("0x"+t)}w(!1,"invalid address","address",n)}function em(n){const t=V(n.from);let r=O(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,V(et(X(Ni([t,r])),12))}function nm(n){return n&&typeof n.getAddress=="function"}async function tc(n,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&&(x(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),w(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),V(e)}function Dt(n,t){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?V(n):(x(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),tc(n,t.resolveName(n)));if(nm(n))return tc(n,n.getAddress());if(n&&typeof n.then=="function")return tc(n,n);w(!1,"unsupported addressable value","target",n)}const Ne={};function P(n,t){let e=!1;return t<0&&(e=!0,t*=-1),new wt(Ne,`${e?"":"u"}int${t}`,n,{signed:e,width:t})}function D(n,t){return new wt(Ne,`bytes${t||""}`,n,{size:t})}const ku=Symbol.for("_ethers_typed");var Zn;const Ie=class Ie{constructor(t,e,r,s){y(this,"type");y(this,"value");m(this,Zn,void 0);y(this,"_typedSymbol");s==null&&(s=null),xa(Ne,t,"Typed"),R(this,{_typedSymbol:ku,type:e,value:r}),d(this,Zn,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.substring(0,5)==="bytes"}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return u(this,Zn)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return u(this,Zn)===!0?-1:u(this,Zn)===!1?this.value.length:null}static from(t,e){return new Ie(Ne,t,e)}static uint8(t){return P(t,8)}static uint16(t){return P(t,16)}static uint24(t){return P(t,24)}static uint32(t){return P(t,32)}static uint40(t){return P(t,40)}static uint48(t){return P(t,48)}static uint56(t){return P(t,56)}static uint64(t){return P(t,64)}static uint72(t){return P(t,72)}static uint80(t){return P(t,80)}static uint88(t){return P(t,88)}static uint96(t){return P(t,96)}static uint104(t){return P(t,104)}static uint112(t){return P(t,112)}static uint120(t){return P(t,120)}static uint128(t){return P(t,128)}static uint136(t){return P(t,136)}static uint144(t){return P(t,144)}static uint152(t){return P(t,152)}static uint160(t){return P(t,160)}static uint168(t){return P(t,168)}static uint176(t){return P(t,176)}static uint184(t){return P(t,184)}static uint192(t){return P(t,192)}static uint200(t){return P(t,200)}static uint208(t){return P(t,208)}static uint216(t){return P(t,216)}static uint224(t){return P(t,224)}static uint232(t){return P(t,232)}static uint240(t){return P(t,240)}static uint248(t){return P(t,248)}static uint256(t){return P(t,256)}static uint(t){return P(t,256)}static int8(t){return P(t,-8)}static int16(t){return P(t,-16)}static int24(t){return P(t,-24)}static int32(t){return P(t,-32)}static int40(t){return P(t,-40)}static int48(t){return P(t,-48)}static int56(t){return P(t,-56)}static int64(t){return P(t,-64)}static int72(t){return P(t,-72)}static int80(t){return P(t,-80)}static int88(t){return P(t,-88)}static int96(t){return P(t,-96)}static int104(t){return P(t,-104)}static int112(t){return P(t,-112)}static int120(t){return P(t,-120)}static int128(t){return P(t,-128)}static int136(t){return P(t,-136)}static int144(t){return P(t,-144)}static int152(t){return P(t,-152)}static int160(t){return P(t,-160)}static int168(t){return P(t,-168)}static int176(t){return P(t,-176)}static int184(t){return P(t,-184)}static int192(t){return P(t,-192)}static int200(t){return P(t,-200)}static int208(t){return P(t,-208)}static int216(t){return P(t,-216)}static int224(t){return P(t,-224)}static int232(t){return P(t,-232)}static int240(t){return P(t,-240)}static int248(t){return P(t,-248)}static int256(t){return P(t,-256)}static int(t){return P(t,-256)}static bytes1(t){return D(t,1)}static bytes2(t){return D(t,2)}static bytes3(t){return D(t,3)}static bytes4(t){return D(t,4)}static bytes5(t){return D(t,5)}static bytes6(t){return D(t,6)}static bytes7(t){return D(t,7)}static bytes8(t){return D(t,8)}static bytes9(t){return D(t,9)}static bytes10(t){return D(t,10)}static bytes11(t){return D(t,11)}static bytes12(t){return D(t,12)}static bytes13(t){return D(t,13)}static bytes14(t){return D(t,14)}static bytes15(t){return D(t,15)}static bytes16(t){return D(t,16)}static bytes17(t){return D(t,17)}static bytes18(t){return D(t,18)}static bytes19(t){return D(t,19)}static bytes20(t){return D(t,20)}static bytes21(t){return D(t,21)}static bytes22(t){return D(t,22)}static bytes23(t){return D(t,23)}static bytes24(t){return D(t,24)}static bytes25(t){return D(t,25)}static bytes26(t){return D(t,26)}static bytes27(t){return D(t,27)}static bytes28(t){return D(t,28)}static bytes29(t){return D(t,29)}static bytes30(t){return D(t,30)}static bytes31(t){return D(t,31)}static bytes32(t){return D(t,32)}static address(t){return new Ie(Ne,"address",t)}static bool(t){return new Ie(Ne,"bool",!!t)}static bytes(t){return new Ie(Ne,"bytes",t)}static string(t){return new Ie(Ne,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Ie(Ne,"overrides",Object.assign({},t))}static isTyped(t){return t&&t._typedSymbol===ku}static dereference(t,e){if(Ie.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}};Zn=new WeakMap;let wt=Ie;class rm extends tn{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let r=wt.dereference(e,"string");try{r=V(r)}catch(s){return this._throwError(s.message,e)}return t.writeValue(r)}decode(t){return V(In(t.readValue(),20))}}class sm extends tn{constructor(e){super(e.name,e.type,"_",e.dynamic);y(this,"coder");this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}function Ff(n,t,e){let r=[];if(Array.isArray(e))r=e;else if(e&&typeof e=="object"){let c={};r=t.map(l=>{const f=l.localName;return x(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:e}),x(c[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:e}),c[f]=!0,e[f]})}else w(!1,"invalid tuple value","tuple",e);w(t.length===r.length,"types/value length mismatch","tuple",e);let s=new xc,i=new xc,o=[];t.forEach((c,l)=>{let f=r[l];if(c.dynamic){let h=i.length;c.encode(i,f);let p=s.writeUpdatableValue();o.push(g=>{p(g+h)})}else c.encode(s,f)}),o.forEach(c=>{c(s.length)});let a=n.appendWriter(s);return a+=n.appendWriter(i),a}function Df(n,t){let e=[],r=[],s=n.subReader(0);return t.forEach(i=>{let o=null;if(i.dynamic){let a=n.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(l){if(gr(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(n)}catch(a){if(gr(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");e.push(o),r.push(i.localName||null)}),Ko.fromItems(e,r)}class im extends tn{constructor(e,r,s){const i=e.type+"["+(r>=0?r:"")+"]",o=r===-1||e.dynamic;super("array",i,s,o);y(this,"coder");y(this,"length");R(this,{coder:e,length:r})}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(e);return r}encode(e,r){const s=wt.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,e.writeValue(s.length)),uf(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return Ff(e,o,s)}decode(e){let r=this.length;r===-1&&(r=e.readIndex(),x(r*vt<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:r*vt,length:e.dataLength}));let s=[];for(let i=0;i<r;i++)s.push(new sm(this.coder));return Df(e,s)}}class om extends tn{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const r=wt.dereference(e,"bool");return t.writeValue(r?1:0)}decode(t){return!!t.readValue()}}class Mf extends tn{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=It(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readIndex(),!0)}}class am extends Mf{constructor(t){super("bytes",t)}decode(t){return T(super.decode(t))}}class cm extends tn{constructor(e,r){let s="bytes"+String(e);super(s,s,r,!1);y(this,"size");R(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let s=It(wt.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(s)}decode(e){return T(e.readBytes(this.size))}}const lm=new Uint8Array([]);class um extends tn{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&&this._throwError("not null",e),t.writeBytes(lm)}decode(t){return t.readBytes(0),null}}const hm=BigInt(0),fm=BigInt(1),dm=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class pm extends tn{constructor(e,r,s){const i=(r?"int":"uint")+e*8;super(i,i,s,!1);y(this,"size");y(this,"signed");R(this,{size:e,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,r){let s=O(wt.dereference(r,this.type)),i=li(dm,vt*8);if(this.signed){let o=li(i,this.size*8-1);(s>o||s<-(o+fm))&&this._throwError("value out-of-bounds",r),s=ff(s,8*vt)}else(s<hm||s>li(i,this.size*8))&&this._throwError("value out-of-bounds",r);return e.writeValue(s)}decode(e){let r=li(e.readValue(),this.size*8);return this.signed&&(r=dp(r,this.size*8)),r}}class gm extends Mf{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,Ye(wt.dereference(e,"string")))}decode(t){return sl(super.decode(t))}}class xo extends tn{constructor(e,r){let s=!1;const i=[];e.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,s);y(this,"coders");R(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(s=>{e.push(s.defaultValue())});const r=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,r){const s=wt.dereference(r,"tuple");return Ff(e,this.coders,s)}decode(e){return Df(e,this.coders)}}function xr(n){return X(Ye(n))}function mm(n){let t=0;function e(){return n[t++]<<8|n[t++]}let r=e(),s=1,i=[0,1];for(let B=1;B<r;B++)i.push(s+=e());let o=e(),a=t;t+=o;let c=0,l=0;function f(){return c==0&&(l=l<<8|n[t++],c=8),l>>--c&1}const h=31,p=2**h,g=p>>>1,b=g>>1,E=p-1;let v=0;for(let B=0;B<h;B++)v=v<<1|f();let k=[],S=0,C=p;for(;;){let B=Math.floor(((v-S+1)*s-1)/C),G=0,Q=r;for(;Q-G>1;){let tt=G+Q>>>1;B<i[tt]?Q=tt:G=tt}if(G==0)break;k.push(G);let L=S+Math.floor(C*i[G]/s),K=S+Math.floor(C*i[G+1]/s)-1;for(;!((L^K)&g);)v=v<<1&E|f(),L=L<<1&E,K=K<<1&E|1;for(;L&~K&b;)v=v&g|v<<1&E>>>1|f(),L=L<<1^g,K=(K^g)<<1|g|1;S=L,C=1+K-L}let $=r-4;return k.map(B=>{switch(B-$){case 3:return $+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return $+256+(n[a++]<<8|n[a++]);case 1:return $+n[a++];default:return B-1}})}function ym(n){let t=0;return()=>n[t++]}function wm(n){return ym(mm(Am(n)))}function Am(n){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>t[s.charCodeAt(0)]=i);let e=n.length,r=new Uint8Array(6*e>>3);for(let s=0,i=0,o=0,a=0;s<e;s++)a=a<<6|t[n.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function bm(n){return n&1?~n>>1:n>>1}function vm(n,t){let e=Array(n);for(let r=0,s=0;r<n;r++)e[r]=s+=bm(t());return e}function js(n,t=0){let e=[];for(;;){let r=n(),s=n();if(!s)break;t+=r;for(let i=0;i<s;i++)e.push(t+i);t+=s+1}return e}function Em(n){return Ri(()=>{let t=js(n);if(t.length)return t})}function xm(n){let t=[];for(;;){let e=n();if(e==0)break;t.push(Sm(e,n))}for(;;){let e=n()-1;if(e<0)break;t.push(Cm(e,n))}return t.flat()}function Ri(n){let t=[];for(;;){let e=n(t.length);if(!e)break;t.push(e)}return t}function Hf(n,t,e){let r=Array(n).fill().map(()=>[]);for(let s=0;s<t;s++)vm(n,e).forEach((i,o)=>r[o].push(i));return r}function Sm(n,t){let e=1+t(),r=t(),s=Ri(t);return Hf(s.length,1+n,t).flatMap((o,a)=>{let[c,...l]=o;return Array(s[a]).fill().map((f,h)=>{let p=h*r;return[c+h*e,l.map(g=>g+p)]})})}function Cm(n,t){let e=1+t();return Hf(e,1+n,t).map(s=>[s[0],s.slice(1)])}var te=wm("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");const Pu=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function km(n){return n.toString(16).toUpperCase().padStart(2,"0")}function Gf(n){return`{${km(n)}}`}function zf(n){let t=[];for(let e=0,r=n.length;e<r;){let s=n.codePointAt(e);e+=s<65536?1:2,t.push(s)}return t}function Sr(n){let e=n.length;if(e<4096)return String.fromCodePoint(...n);let r=[];for(let s=0;s<e;)r.push(String.fromCodePoint(...n.slice(s,s+=4096)));return r.join("")}function Vf(n,t){return zf(Sr(n).normalize(t))}function Pm(n){return Vf(n,"NFC")}function Qf(n){return Vf(n,"NFD")}const Tc=65039,Kf=".",jf=1,Nu=45;function qs(){return new Set(js(te))}const Nm=new Map(xm(te)),Im=qs(),$i=qs(),Tm=qs();qs();const Om=Em(te);function Iu(){return new Set([js(te).map(n=>Om[n]),js(te)].flat(2))}const Rm=te(),_i=Ri(n=>{let t=Ri(te).map(e=>e+96);if(t.length){let e=n>=Rm;t[0]-=32,t=Sr(t),e&&(t=`Restricted[${t}]`);let r=Iu(),s=Iu(),i=[...r,...s].sort((a,c)=>a-c),o=te()-1;return{N:t,P:r,M:o,R:e,V:new Set(i)}}}),Tu=qs(),Bi=new Map;[...Tu,...qs()].sort((n,t)=>n-t).map((n,t,e)=>{let r=te(),s=e[t]=r?e[t-r]:{V:[],M:new Map};s.V.push(n),Tu.has(n)||Bi.set(n,s)});for(let{V:n,M:t}of new Set(Bi.values())){let e=[];for(let s of n){let i=_i.filter(a=>a.V.has(s)),o=e.find(({G:a})=>i.some(c=>a.has(c)));o||(o={G:new Set,V:[]},e.push(o)),o.V.push(s),i.forEach(a=>o.G.add(a))}let r=e.flatMap(({G:s})=>[...s]);for(let{G:s,V:i}of e){let o=new Set(r.filter(a=>!s.has(a)));for(let a of i)t.set(a,o)}}let Li=new Set,Jf=new Set;for(let n of _i)for(let t of n.V)(Li.has(t)?Jf:Li).add(t);for(let n of Li)!Bi.has(n)&&!Jf.has(n)&&Bi.set(n,jf);const $m=new Set([...Li,...Qf(Li)]),_m=js(te),Bm=Wf([]);function Wf(n){let t=Ri(()=>{let a=js(te).map(c=>_m[c]);if(a.length)return Wf(a)}).sort((a,c)=>c.Q.size-a.Q.size),e=te(),r=e%3;e=e/3|0;let s=e&1;e>>=1;let i=e&1,o=e&2;return{B:t,V:r,F:s,S:i,C:o,Q:new Set(n)}}class Lm extends Array{get is_emoji(){return!0}}function cl(n,t=Gf){let e=[];Dm(n[0])&&e.push("");let r=0,s=n.length;for(let i=0;i<s;i++){let o=n[i];Zf(o)&&(e.push(Sr(n.slice(r,i))),e.push(t(o)),r=i+1)}return e.push(Sr(n.slice(r,s))),e.join("")}function Yf(n){return(Zf(n)?"":`"${cl([n])}" `)+Gf(n)}function Um(n){if(n.length>=4&&n[2]==Nu&&n[3]==Nu)throw new Error("invalid label extension")}function Ou(n){for(let e=n.lastIndexOf(95);e>0;)if(n[--e]!==95)throw new Error("underscore allowed only at start")}function Fm(n){let t=n[0],e=Pu.get(t);if(e)throw bi(`leading ${e}`);let r=n.length,s=-1;for(let i=1;i<r;i++){t=n[i];let o=Pu.get(t);if(o){if(s==i)throw bi(`${e} + ${o}`);s=i+1,e=o}}if(s==r)throw bi(`trailing ${e}`)}function Dm(n){return $i.has(n)}function Zf(n){return Tm.has(n)}function Mm(n){return Vm(Hm(n))}function Hm(n,t){let e=0;return n.split(Kf).map(r=>{let s=zf(r),i={input:s,offset:e};e+=s.length+1;let o;try{let a=i.tokens=Km(s,Pm),c=a.length,l;if(c){let f=a[0],h=c>1||f.is_emoji;if(!h&&f.every(p=>p<128))o=f,Ou(o),Um(o),l="ASCII";else if(h&&(i.emoji=!0,f=a.flatMap(p=>p.is_emoji?[]:p)),o=a.flatMap(p=>!t&&p.is_emoji?jm(p):p),Ou(o),!f.length)l="Emoji";else{if($i.has(o[0]))throw bi("leading combining mark");for(let b=1;b<c;b++){let E=a[b];if(!E.is_emoji&&$i.has(E[0]))throw bi(`emoji + combining mark: "${Sr(a[b-1])} + ${cl([E[0]])}"`)}Fm(o);let p=[...new Set(f)],[g]=zm(p);Qm(g,f),Gm(g,p),l=g.N}}else throw new Error("empty label");i.type=l}catch(a){i.error=a}return i.output=o,i})}function Gm(n,t){let e,r=[];for(let s of t){let i=Bi.get(s);if(i===jf)return;if(i){let o=i.M.get(s);if(e=e?e.filter(a=>o.has(a)):[...o],!e.length)return}else r.push(s)}if(e){for(let s of e)if(r.every(i=>s.V.has(i)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function zm(n){let t=_i;for(let e of n){let r=t.filter(s=>s.V.has(e));if(!r.length)throw t===_i?qf(e):Xf(t[0],e);if(t=r,r.length==1)break}return t}function Vm(n){return n.map(({input:t,error:e,output:r})=>{if(e){let s=e.message;throw new Error(n.length==1?s:`Invalid label "${cl(t)}": ${s}`)}return Sr(r)}).join(Kf)}function qf(n){return new Error(`disallowed character: ${Yf(n)}`)}function Xf(n,t){let e=Yf(t),r=_i.find(s=>s.P.has(t));return r&&(e=`${r.N} ${e}`),new Error(`illegal mixture: ${n.N} + ${e}`)}function bi(n){return new Error(`illegal placement: ${n}`)}function Qm(n,t){let{V:e,M:r}=n;for(let s of t)if(!e.has(s))throw Xf(n,s);if(r>=0){let s=Qf(t);for(let i=1,o=s.length;i<o;i++)if($i.has(t[i])){let a=i+1;for(;a<o&&$i.has(t[a]);)a++;if(a-i>r)throw new Error(`too many combining marks: ${n.N} "${Sr(t.slice(i-1,a))}" (${a-i}/${r})`);i=a}}}function Km(n,t){let e=[],r=[];for(n=n.slice().reverse();n.length;){let s=Jm(n);if(s)r.length&&(e.push(t(r)),r=[]),e.push(s);else{let i=n.pop();if($m.has(i))r.push(i);else{let o=Nm.get(i);if(o)r.push(...o);else if(!Im.has(i))throw qf(i)}}}return r.length&&e.push(t(r)),e}function jm(n){return n.filter(t=>t!=Tc)}function Jm(n,t){let e=Bm,r,s,i=[],o=n.length;for(t&&(t.length=0);o;){let a=n[--o];if(e=e.B.find(c=>c.Q.has(a)),!e)break;if(e.S)s=a;else if(e.C&&a===s)break;i.push(a),e.F&&(i.push(Tc),o>0&&n[o-1]==Tc&&o--),e.V&&(r=Wm(i,e),t&&t.push(...n.slice(o).reverse()),n.length=o)}return r}function Wm(n,t){let e=Lm.from(n);return t.V==2&&e.splice(1,1),e}const td=new Uint8Array(32);td.fill(0);function Ru(n){return w(n.length!==0,"invalid ENS name; empty component","comp",n),n}function ed(n){const t=Ye(Ym(n)),e=[];if(n.length===0)return e;let r=0;for(let s=0;s<t.length;s++)t[s]===46&&(e.push(Ru(t.slice(r,s))),r=s+1);return w(r<t.length,"invalid ENS name; empty component","name",n),e.push(Ru(t.slice(r))),e}function Ym(n){try{return Mm(n)}catch(t){w(!1,`invalid ENS name (${t.message})`,"name",n)}}function Oc(n){w(typeof n=="string","invalid ENS name; not a string","name",n);let t=td;const e=ed(n);for(;e.length;)t=X(ot([t,X(e.pop())]));return T(t)}function Zm(n){return T(ot(ed(n).map(t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e})))+"00"}function ec(n,t){return{address:V(n),storageKeys:t.map((e,r)=>(w(nt(e,32),"invalid slot",`storageKeys[${r}]`,e),e.toLowerCase()))}}function Nr(n){if(Array.isArray(n))return n.map((e,r)=>Array.isArray(e)?(w(e.length===2,"invalid slot set",`value[${r}]`,e),ec(e[0],e[1])):(w(e!=null&&typeof e=="object","invalid address-slot set","value",n),ec(e.address,e.storageKeys)));w(n!=null&&typeof n=="object","invalid access list","value",n);const t=Object.keys(n).map(e=>{const r=n[e].reduce((s,i)=>(s[i]=!0,s),{});return ec(e,Object.keys(r).sort())});return t.sort((e,r)=>e.address.localeCompare(r.address)),t}function qm(n){let t;return typeof n=="string"?t=Oi.computePublicKey(n,!1):t=n.publicKey,V(X("0x"+t.substring(4)).substring(26))}function Xm(n,t){return qm(Oi.recoverPublicKey(n,t))}const Ut=BigInt(0),ty=BigInt(2),ey=BigInt(27),ny=BigInt(28),ry=BigInt(35),sy=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ll(n){return n==="0x"?null:V(n)}function nd(n,t){try{return Nr(n)}catch(e){w(!1,e.message,t,n)}}function Pa(n,t){return n==="0x"?0:U(n,t)}function bt(n,t){if(n==="0x")return Ut;const e=O(n,t);return w(e<=sy,"value exceeds uint size",t,e),e}function ft(n,t){const e=O(n,"value"),r=Ft(e);return w(r.length<=32,"value too large",`tx.${t}`,e),r}function rd(n){return Nr(n).map(t=>[t.address,t.storageKeys])}function iy(n){const t=il(n);w(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",n);const e={type:0,nonce:Pa(t[0],"nonce"),gasPrice:bt(t[1],"gasPrice"),gasLimit:bt(t[2],"gasLimit"),to:ll(t[3]),value:bt(t[4],"value"),data:T(t[5]),chainId:Ut};if(t.length===6)return e;const r=bt(t[6],"v"),s=bt(t[7],"r"),i=bt(t[8],"s");if(s===Ut&&i===Ut)e.chainId=r;else{let o=(r-ry)/ty;o<Ut&&(o=Ut),e.chainId=o,w(o!==Ut||r===ey||r===ny,"non-canonical legacy v","v",t[6]),e.signature=le.from({r:Er(t[7],32),s:Er(t[8],32),v:r}),e.hash=X(n)}return e}function $u(n,t){const e=[ft(n.nonce||0,"nonce"),ft(n.gasPrice||0,"gasPrice"),ft(n.gasLimit||0,"gasLimit"),n.to!=null?V(n.to):"0x",ft(n.value||0,"value"),n.data||"0x"];let r=Ut;if(n.chainId!=null)r=O(n.chainId,"tx.chainId"),w(!t||t.networkV==null||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(t){const i=t.legacyChainId;i!=null&&(r=i)}if(!t)return r!==Ut&&(e.push(Ft(r)),e.push("0x"),e.push("0x")),Ni(e);let s=BigInt(27+t.yParity);return r!==Ut?s=le.getChainIdV(r,t.v):BigInt(t.v)!==s&&w(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(Ft(s)),e.push(Ft(t.r)),e.push(Ft(t.s)),Ni(e)}function sd(n,t,e){let r;try{if(r=Pa(t[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{w(!1,"invalid yParity","yParity",t[0])}const s=Er(t[1],32),i=Er(t[2],32),o=le.from({r:s,s:i,yParity:r});n.signature=o}function oy(n){const t=il(F(n).slice(1));w(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",T(n));const e=bt(t[2],"maxPriorityFeePerGas"),r=bt(t[3],"maxFeePerGas"),s={type:2,chainId:bt(t[0],"chainId"),nonce:Pa(t[1],"nonce"),maxPriorityFeePerGas:e,maxFeePerGas:r,gasPrice:null,gasLimit:bt(t[4],"gasLimit"),to:ll(t[5]),value:bt(t[6],"value"),data:T(t[7]),accessList:nd(t[8],"accessList")};return t.length===9||(s.hash=X(n),sd(s,t.slice(9))),s}function _u(n,t){const e=[ft(n.chainId||0,"chainId"),ft(n.nonce||0,"nonce"),ft(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ft(n.maxFeePerGas||0,"maxFeePerGas"),ft(n.gasLimit||0,"gasLimit"),n.to!=null?V(n.to):"0x",ft(n.value||0,"value"),n.data||"0x",rd(n.accessList||[])];return t&&(e.push(ft(t.yParity,"yParity")),e.push(Ft(t.r)),e.push(Ft(t.s))),ot(["0x02",Ni(e)])}function ay(n){const t=il(F(n).slice(1));w(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",T(n));const e={type:1,chainId:bt(t[0],"chainId"),nonce:Pa(t[1],"nonce"),gasPrice:bt(t[2],"gasPrice"),gasLimit:bt(t[3],"gasLimit"),to:ll(t[4]),value:bt(t[5],"value"),data:T(t[6]),accessList:nd(t[7],"accessList")};return t.length===8||(e.hash=X(n),sd(e,t.slice(8))),e}function Bu(n,t){const e=[ft(n.chainId||0,"chainId"),ft(n.nonce||0,"nonce"),ft(n.gasPrice||0,"gasPrice"),ft(n.gasLimit||0,"gasLimit"),n.to!=null?V(n.to):"0x",ft(n.value||0,"value"),n.data||"0x",rd(n.accessList||[])];return t&&(e.push(ft(t.yParity,"recoveryParam")),e.push(Ft(t.r)),e.push(Ft(t.s))),ot(["0x01",Ni(e)])}var Fe,fs,ds,ps,gs,ms,ys,ws,As,bs,vs,Es;const un=class un{constructor(){m(this,Fe,void 0);m(this,fs,void 0);m(this,ds,void 0);m(this,ps,void 0);m(this,gs,void 0);m(this,ms,void 0);m(this,ys,void 0);m(this,ws,void 0);m(this,As,void 0);m(this,bs,void 0);m(this,vs,void 0);m(this,Es,void 0);d(this,Fe,null),d(this,fs,null),d(this,ps,0),d(this,gs,BigInt(0)),d(this,ms,null),d(this,ys,null),d(this,ws,null),d(this,ds,"0x"),d(this,As,BigInt(0)),d(this,bs,BigInt(0)),d(this,vs,null),d(this,Es,null)}get type(){return u(this,Fe)}set type(t){switch(t){case null:d(this,Fe,null);break;case 0:case"legacy":d(this,Fe,0);break;case 1:case"berlin":case"eip-2930":d(this,Fe,1);break;case 2:case"london":case"eip-1559":d(this,Fe,2);break;default:w(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return u(this,fs)}set to(t){d(this,fs,t==null?null:V(t))}get nonce(){return u(this,ps)}set nonce(t){d(this,ps,U(t,"value"))}get gasLimit(){return u(this,gs)}set gasLimit(t){d(this,gs,O(t))}get gasPrice(){const t=u(this,ms);return t==null&&(this.type===0||this.type===1)?Ut:t}set gasPrice(t){d(this,ms,t==null?null:O(t,"gasPrice"))}get maxPriorityFeePerGas(){const t=u(this,ys);return t??(this.type===2?Ut:null)}set maxPriorityFeePerGas(t){d(this,ys,t==null?null:O(t,"maxPriorityFeePerGas"))}get maxFeePerGas(){const t=u(this,ws);return t??(this.type===2?Ut:null)}set maxFeePerGas(t){d(this,ws,t==null?null:O(t,"maxFeePerGas"))}get data(){return u(this,ds)}set data(t){d(this,ds,T(t))}get value(){return u(this,As)}set value(t){d(this,As,O(t,"value"))}get chainId(){return u(this,bs)}set chainId(t){d(this,bs,O(t))}get signature(){return u(this,vs)||null}set signature(t){d(this,vs,t==null?null:le.from(t))}get accessList(){const t=u(this,Es)||null;return t??(this.type===1||this.type===2?[]:null)}set accessList(t){d(this,Es,t==null?null:Nr(t))}get hash(){return this.signature==null?null:X(this.serialized)}get unsignedHash(){return X(this.unsignedSerialized)}get from(){return this.signature==null?null:Xm(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Oi.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(x(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return $u(this,this.signature);case 1:return Bu(this,this.signature);case 2:return _u(this,this.signature)}x(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return $u(this);case 1:return Bu(this);case 2:return _u(this)}x(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&x(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),x(!e||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),x(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):e?s.push(2):t?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(s.push(0),s.push(1),s.push(2)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return un.from(this)}toJSON(){const t=e=>e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new un;if(typeof t=="string"){const r=F(t);if(r[0]>=127)return un.from(iy(r));switch(r[0]){case 1:return un.from(ay(r));case 2:return un.from(oy(r))}x(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new un;return t.type!=null&&(e.type=t.type),t.to!=null&&(e.to=t.to),t.nonce!=null&&(e.nonce=t.nonce),t.gasLimit!=null&&(e.gasLimit=t.gasLimit),t.gasPrice!=null&&(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(e.maxFeePerGas=t.maxFeePerGas),t.data!=null&&(e.data=t.data),t.value!=null&&(e.value=t.value),t.chainId!=null&&(e.chainId=t.chainId),t.signature!=null&&(e.signature=le.from(t.signature)),t.accessList!=null&&(e.accessList=t.accessList),t.hash!=null&&(w(e.isSigned(),"unsigned transaction cannot define hash","tx",t),w(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(w(e.isSigned(),"unsigned transaction cannot define from","tx",t),w(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}};Fe=new WeakMap,fs=new WeakMap,ds=new WeakMap,ps=new WeakMap,gs=new WeakMap,ms=new WeakMap,ys=new WeakMap,ws=new WeakMap,As=new WeakMap,bs=new WeakMap,vs=new WeakMap,Es=new WeakMap;let Wo=un;const id=new Uint8Array(32);id.fill(0);const cy=BigInt(-1),od=BigInt(0),ad=BigInt(1),ly=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function uy(n){const t=F(n),e=t.length%32;return e?ot([t,id.slice(e)]):T(t)}const hy=In(ad,32),fy=In(od,32),Lu={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},nc=["name","version","chainId","verifyingContract","salt"];function Uu(n){return function(t){return w(typeof t=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,t),t}}const dy={name:Uu("name"),version:Uu("version"),chainId:function(n){return O(n,"domain.chainId")},verifyingContract:function(n){try{return V(n).toLowerCase()}catch{}w(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const t=F(n,"domain.salt");return w(t.length===32,'invalid domain value "salt"',"domain.salt",n),T(t)}};function rc(n){{const t=n.match(/^(u?)int(\d*)$/);if(t){const e=t[1]==="",r=parseInt(t[2]||"256");w(r%8===0&&r!==0&&r<=256&&(t[2]==null||t[2]===String(r)),"invalid numeric width","type",n);const s=li(ly,e?r-1:r),i=e?(s+ad)*cy:od;return function(o){const a=O(o,"value");return w(a>=i&&a<=s,`value out-of-bounds for ${n}`,"value",a),In(ff(a,256),32)}}}{const t=n.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return w(e!==0&&e<=32&&t[1]===String(e),"invalid bytes width","type",n),function(r){const s=F(r);return w(s.length===e,`invalid length for ${n}`,"value",r),uy(r)}}}switch(n){case"address":return function(t){return Er(V(t),32)};case"bool":return function(t){return t?hy:fy};case"bytes":return function(t){return X(t)};case"string":return function(t){return xr(t)}}return null}function Fu(n,t){return`${n}(${t.map(({name:e,type:r})=>r+" "+e).join(",")})`}var Qi,De,xs,pa,cd;const Qt=class Qt{constructor(t){m(this,pa);y(this,"primaryType");m(this,Qi,void 0);m(this,De,void 0);m(this,xs,void 0);d(this,Qi,JSON.stringify(t)),d(this,De,new Map),d(this,xs,new Map);const e=new Map,r=new Map,s=new Map;Object.keys(t).forEach(a=>{e.set(a,new Set),r.set(a,[]),s.set(a,new Set)});for(const a in t){const c=new Set;for(const l of t[a]){w(!c.has(l.name),`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",t),c.add(l.name);const f=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;w(f!==a,`circular type reference to ${JSON.stringify(f)}`,"types",t),!rc(f)&&(w(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",t),r.get(f).push(a),e.get(a).add(f))}}const i=Array.from(r.keys()).filter(a=>r.get(a).length===0);w(i.length!==0,"missing primary type","types",t),w(i.length===1,`ambiguous primary types or unused types: ${i.map(a=>JSON.stringify(a)).join(", ")}`,"types",t),R(this,{primaryType:i[0]});function o(a,c){w(!c.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",t),c.add(a);for(const l of e.get(a))if(r.has(l)){o(l,c);for(const f of c)s.get(f).add(l)}c.delete(a)}o(this.primaryType,new Set);for(const[a,c]of s){const l=Array.from(c);l.sort(),u(this,De).set(a,Fu(a,t[a])+l.map(f=>Fu(f,t[f])).join(""))}}get types(){return JSON.parse(u(this,Qi))}getEncoder(t){let e=u(this,xs).get(t);return e||(e=A(this,pa,cd).call(this,t),u(this,xs).set(t,e)),e}encodeType(t){const e=u(this,De).get(t);return w(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return X(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(rc(t))return r(t,e);const s=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s)return w(!s[3]||parseInt(s[3])===e.length,`array length mismatch; expected length ${parseInt(s[3])}`,"value",e),e.map(o=>this._visit(s[1],o,r));const i=this.types[t];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,e[a],r),o),{});w(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Qt(t)}static getPrimaryType(t){return Qt.from(t).primaryType}static hashStruct(t,e,r){return Qt.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const s=Lu[r];w(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:s})}return e.sort((r,s)=>nc.indexOf(r.name)-nc.indexOf(s.name)),Qt.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return ot(["0x1901",Qt.hashDomain(t),Qt.from(e).hash(r)])}static hash(t,e,r){return X(Qt.encode(t,e,r))}static async resolveNames(t,e,r,s){t=Object.assign({},t);const i={};t.verifyingContract&&!nt(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=Qt.from(e);o.visit(r,(a,c)=>(a==="address"&&!nt(c,20)&&(i[c]="0x"),c));for(const a in i)i[a]=await s(a);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:t,value:r}}static getPayload(t,e,r){Qt.hashDomain(t);const s={},i=[];nc.forEach(c=>{const l=t[c];l!=null&&(s[c]=dy[c](l),i.push({name:c,type:Lu[c]}))});const o=Qt.from(e),a=Object.assign({},e);return w(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),a.EIP712Domain=i,o.encode(r),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return T(F(l));if(c.match(/^u?int/))return O(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return w(typeof l=="string","invalid string","value",l),l}w(!1,"unsupported type","type",c)})}}};Qi=new WeakMap,De=new WeakMap,xs=new WeakMap,pa=new WeakSet,cd=function(t){{const s=rc(t);if(s)return s}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const s=e[1],i=this.getEncoder(s);return o=>{w(!e[3]||parseInt(e[3])===o.length,`array length mismatch; expected length ${parseInt(e[3])}`,"value",o);let a=o.map(i);return u(this,De).has(s)&&(a=a.map(X)),X(ot(a))}}const r=this.types[t];if(r){const s=xr(u(this,De).get(t));return i=>{const o=r.map(({name:a,type:c})=>{const l=this.getEncoder(c)(i[a]);return u(this,De).has(c)?X(l):l});return o.unshift(s),ot(o)}}w(!1,`unknown type: ${t}`,"type",t)};let Yo=Qt;function Et(n){const t=new Set;return n.forEach(e=>t.add(e)),Object.freeze(t)}const ld="constant external internal payable private public pure view",py=Et(ld.split(" ")),ud="constructor error event fallback function receive struct",hd=Et(ud.split(" ")),fd="calldata memory storage payable indexed",gy=Et(fd.split(" ")),my="tuple returns",yy=[ud,fd,my,ld].join(" "),wy=Et(yy.split(" ")),Ay={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},by=new RegExp("^(\\s*)"),vy=new RegExp("^([0-9]+)"),ul=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),dd=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))");var ht,ie,Ki,Rc;const ga=class ga{constructor(t){m(this,Ki);m(this,ht,void 0);m(this,ie,void 0);d(this,ht,0),d(this,ie,t.slice())}get offset(){return u(this,ht)}get length(){return u(this,ie).length-u(this,ht)}clone(){return new ga(u(this,ie))}reset(){d(this,ht,0)}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t)throw new Error(`expected ${t}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=A(this,Ki,Rc).call(this,u(this,ht)+1,t.match+1);return d(this,ht,t.match+1),e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;u(this,ht)<t.match-1;){const r=this.peek().linkNext;e.push(A(this,Ki,Rc).call(this,u(this,ht)+1,r)),d(this,ht,r)}return d(this,ht,t.match+1),e}peek(){if(u(this,ht)>=u(this,ie).length)throw new Error("out-of-bounds");return u(this,ie)[u(this,ht)]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&&t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return Xs(this,ht)._++,t}toString(){const t=[];for(let e=u(this,ht);e<u(this,ie).length;e++){const r=u(this,ie)[e];t.push(`${r.type}:${r.text}`)}return`<TokenString ${t.join(" ")}>`}};ht=new WeakMap,ie=new WeakMap,Ki=new WeakSet,Rc=function(t=0,e=0){return new ga(u(this,ie).slice(t,e).map(r=>Object.freeze(Object.assign({},r,{match:r.match-t,linkBack:r.linkBack-t,linkNext:r.linkNext-t}))))};let ue=ga;function Rn(n){const t=[],e=o=>{const a=i<n.length?JSON.stringify(n[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let r=[],s=[],i=0;for(;i<n.length;){let o=n.substring(i),a=o.match(by);a&&(i+=a[1].length,o=n.substring(i));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(c);let l=Ay[o[0]]||"";if(l){if(c.type=l,c.text=o[0],i++,l==="OPEN_PAREN")r.push(t.length-1),s.push(t.length-1);else if(l=="CLOSE_PAREN")r.length===0&&e("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1;else if(l==="COMMA")c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1,s.push(t.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let f=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const h=t.pop().text;f=h+f,t[t.length-1].value=U(h)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=f}continue}if(a=o.match(ul),a){if(c.text=a[1],i+=c.text.length,wy.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(dd)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(vy),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new ue(t.map(o=>Object.freeze(o)))}function Du(n,t){let e=[];for(const r in t.keys())n.has(r)&&e.push(r);if(e.length>1)throw new Error(`conflicting types: ${e.join(", ")}`)}function Na(n,t){if(t.peekKeyword(hd)){const e=t.pop().text;if(e!==n)throw new Error(`expected ${n}, got ${e}`)}return t.popType("ID")}function Xe(n,t){const e=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||t&&!t.has(r))break;if(n.pop(),e.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);e.add(r)}return Object.freeze(e)}function pd(n){let t=Xe(n,py);return Du(t,Et("constant payable nonpayable".split(" "))),Du(t,Et("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function Ze(n,t){return n.popParams().map(e=>dt.from(e,t))}function gd(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return O(n.pop().text);throw new Error("invalid gas")}return null}function Cr(n){if(n.length)throw new Error(`unexpected tokens: ${n.toString()}`)}const Ey=new RegExp(/^(.*)\[([0-9]*)\]$/);function Mu(n){const t=n.match(dd);if(w(t,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(t[2]){const e=parseInt(t[2]);w(e!==0&&e<=32,"invalid bytes length","type",n)}else if(t[3]){const e=parseInt(t[3]);w(e!==0&&e<=256&&e%8===0,"invalid numeric width","type",n)}return n}const q={},Tt=Symbol.for("_ethers_internal"),Hu="_ParamTypeInternal",Gu="_ErrorInternal",zu="_EventInternal",Vu="_ConstructorInternal",Qu="_FallbackInternal",Ku="_FunctionInternal",ju="_StructInternal";var Ss,_o;const Kt=class Kt{constructor(t,e,r,s,i,o,a,c){m(this,Ss);y(this,"name");y(this,"type");y(this,"baseType");y(this,"indexed");y(this,"components");y(this,"arrayLength");y(this,"arrayChildren");if(xa(t,q,"ParamType"),Object.defineProperty(this,Tt,{value:Hu}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");R(this,{name:e,type:r,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(t){if(t==null&&(t="sighash"),t==="json"){let r={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(s=>JSON.parse(s.format(t)))),JSON.stringify(r)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?(t!=="sighash"&&(e+=this.type),e+="("+this.components.map(r=>r.format(t)).join(t==="full"?", ":",")+")"):e+=this.type,t!=="sighash"&&(this.indexed===!0&&(e+=" indexed"),t==="full"&&this.name&&(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invlaid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return t.map(s=>r.arrayChildren.walk(s,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invlaid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const r=this;return t.map((s,i)=>r.components[i].walk(s,e))}return e(this.type,t)}async walkAsync(t,e){const r=[],s=[t];return A(this,Ss,_o).call(this,r,t,e,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(t,e){if(Kt.isParamType(t))return t;if(typeof t=="string")return Kt.from(Rn(t),e);if(t instanceof ue){let a="",c="",l=null;Xe(t,Et(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(c="tuple",l=t.popParams().map(E=>Kt.from(E)),a=`tuple(${l.map(E=>E.format()).join(",")})`):(a=Mu(t.popType("TYPE")),c=a);let f=null,h=null;for(;t.length&&t.peekType("BRACKET");){const E=t.pop();f=new Kt(q,"",a,c,null,l,h,f),h=E.value,a+=E.text,c="array",l=null}let p=null;if(Xe(t,gy).has("indexed")){if(!e)throw new Error("");p=!0}const b=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new Kt(q,b,a,c,p,l,h,f)}const r=t.name;w(!r||typeof r=="string"&&r.match(ul),"invalid name","obj.name",r);let s=t.indexed;s!=null&&(w(e,"parameter cannot be indexed","obj.indexed",t.indexed),s=!!s);let i=t.type,o=i.match(Ey);if(o){const a=parseInt(o[2]||"-1"),c=Kt.from({type:o[1],components:t.components});return new Kt(q,r||"",i,"array",s,null,a,c)}if(i==="tuple"||i.substring(0,5)==="tuple("||i[0]==="("){const a=t.components!=null?t.components.map(l=>Kt.from(l)):null;return new Kt(q,r||"",i,"tuple",s,a,null,null)}return i=Mu(t.type),new Kt(q,r||"",i,i,s,null,null,null)}static isParamType(t){return t&&t[Tt]===Hu}};Ss=new WeakSet,_o=function(t,e,r,s){if(this.isArray()){if(!Array.isArray(e))throw new Error("invlaid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=e.slice();a.forEach((c,l)=>{var f;A(f=o,Ss,_o).call(f,t,c,r,h=>{a[l]=h})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(e))a=e.slice();else{if(e==null||typeof e!="object")throw new Error("invlaid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in e))throw new Error(`missing value for component ${c.name}`);return e[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{var f;A(f=o[l],Ss,_o).call(f,t,c,r,h=>{a[l]=h})}),s(a);return}const i=r(this.type,e);i.then?t.push(async function(){s(await i)}()):s(i)};let dt=Kt;class kr{constructor(t,e,r){y(this,"type");y(this,"inputs");xa(t,q,"Fragment"),r=Object.freeze(r.slice()),R(this,{type:e,inputs:r})}static from(t){if(typeof t=="string"){try{kr.from(JSON.parse(t))}catch{}return kr.from(Rn(t))}if(t instanceof ue)switch(t.peekKeyword(hd)){case"constructor":return Je.from(t);case"error":return Nt.from(t);case"event":return ve.from(t);case"fallback":case"receive":return Te.from(t);case"function":return Ee.from(t);case"struct":return yr.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return Je.from(t);case"error":return Nt.from(t);case"event":return ve.from(t);case"fallback":case"receive":return Te.from(t);case"function":return Ee.from(t);case"struct":return yr.from(t)}x(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}w(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return Je.isFragment(t)}static isError(t){return Nt.isFragment(t)}static isEvent(t){return ve.isFragment(t)}static isFunction(t){return Ee.isFragment(t)}static isStruct(t){return yr.isFragment(t)}}class Ia extends kr{constructor(e,r,s,i){super(e,r,i);y(this,"name");w(typeof s=="string"&&s.match(ul),"invalid identifier","name",s),i=Object.freeze(i.slice()),R(this,{name:s})}}function Ui(n,t){return"("+t.map(e=>e.format(n)).join(n==="full"?", ":",")+")"}class Nt extends Ia{constructor(t,e,r){super(t,"error",e,r),Object.defineProperty(this,Tt,{value:Gu})}get selector(){return xr(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(t)))});const e=[];return t!=="sighash"&&e.push("error"),e.push(this.name+Ui(t,this.inputs)),e.join(" ")}static from(t){if(Nt.isFragment(t))return t;if(typeof t=="string")return Nt.from(Rn(t));if(t instanceof ue){const e=Na("error",t),r=Ze(t);return Cr(t),new Nt(q,e,r)}return new Nt(q,t.name,t.inputs?t.inputs.map(dt.from):[])}static isFragment(t){return t&&t[Tt]===Gu}}class ve extends Ia{constructor(e,r,s,i){super(e,"event",r,s);y(this,"anonymous");Object.defineProperty(this,Tt,{value:zu}),R(this,{anonymous:i})}get topicHash(){return xr(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});const r=[];return e!=="sighash"&&r.push("event"),r.push(this.name+Ui(e,this.inputs)),e!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(e,r){return r=(r||[]).map(i=>dt.from(i)),new ve(q,e,r,!1).topicHash}static from(e){if(ve.isFragment(e))return e;if(typeof e=="string")return ve.from(Rn(e));if(e instanceof ue){const r=Na("event",e),s=Ze(e,!0),i=!!Xe(e,Et(["anonymous"])).has("anonymous");return Cr(e),new ve(q,r,s,i)}return new ve(q,e.name,e.inputs?e.inputs.map(r=>dt.from(r,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Tt]===zu}}class Je extends kr{constructor(e,r,s,i,o){super(e,r,s);y(this,"payable");y(this,"gas");Object.defineProperty(this,Tt,{value:Vu}),R(this,{payable:i,gas:o})}format(e){if(x(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});const r=[`constructor${Ui(e,this.inputs)}`];return r.push(this.payable?"payable":"nonpayable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(e){if(Je.isFragment(e))return e;if(typeof e=="string")return Je.from(Rn(e));if(e instanceof ue){Xe(e,Et(["constructor"]));const r=Ze(e),s=!!Xe(e,Et(["payable"])).has("payable"),i=gd(e);return Cr(e),new Je(q,"constructor",r,s,i)}return new Je(q,"constructor",e.inputs?e.inputs.map(dt.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Tt]===Vu}}class Te extends kr{constructor(e,r,s){super(e,"fallback",r);y(this,"payable");Object.defineProperty(this,Tt,{value:Qu}),R(this,{payable:s})}format(e){const r=this.inputs.length===0?"receive":"fallback";if(e==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(e){if(Te.isFragment(e))return e;if(typeof e=="string")return Te.from(Rn(e));if(e instanceof ue){const r=e.toString(),s=e.peekKeyword(Et(["fallback","receive"]));if(w(s,"type must be fallback or receive","obj",r),e.popKeyword(Et(["fallback","receive"]))==="receive"){const c=Ze(e);return w(c.length===0,"receive cannot have arguments","obj.inputs",c),Xe(e,Et(["payable"])),Cr(e),new Te(q,[],!0)}let o=Ze(e);o.length?w(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[dt.from("bytes")];const a=pd(e);if(w(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Xe(e,Et(["returns"])).has("returns")){const c=Ze(e);w(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=>l.format("minimal")).join(", "))}return Cr(e),new Te(q,o,a==="payable")}if(e.type==="receive")return new Te(q,[],!0);if(e.type==="fallback"){const r=[dt.from("bytes")],s=e.stateMutability==="payable";return new Te(q,r,s)}w(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Tt]===Qu}}class Ee extends Ia{constructor(e,r,s,i,o,a){super(e,"function",r,i);y(this,"constant");y(this,"outputs");y(this,"stateMutability");y(this,"payable");y(this,"gas");Object.defineProperty(this,Tt,{value:Ku}),o=Object.freeze(o.slice()),R(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return xr(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(e))),outputs:this.outputs.map(s=>JSON.parse(s.format(e)))});const r=[];return e!=="sighash"&&r.push("function"),r.push(this.name+Ui(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Ui(e,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(e,r){return r=(r||[]).map(i=>dt.from(i)),new Ee(q,e,"view",r,[],null).selector}static from(e){if(Ee.isFragment(e))return e;if(typeof e=="string")return Ee.from(Rn(e));if(e instanceof ue){const r=Na("function",e),s=Ze(e),i=pd(e);let o=[];Xe(e,Et(["returns"])).has("returns")&&(o=Ze(e));const a=gd(e);return Cr(e),new Ee(q,r,i,s,o,a)}return new Ee(q,e.name,e.stateMutability,e.inputs?e.inputs.map(dt.from):[],e.outputs?e.outputs.map(dt.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Tt]===Ku}}class yr extends Ia{constructor(t,e,r){super(t,"struct",e,r),Object.defineProperty(this,Tt,{value:ju})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")return yr.from(Rn(t));if(t instanceof ue){const e=Na("struct",t),r=Ze(t);return Cr(t),new yr(q,e,r)}return new yr(q,t.name,t.inputs?t.inputs.map(dt.from):[])}static isFragment(t){return t&&t[Tt]===ju}}const he=new Map;he.set(0,"GENERIC_PANIC");he.set(1,"ASSERT_FALSE");he.set(17,"OVERFLOW");he.set(18,"DIVIDE_BY_ZERO");he.set(33,"ENUM_RANGE_ERROR");he.set(34,"BAD_STORAGE_DATA");he.set(49,"STACK_UNDERFLOW");he.set(50,"ARRAY_RANGE_ERROR");he.set(65,"OUT_OF_MEMORY");he.set(81,"UNINITIALIZED_FUNCTION_CALL");const xy=new RegExp(/^bytes([0-9]*)$/),Sy=new RegExp(/^(u?int)([0-9]*)$/);let sc=null;function Cy(n,t,e,r){let s="missing revert data",i=null;const o=null;let a=null;if(e){s="execution reverted";const l=F(e);if(e=T(e),l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(T(l.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch(f){console.log(f),s+=" (could not decode reason; invalid data)"}else if(T(l.slice(0,4))==="0x4e487b71")try{const f=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[f]},i=`Panic due to ${he.get(f)||"UNKNOWN"}(${f})`,s+=`: ${i}`}catch(f){console.log(f),s+=" (could not decode panic reason)"}else s+=" (unknown custom error)"}const c={to:t.to?V(t.to):null,data:t.data||"0x"};return t.from&&(c.from=V(t.from)),Bt(s,"CALL_EXCEPTION",{action:n,data:e,reason:i,transaction:c,invocation:o,revert:a})}var mn,Lr;const ma=class ma{constructor(){m(this,mn)}getDefaultValue(t){const e=t.map(s=>A(this,mn,Lr).call(this,dt.from(s)));return new xo(e,"_").defaultValue()}encode(t,e){uf(e.length,t.length,"types/values length mismatch");const r=t.map(o=>A(this,mn,Lr).call(this,dt.from(o))),s=new xo(r,"_"),i=new xc;return s.encode(i,e),i.data}decode(t,e,r){const s=t.map(o=>A(this,mn,Lr).call(this,dt.from(o)));return new xo(s,"_").decode(new Sc(e,r))}static defaultAbiCoder(){return sc==null&&(sc=new ma),sc}static getBuiltinCallException(t,e,r){return Cy(t,e,r,ma.defaultAbiCoder())}};mn=new WeakSet,Lr=function(t){if(t.isArray())return new im(A(this,mn,Lr).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new xo(t.components.map(r=>A(this,mn,Lr).call(this,r)),t.name);switch(t.baseType){case"address":return new rm(t.name);case"bool":return new om(t.name);case"string":return new gm(t.name);case"bytes":return new am(t.name);case"":return new um(t.name)}let e=t.type.match(Sy);if(e){let r=parseInt(e[2]||"256");return w(r!==0&&r<=256&&r%8===0,"invalid "+e[1]+" bit length","param",t),new pm(r/8,e[1]==="int",t.name)}if(e=t.type.match(xy),e){let r=parseInt(e[1]);return w(r!==0&&r<=32,"invalid bytes length","param",t),new cm(r,t.name)}w(!1,"invalid type","type",t.type)};let Fi=ma;class ky{constructor(t,e,r){y(this,"fragment");y(this,"name");y(this,"signature");y(this,"topic");y(this,"args");const s=t.name,i=t.format();R(this,{fragment:t,name:s,signature:i,topic:e,args:r})}}class Py{constructor(t,e,r,s){y(this,"fragment");y(this,"name");y(this,"args");y(this,"signature");y(this,"selector");y(this,"value");const i=t.name,o=t.format();R(this,{fragment:t,name:i,args:r,signature:o,selector:e,value:s})}}class Ny{constructor(t,e,r){y(this,"fragment");y(this,"name");y(this,"args");y(this,"signature");y(this,"selector");const s=t.name,i=t.format();R(this,{fragment:t,name:s,args:r,signature:i,selector:e})}}class Ju{constructor(t){y(this,"hash");y(this,"_isIndexed");R(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!!(t&&t._isIndexed)}}const Wu={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Yu={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let t="unknown panic code";return n>=0&&n<=255&&Wu[n.toString()]&&(t=Wu[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${t})`}}};var ye,we,Ae,pt,ji,_c,Ji,Bc;const Hr=class Hr{constructor(t){m(this,ji);m(this,Ji);y(this,"fragments");y(this,"deploy");y(this,"fallback");y(this,"receive");m(this,ye,void 0);m(this,we,void 0);m(this,Ae,void 0);m(this,pt,void 0);let e=[];typeof t=="string"?e=JSON.parse(t):e=t,d(this,Ae,new Map),d(this,ye,new Map),d(this,we,new Map);const r=[];for(const o of e)try{r.push(kr.from(o))}catch(a){console.log("EE",a)}R(this,{fragments:Object.freeze(r)});let s=null,i=!1;d(this,pt,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}R(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(w(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=u(this,Ae);break;case"event":c=u(this,we);break;case"error":c=u(this,ye);break;default:return}const l=o.format();c.has(l)||c.set(l,o)}),this.deploy||R(this,{deploy:Je.from("constructor()")}),R(this,{fallback:s,receive:i})}format(t){const e=t?"minimal":"full";return this.fragments.map(s=>s.format(e))}formatJson(){const t=this.fragments.map(e=>e.format("json"));return JSON.stringify(t.map(e=>JSON.parse(e)))}getAbiCoder(){return Fi.defaultAbiCoder()}getFunctionName(t){const e=A(this,ji,_c).call(this,t,null,!1);return w(e,"no matching function","key",t),e.name}getFunction(t,e){return A(this,ji,_c).call(this,t,e||null,!0)}forEachFunction(t){const e=Array.from(u(this,Ae).keys());e.sort((r,s)=>r.localeCompare(s));for(let r=0;r<e.length;r++){const s=e[r];t(u(this,Ae).get(s),r)}}getEventName(t){const e=A(this,Ji,Bc).call(this,t,null,!1);return w(e,"no matching event","key",t),e.name}getEvent(t,e){return A(this,Ji,Bc).call(this,t,e||null,!0)}forEachEvent(t){const e=Array.from(u(this,we).keys());e.sort((r,s)=>r.localeCompare(s));for(let r=0;r<e.length;r++){const s=e[r];t(u(this,we).get(s),r)}}getError(t,e){if(nt(t)){const s=t.toLowerCase();if(Yu[s])return Nt.from(Yu[s].signature);for(const i of u(this,ye).values())if(s===i.selector)return i;return null}if(t.indexOf("(")===-1){const s=[];for(const[i,o]of u(this,ye))i.split("(")[0]===t&&s.push(o);if(s.length===0)return t==="Error"?Nt.from("error Error(string)"):t==="Panic"?Nt.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");w(!1,`ambiguous error description (i.e. ${i})`,"name",t)}return s[0]}if(t=Nt.from(t).format(),t==="Error(string)")return Nt.from("error Error(string)");if(t==="Panic(uint256)")return Nt.from("error Panic(uint256)");const r=u(this,ye).get(t);return r||null}forEachError(t){const e=Array.from(u(this,ye).keys());e.sort((r,s)=>r.localeCompare(s));for(let r=0;r<e.length;r++){const s=e[r];t(u(this,ye).get(s),r)}}_decodeParams(t,e){return u(this,pt).decode(t,e)}_encodeParams(t,e){return u(this,pt).encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const r=this.getError(t);w(r,"unknown error","fragment",t),t=r}return w(et(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,et(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const r=this.getError(t);w(r,"unknown error","fragment",t),t=r}return ot([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const r=this.getFunction(t);w(r,"unknown function","fragment",t),t=r}return w(et(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,et(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const r=this.getFunction(t);w(r,"unknown function","fragment",t),t=r}return ot([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const i=this.getFunction(t);w(i,"unknown function","fragment",t),t=i}let r="invalid length for result data";const s=It(e);if(s.length%32===0)try{return u(this,pt).decode(t.outputs,s)}catch{r="could not decode result data"}x(!1,r,"BAD_DATA",{value:T(s),info:{method:t.name,signature:t.format()}})}makeError(t,e){const r=F(t,"data"),s=Fi.getBuiltinCallException("call",e,r);if(!s.message.match(/could not decode/)){const o=T(r.slice(0,4));s.message="execution reverted (unknown custom error)";const a=this.getError(o);if(a)try{s.revert={name:a.name,signature:a.format(),args:u(this,pt).decode(a.inputs,r.slice(4))},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(e);return i&&(s.invocation={method:i.name,signature:i.signature,args:i.args}),s}encodeFunctionResult(t,e){if(typeof t=="string"){const r=this.getFunction(t);w(r,"unknown function","fragment",t),t=r}return T(u(this,pt).encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const i=this.getEvent(t);w(i,"unknown event","eventFragment",t),t=i}x(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const r=[];t.anonymous||r.push(t.topicHash);const s=(i,o)=>i.type==="string"?xr(o):i.type==="bytes"?X(T(o)):(i.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),i.type.match(/^u?int/)&&(o=In(o)),i.type==="address"&&u(this,pt).encode(["address"],[o]),Er(T(o),32));for(e.forEach((i,o)=>{const a=t.inputs[o];if(!a.indexed){w(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?w(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(c=>s(a,c))):r.push(s(a,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(t,e){if(typeof t=="string"){const o=this.getEvent(t);w(o,"unknown event","eventFragment",t),t=o}const r=[],s=[],i=[];return t.anonymous||r.push(t.topicHash),w(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((o,a)=>{const c=e[a];if(o.indexed)if(o.type==="string")r.push(xr(c));else if(o.type==="bytes")r.push(X(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(u(this,pt).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:u(this,pt).encode(s,i),topics:r}}decodeEventLog(t,e,r){if(typeof t=="string"){const g=this.getEvent(t);w(g,"unknown event","eventFragment",t),t=g}if(r!=null&&!t.anonymous){const g=t.topicHash;w(nt(r[0],32)&&r[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],o=[];t.inputs.forEach((g,b)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(s.push(dt.from({type:"bytes32",name:g.name})),o.push(!0)):(s.push(g),o.push(!1)):(i.push(g),o.push(!1))});const a=r!=null?u(this,pt).decode(s,ot(r)):null,c=u(this,pt).decode(i,e,!0),l=[],f=[];let h=0,p=0;return t.inputs.forEach((g,b)=>{let E=null;if(g.indexed)if(a==null)E=new Ju(null);else if(o[b])E=new Ju(a[p++]);else try{E=a[p++]}catch(v){E=v}else try{E=c[h++]}catch(v){E=v}l.push(E),f.push(g.name||null)}),Ko.fromItems(l,f)}parseTransaction(t){const e=F(t.data,"tx.data"),r=O(t.value!=null?t.value:0,"tx.value"),s=this.getFunction(T(e.slice(0,4)));if(!s)return null;const i=u(this,pt).decode(s.inputs,e.slice(4));return new Py(s,s.selector,i,r)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new ky(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=T(t),r=this.getError(et(e,0,4));if(!r)return null;const s=u(this,pt).decode(r.inputs,et(e,4));return new Ny(r,r.selector,s)}static from(t){return t instanceof Hr?t:typeof t=="string"?new Hr(JSON.parse(t)):typeof t.format=="function"?new Hr(t.format("json")):new Hr(t)}};ye=new WeakMap,we=new WeakMap,Ae=new WeakMap,pt=new WeakMap,ji=new WeakSet,_c=function(t,e,r){if(nt(t)){const i=t.toLowerCase();for(const o of u(this,Ae).values())if(i===o.selector)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of u(this,Ae))o.split("(")[0]===t&&i.push(a);if(e){const o=e.length>0?e[e.length-1]:null;let a=e.length,c=!0;wt.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let l=i.length-1;l>=0;l--){const f=i[l].inputs.length;f!==a&&(!c||f!==a-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){const f=i[l].inputs;for(let h=0;h<e.length;h++)if(wt.isTyped(e[h])){if(h>=f.length){if(e[h].type==="overrides")continue;i.splice(l,1);break}if(e[h].type!==f[h].baseType){i.splice(l,1);break}}}}if(i.length===1&&e&&e.length!==i[0].inputs.length){const o=e[e.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");w(!1,`ambiguous function description (i.e. matches ${o})`,"key",t)}return i[0]}const s=u(this,Ae).get(Ee.from(t).format());return s||null},Ji=new WeakSet,Bc=function(t,e,r){if(nt(t)){const i=t.toLowerCase();for(const o of u(this,we).values())if(i===o.topicHash)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of u(this,we))o.split("(")[0]===t&&i.push(a);if(e){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<e.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let c=0;c<e.length;c++)if(wt.isTyped(e[c])&&e[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");w(!1,`ambiguous event description (i.e. matches ${o})`,"key",t)}return i[0]}const s=u(this,we).get(ve.from(t).format());return s||null};let $c=Hr;const Iy=BigInt(0);function vi(n){return n??null}function yt(n){return n==null?null:n.toString()}class Ty{constructor(t,e,r){y(this,"gasPrice");y(this,"maxFeePerGas");y(this,"maxPriorityFeePerGas");R(this,{gasPrice:vi(t),maxFeePerGas:vi(e),maxPriorityFeePerGas:vi(r)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:yt(t),maxFeePerGas:yt(e),maxPriorityFeePerGas:yt(r)}}}function Zo(n){const t={};n.to&&(t.to=n.to),n.from&&(t.from=n.from),n.data&&(t.data=T(n.data));const e="chainId,gasLimit,gasPrice,maxFeePerGas, maxPriorityFeePerGas,value".split(/,/);for(const s of e)!(s in n)||n[s]==null||(t[s]=O(n[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in n)||n[s]==null||(t[s]=U(n[s],`request.${s}`));return n.accessList&&(t.accessList=Nr(n.accessList)),"blockTag"in n&&(t.blockTag=n.blockTag),"enableCcipRead"in n&&(t.enableCcipReadEnabled=!!n.enableCcipRead),"customData"in n&&(t.customData=n.customData),t}var Me;class Oy{constructor(t,e){y(this,"provider");y(this,"number");y(this,"hash");y(this,"timestamp");y(this,"parentHash");y(this,"nonce");y(this,"difficulty");y(this,"gasLimit");y(this,"gasUsed");y(this,"miner");y(this,"extraData");y(this,"baseFeePerGas");m(this,Me,void 0);d(this,Me,t.transactions.map(r=>typeof r!="string"?new Di(r,e):r)),R(this,{provider:e,hash:vi(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,miner:t.miner,extraData:t.extraData,baseFeePerGas:vi(t.baseFeePerGas)})}get transactions(){return u(this,Me).map(t=>typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=u(this,Me).slice();return t.length===0?[]:(x(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:a,nonce:c,number:l,parentHash:f,timestamp:h,transactions:p}=this;return{_type:"Block",baseFeePerGas:yt(t),difficulty:yt(e),extraData:r,gasLimit:yt(s),gasUsed:yt(i),hash:o,miner:a,nonce:c,number:l,parentHash:f,timestamp:h,transactions:p}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return u(this,Me).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=u(this,Me)[t];else{const r=t.toLowerCase();for(const s of u(this,Me))if(typeof s=="string"){if(s!==r)continue;e=s;break}else{if(s.hash===r)continue;e=s;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const r of e)if(r.hash===t)return r;w(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Ry(this)}}Me=new WeakMap;class Ta{constructor(t,e){y(this,"provider");y(this,"transactionHash");y(this,"blockHash");y(this,"blockNumber");y(this,"removed");y(this,"address");y(this,"data");y(this,"topics");y(this,"index");y(this,"transactionIndex");this.provider=e;const r=Object.freeze(t.topics.slice());R(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:r,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:t,blockHash:e,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return x(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return x(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return x(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return $y(this)}}var Wi;class md{constructor(t,e){y(this,"provider");y(this,"to");y(this,"from");y(this,"contractAddress");y(this,"hash");y(this,"index");y(this,"blockHash");y(this,"blockNumber");y(this,"logsBloom");y(this,"gasUsed");y(this,"cumulativeGasUsed");y(this,"gasPrice");y(this,"type");y(this,"status");y(this,"root");m(this,Wi,void 0);d(this,Wi,Object.freeze(t.logs.map(r=>new Ta(r,e)))),R(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,gasPrice:t.effectiveGasPrice||t.gasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return u(this,Wi)}toJSON(){const{to:t,from:e,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:f,root:h}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:yt(this.cumulativeGasUsed),from:e,gasPrice:yt(this.gasPrice),gasUsed:yt(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:h,status:f,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return wd(this)}reorderedEvent(t){return x(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),yd(this,t)}}Wi=new WeakMap;var yn;const vl=class vl{constructor(t,e){y(this,"provider");y(this,"blockNumber");y(this,"blockHash");y(this,"index");y(this,"hash");y(this,"type");y(this,"to");y(this,"from");y(this,"nonce");y(this,"gasLimit");y(this,"gasPrice");y(this,"maxPriorityFeePerGas");y(this,"maxFeePerGas");y(this,"data");y(this,"value");y(this,"chainId");y(this,"signature");y(this,"accessList");m(this,yn,void 0);this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,d(this,yn,-1)}toJSON(){const{blockNumber:t,blockHash:e,index:r,hash:s,type:i,to:o,from:a,nonce:c,data:l,signature:f,accessList:h}=this;return{_type:"TransactionReceipt",accessList:h,blockNumber:t,blockHash:e,chainId:yt(this.chainId),data:l,from:a,gasLimit:yt(this.gasLimit),gasPrice:yt(this.gasPrice),hash:s,maxFeePerGas:yt(this.maxFeePerGas),maxPriorityFeePerGas:yt(this.maxPriorityFeePerGas),nonce:c,signature:f,to:o,index:r,type:i,value:yt(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const r=await this.getTransaction();r&&(t=r.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async wait(t,e){const r=t??1,s=e??0;let i=u(this,yn),o=-1,a=i===-1;const c=async()=>{if(a)return null;const{blockNumber:h,nonce:p}=await Pt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=h;return}if(a)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(o===-1&&(o=i-3,o<u(this,yn)&&(o=u(this,yn)));o<=h;){if(a)return null;const b=await this.provider.getBlock(o,!0);if(b==null)return;for(const E of b)if(E===this.hash)return;for(let E=0;E<b.length;E++){const v=await b.getTransaction(E);if(v.from===this.from&&v.nonce===this.nonce){if(a)return null;const k=await this.provider.getTransactionReceipt(v.hash);if(k==null||h-k.blockNumber+1<r)return;let S="replaced";v.data===this.data&&v.to===this.to&&v.value===this.value?S="repriced":v.data==="0x"&&v.from===v.to&&v.value===Iy&&(S="cancelled"),x(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:S==="replaced"||S==="cancelled",reason:S,replacement:v.replaceableTransaction(i),hash:v.hash,receipt:k})}}o++}},l=await this.provider.getTransactionReceipt(this.hash);if(l){if(await l.confirmations()>=r)return l}else if(await c(),r===0)return null;return await new Promise((h,p)=>{const g=[],b=()=>{g.forEach(v=>v())};if(g.push(()=>{a=!0}),s>0){const v=setTimeout(()=>{b(),p(Bt("wait for transaction timeout","TIMEOUT"))},s);g.push(()=>{clearTimeout(v)})}const E=async v=>{await v.confirmations()>=r&&(b(),h(v))};if(g.push(()=>{this.provider.off(this.hash,E)}),this.provider.on(this.hash,E),i>=0){const v=async()=>{try{await c()}catch(k){if(gr(k,"TRANSACTION_REPLACED")){b(),p(k);return}}a||this.provider.once("block",v)};g.push(()=>{this.provider.off("block",v)}),this.provider.once("block",v)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return x(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),wd(this)}reorderedEvent(t){return x(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),x(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),yd(this,t)}replaceableTransaction(t){w(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new vl(this,this.provider);return d(e,yn,t),e}};yn=new WeakMap;let Di=vl;function Ry(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function yd(n,t){return{orphan:"reorder-transaction",tx:n,other:t}}function wd(n){return{orphan:"drop-transaction",tx:n}}function $y(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class hl extends Ta{constructor(e,r,s){super(e,e.provider);y(this,"interface");y(this,"fragment");y(this,"args");const i=r.decodeEventLog(s,e.data,e.topics);R(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}var Cs;class _y extends md{constructor(e,r,s){super(s,r);m(this,Cs,void 0);d(this,Cs,e)}get logs(){return super.logs.map(e=>{const r=e.topics.length?u(this,Cs).getEvent(e.topics[0]):null;return r?new hl(e,u(this,Cs),r):e})}}Cs=new WeakMap;var Yi;class fl extends Di{constructor(e,r,s){super(s,r);m(this,Yi,void 0);d(this,Yi,e)}async wait(e){const r=await super.wait();return r==null?null:new _y(u(this,Yi),this.provider,r)}}Yi=new WeakMap;class Ad extends df{constructor(e,r,s,i){super(e,r,s);y(this,"log");R(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class By extends Ad{constructor(t,e,r,s,i){super(t,e,r,new hl(i,t.interface,s));const o=t.interface.decodeEventLog(s,this.log.data,this.log.topics);R(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Zu=BigInt(0);function bd(n){return n&&typeof n.call=="function"}function vd(n){return n&&typeof n.estimateGas=="function"}function dl(n){return n&&typeof n.resolveName=="function"}function Ed(n){return n&&typeof n.sendTransaction=="function"}var Zi;class Ly{constructor(t,e,r){m(this,Zi,void 0);y(this,"fragment");if(R(this,{fragment:e}),e.inputs.length<r.length)throw new Error("too many arguments");const s=Pr(t.runner,"resolveName"),i=dl(s)?s:null;d(this,Zi,async function(){const o=await Promise.all(e.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(f,h)=>f==="address"?Dt(h,i):h)));return t.interface.encodeFilterTopics(e,o)}())}getTopicFilter(){return u(this,Zi)}}Zi=new WeakMap;function Uy(){return Function}function Pr(n,t){return n==null?null:typeof n[t]=="function"?n:n.provider&&typeof n.provider[t]=="function"?n.provider:null}function Dn(n){return n==null?null:n.provider||null}async function xd(n,t){const e=Zo(wt.dereference(n,"overrides"));return w(e.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",e.to),w(e.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",e.data),e.from&&(e.from=await Dt(e.from)),e}async function Fy(n,t,e){const r=Pr(n,"resolveName"),s=dl(r)?r:null;return await Promise.all(t.map((i,o)=>i.walkAsync(e[o],(a,c)=>(c=wt.dereference(c,a),a==="address"?Dt(c,s):c))))}class Dy{constructor(t){y(this,"_contract");return R(this,{_contract:t}),new Proxy(this,{apply:async(r,s,i)=>await r.send(...i)})}async populateTransaction(t){const e=await xd(t,["data"]);e.to=await this._contract.getAddress();const r=this._contract.interface,s=r.receive||r.fallback&&r.fallback.payable;return w(s||(e.value||Zu)===Zu,"cannot send value to non-payable contract","overrides.value",e.value),w(r.fallback||(e.data||"0x")==="0x","cannot send data to receive-only contract","overrides.data",e.data),e}async staticCall(t){const e=Pr(this._contract.runner,"call");x(bd(e),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const r=await this.populateTransaction(t);try{return await e.call(r)}catch(s){throw nl(s)&&s.data?this._contract.interface.makeError(s.data,r):s}}async send(t){const e=this._contract.runner;x(Ed(e),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const r=await e.sendTransaction(await this.populateTransaction(t)),s=Dn(this._contract.runner);return new fl(this._contract.interface,s,r)}async estimateGas(t){const e=Pr(this._contract.runner,"estimateGas");return x(vd(e),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await e.estimateGas(await this.populateTransaction(t))}}class My extends Uy(){constructor(e,r){super();y(this,"name","");y(this,"_contract");y(this,"_key");return R(this,{name:e.interface.getFunctionName(r),_contract:e,_key:r}),new Proxy(this,{apply:async(i,o,a)=>i.getFragment(...a).constant?await i.staticCall(...a):await i.send(...a)})}get fragment(){const e=this._contract.interface.getFunction(this._key);return x(e,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),e}getFragment(...e){const r=this._contract.interface.getFunction(this._key,e);return x(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),r}async populateTransaction(...e){const r=this.getFragment(...e);let s={};if(r.inputs.length+1===e.length&&(s=await xd(e.pop())),r.inputs.length!==e.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const i=await Fy(this._contract.runner,r.inputs,e);return Object.assign({},s,await Pt({to:this._contract.getAddress(),data:this._contract.interface.encodeFunctionData(r,i)}))}async staticCall(...e){const r=await this.staticCallResult(...e);return r.length===1?r[0]:r}async send(...e){const r=this._contract.runner;x(Ed(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await r.sendTransaction(await this.populateTransaction(...e)),i=Dn(this._contract.runner);return new fl(this._contract.interface,i,s)}async estimateGas(...e){const r=Pr(this._contract.runner,"estimateGas");return x(vd(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await this.populateTransaction(...e))}async staticCallResult(...e){const r=Pr(this._contract.runner,"call");x(bd(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await this.populateTransaction(...e);let i="0x";try{i=await r.call(s)}catch(a){throw nl(a)&&a.data?this._contract.interface.makeError(a.data,s):a}const o=this.getFragment(...e);return this._contract.interface.decodeFunctionResult(o,i)}}function Hy(){return Function}class Gy extends Hy(){constructor(e,r){super();y(this,"name","");y(this,"_contract");y(this,"_key");return R(this,{name:e.interface.getEventName(r),_contract:e,_key:r}),new Proxy(this,{apply:(s,i,o)=>new Ly(e,s.getFragment(...o),o)})}get fragment(){const e=this._contract.interface.getEvent(this._key);return x(e,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),e}getFragment(...e){const r=this._contract.interface.getEvent(this._key,e);return x(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),r}}const qo=Symbol.for("_ethersInternal_contract"),Sd=new WeakMap;function zy(n,t){Sd.set(n[qo],t)}function Vt(n){return Sd.get(n[qo])}function Vy(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function pl(n,t){let e,r=null;if(Array.isArray(t)){const i=function(o){if(nt(o,32))return o;const a=n.interface.getEvent(o);return w(a,"unknown fragment","name",o),a.topicHash};e=t.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else t==="*"?e=[null]:typeof t=="string"?nt(t,32)?e=[t]:(r=n.interface.getEvent(t),w(r,"unknown fragment","event",t),e=[r.topicHash]):Vy(t)?e=await t.getTopicFilter():"fragment"in t?(r=t.fragment,e=[r.topicHash]):w(!1,"unknown event name","event",t);e=e.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=e.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:e}}async function fi(n,t){const{subs:e}=Vt(n);return e.get((await pl(n,t)).tag)||null}async function qu(n,t,e){const r=Dn(n.runner);x(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:s,tag:i,topics:o}=await pl(n,e),{addr:a,subs:c}=Vt(n);let l=c.get(i);if(!l){const h={address:a||n,topics:o},p=v=>{let k=s;if(k==null)try{k=n.interface.getEvent(v.topics[0])}catch{}if(k){const S=k,C=s?n.interface.decodeEventLog(s,v.data,v.topics):[];Uc(n,e,C,$=>new By(n,$,e,S,v))}else Uc(n,e,[],S=>new Ad(n,S,e,v))};let g=[];l={tag:i,listeners:[],start:()=>{g.length||g.push(r.on(h,p))},stop:async()=>{if(g.length==0)return;let v=g;g=[],await Promise.all(v),r.off(h,p)}},c.set(i,l)}return l}let Lc=Promise.resolve();async function Qy(n,t,e,r){await Lc;const s=await fi(n,t);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const c=e.slice();r&&c.push(r(a?null:o));try{o.call(n,...c)}catch{}return!a}),i>0}async function Uc(n,t,e,r){try{await Lc}catch{}const s=Qy(n,t,e,r);return Lc=s,await s}const Xu=["then"];var b1;const ya=class ya{constructor(t,e,r,s){y(this,"target");y(this,"interface");y(this,"runner");y(this,"filters");y(this,b1);y(this,"fallback");r==null&&(r=null);const i=$c.from(e);R(this,{target:t,runner:r,interface:i}),Object.defineProperty(this,qo,{value:{}});let o,a=null,c=null;if(s){const h=Dn(r);c=new fl(this.interface,h,s)}let l=new Map;if(typeof t=="string")if(nt(t))a=t,o=Promise.resolve(t);else{const h=Pr(r,"resolveName");if(!dl(h))throw Bt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=h.resolveName(t).then(p=>{if(p==null)throw new Error("TODO");return Vt(this).addr=p,p})}else o=t.getAddress().then(h=>{if(h==null)throw new Error("TODO");return Vt(this).addr=h,h});zy(this,{addrPromise:o,addr:a,deployTx:c,subs:l});const f=new Proxy({},{get:(h,p,g)=>{if(Xu.indexOf(p)>=0)return Reflect.get(h,p,g);const b=String(p),E=this.getEvent(b);if(E)return E;throw new Error(`unknown contract event: ${b}`)}});return R(this,{filters:f}),R(this,{fallback:i.receive||i.fallback?new Dy(this):null}),new Proxy(this,{get:(h,p,g)=>{if(p in h||Xu.indexOf(p)>=0)return Reflect.get(h,p,g);const b=String(p),E=h.getFunction(b);if(E)return E;throw new Error(`unknown contract method: ${b}`)}})}connect(t){return new ya(this.target,this.interface,t)}async getAddress(){return await Vt(this).addrPromise}async getDeployedCode(){const t=Dn(this.runner);x(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Dn(this.runner);return x(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Vt(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),new My(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),new Gy(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,r){e==null&&(e=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=Vt(this),o=s||await i,{fragment:a,topics:c}=await pl(this,t),l={address:o,topics:c,fromBlock:e,toBlock:r},f=Dn(this.runner);return x(f,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await f.getLogs(l)).map(h=>{let p=a;if(p==null)try{p=this.interface.getEvent(h.topics[0])}catch{}return p?new hl(h,this.interface,p):new Ta(h,f)})}async on(t,e){const r=await qu(this,"on",t);return r.listeners.push({listener:e,once:!1}),r.start(),this}async once(t,e){const r=await qu(this,"once",t);return r.listeners.push({listener:e,once:!0}),r.start(),this}async emit(t,...e){return await Uc(this,t,e,null)}async listenerCount(t){if(t){const s=await fi(this,t);return s?s.listeners.length:0}const{subs:e}=Vt(this);let r=0;for(const{listeners:s}of e.values())r+=s.length;return r}async listeners(t){if(t){const s=await fi(this,t);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:e}=Vt(this);let r=[];for(const{listeners:s}of e.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(t,e){const r=await fi(this,t);if(!r)return this;if(e){const s=r.listeners.map(({listener:i})=>i).indexOf(e);s>=0&&r.listeners.splice(s,1)}return(e==null||r.listeners.length===0)&&(r.stop(),Vt(this).subs.delete(r.tag)),this}async removeAllListeners(t){if(t){const e=await fi(this,t);if(!e)return this;e.stop(),Vt(this).subs.delete(e.tag)}else{const{subs:e}=Vt(this);for(const{tag:r,stop:s}of e.values())s(),e.delete(r)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends ya{constructor(s,i=null){super(s,t,i)}}return e}static from(t,e,r){return r==null&&(r=null),new this(t,e,r)}};b1=qo;let Fc=ya;function Ky(){return Fc}class Ei extends Ky(){}function ic(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):w(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class jy{constructor(t){y(this,"name");R(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const Cd=new RegExp("^(ipfs)://(.*)$","i"),th=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Cd,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var wn,qn,Xn,di,wa,kd;const Gr=class Gr{constructor(t,e,r){m(this,Xn);y(this,"provider");y(this,"address");y(this,"name");m(this,wn,void 0);m(this,qn,void 0);R(this,{provider:t,address:e,name:r}),d(this,wn,null),d(this,qn,new Ei(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (address)","function text(bytes32, string) view returns (string)","function contenthash() view returns (bytes)"],t))}async supportsWildcard(){return u(this,wn)==null&&d(this,wn,(async()=>{try{return await u(this,qn).supportsInterface("0x9061b923")}catch(t){if(gr(t,"CALL_EXCEPTION"))return!1;throw d(this,wn,null),t}})()),await u(this,wn)}async getAddress(t){if(t==null&&(t=60),t===60)try{const i=await A(this,Xn,di).call(this,"addr(bytes32)");return i==null||i===yu?null:i}catch(i){if(gr(i,"CALL_EXCEPTION"))return null;throw i}let e=null;for(const i of this.provider.plugins)if(i instanceof jy&&i.supportsCoinType(t)){e=i;break}if(e==null)return null;const r=await A(this,Xn,di).call(this,"addr(bytes32,uint)",[t]);if(r==null||r==="0x")return null;const s=await e.encodeAddress(t,r);if(s!=null)return s;x(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:r}})}async getText(t){const e=await A(this,Xn,di).call(this,"text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await A(this,Xn,di).call(this,"contenthash()");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const s=e[1]==="e3010170"?"ipfs":"ipns",i=parseInt(e[4],16);if(e[5].length===i*2)return`${s}://${mp("0x"+e[2])}`}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;x(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let r=0;r<th.length;r++){const s=e.match(th[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const o=ic(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:o}),{linkage:t,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:i,value:e});const a=await this.getAddress();if(a==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const c=(s[2]||"").split("/");if(c.length!==2)return t.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:t};const l=c[1],f=new Ei(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const E=await f.ownerOf(l);if(a!==E)return t.push({type:"!owner",value:E}),{url:null,linkage:t};t.push({type:"owner",value:E})}else if(i==="erc1155"){const E=await f.balanceOf(a,l);if(!E)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:E.toString()})}let h=await f[o](l);if(h==null||h==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:h}),i==="erc1155"&&(h=h.replace("{id}",In(l,32).substring(2)),t.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=ic(h)),t.push({type:"metadata-url",value:h});let p={};const g=await new Tn(h).send();g.assertOk();try{p=g.bodyJson}catch{try{t.push({type:"!metadata",value:g.bodyText})}catch{const k=g.body;return k&&t.push({type:"!metadata",value:T(k)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!p)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(p)});let b=p.image;if(typeof b!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(Cd)==null)return t.push({type:"!imageUrl-ipfs",value:b}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:b}),b=ic(b)}return t.push({type:"url",value:b}),{linkage:t,url:b}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),r=e.getPlugin("org.ethers.plugins.network.Ens");return x(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),r.address}static async fromName(t,e){var s;let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const i=await A(s=Gr,wa,kd).call(s,t,r);if(i!=null){const o=new Gr(t,i,e);return r!==e&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};wn=new WeakMap,qn=new WeakMap,Xn=new WeakSet,di=async function(t,e){e=(e||[]).slice();const r=u(this,qn).interface;e.unshift(Oc(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(t),x(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[Zm(this.name),r.encodeFunctionData(s,e)],t="resolve(bytes,bytes)"),e.push({ccipReadEnable:!0});try{const i=await u(this,qn)[t](...e);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!gr(i,"CALL_EXCEPTION"))throw i}return null},wa=new WeakSet,kd=async function(t,e){const r=await Gr.getEnsAddress(t);try{const i=await new Ei(r,["function resolver(bytes32) view returns (address)"],t).resolver(Oc(e),{enableCcipRead:!0});return i===yu?null:i}catch(s){throw s}return null},m(Gr,wa);let Xo=Gr;const eh=BigInt(0);function it(n,t){return function(e){return e==null?t:n(e)}}function gl(n){return t=>{if(!Array.isArray(t))throw new Error("not an array");return t.map(e=>n(e))}}function ho(n,t){return e=>{const r={};for(const s in n){let i=s;if(t&&s in t&&!(i in e)){for(const o of t[s])if(o in e){i=o;break}}try{const o=n[s](e[i]);o!==void 0&&(r[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";x(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:e})}}return r}}function Jy(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}w(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function Js(n){return w(nt(n,!0),"invalid data","value",n),n}function Xt(n){return w(nt(n,32),"invalid hash","value",n),n}const Wy=ho({address:V,blockHash:Xt,blockNumber:U,data:Js,index:U,removed:Jy,topics:gl(Xt),transactionHash:Xt,transactionIndex:U},{index:["logIndex"]});function nh(n){return Wy(n)}const Yy=ho({hash:it(Xt),parentHash:Xt,number:U,timestamp:U,nonce:it(Js),difficulty:O,gasLimit:O,gasUsed:O,miner:it(V),extraData:Js,baseFeePerGas:it(O)});function rh(n){const t=Yy(n);return t.transactions=n.transactions.map(e=>typeof e=="string"?e:Pd(e)),t}const Zy=ho({transactionIndex:U,blockNumber:U,transactionHash:Xt,address:V,topics:gl(Xt),data:Js,index:U,blockHash:Xt},{index:["logIndex"]});function qy(n){return Zy(n)}const Xy=ho({to:it(V,null),from:it(V,null),contractAddress:it(V,null),index:U,root:it(T),gasUsed:O,logsBloom:it(Js),blockHash:Xt,hash:Xt,logs:gl(qy),blockNumber:U,cumulativeGasUsed:O,effectiveGasPrice:it(O),status:it(U),type:U},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function sh(n){return Xy(n)}function Pd(n){n.to&&O(n.to)===eh&&(n.to="0x0000000000000000000000000000000000000000");const t=ho({hash:Xt,type:e=>e==="0x"||e==null?0:U(e),accessList:it(Nr,null),blockHash:it(Xt,null),blockNumber:it(U,null),transactionIndex:it(U,null),from:V,gasPrice:it(O),maxPriorityFeePerGas:it(O),maxFeePerGas:it(O),gasLimit:O,to:it(V,null),value:O,nonce:U,data:Js,creates:it(V,null),chainId:it(O,null)},{data:["input"],gasLimit:["gas"]})(n);if(t.to==null&&t.creates==null&&(t.creates=em(t)),(n.type===1||n.type===2)&&n.accessList==null&&(t.accessList=[]),n.signature?t.signature=le.from(n.signature):t.signature=le.from(n),t.chainId==null){const e=t.signature.legacyChainId;e!=null&&(t.chainId=e)}return t.blockHash&&O(t.blockHash)===eh&&(t.blockHash=null),t}const tw="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Oa{constructor(t){y(this,"name");R(this,{name:t})}clone(){return new Oa(this.name)}}class Ra extends Oa{constructor(e,r){e==null&&(e=0);super(`org.ethers.network.plugins.GasCost#${e||0}`);y(this,"effectiveBlock");y(this,"txBase");y(this,"txCreate");y(this,"txDataZero");y(this,"txDataNonzero");y(this,"txAccessListStorageKey");y(this,"txAccessListAddress");const s={effectiveBlock:e};function i(o,a){let c=(r||{})[o];c==null&&(c=a),w(typeof c=="number",`invalud value for ${o}`,"costs",r),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),R(this,s)}clone(){return new Ra(this.effectiveBlock,this)}}class $a extends Oa{constructor(e,r){super("org.ethers.plugins.network.Ens");y(this,"address");y(this,"targetNetwork");R(this,{address:e||tw,targetNetwork:r??1})}clone(){return new $a(this.address,this.targetNetwork)}}const oc=new Map;var ks,Ps,An;const zr=class zr{constructor(t,e){m(this,ks,void 0);m(this,Ps,void 0);m(this,An,void 0);d(this,ks,t),d(this,Ps,O(e)),d(this,An,new Map)}toJSON(){return{name:this.name,chainId:this.chainId}}get name(){return u(this,ks)}set name(t){d(this,ks,t)}get chainId(){return u(this,Ps)}set chainId(t){d(this,Ps,O(t,"chainId"))}get plugins(){return Array.from(u(this,An).values())}attachPlugin(t){if(u(this,An).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return u(this,An).set(t.name,t.clone()),this}getPlugin(t){return u(this,An).get(t)||null}getPlugins(t){return this.plugins.filter(e=>e.name.split("#")[0]===t)}clone(){const t=new zr(this.name,this.chainId);return this.plugins.forEach(e=>{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new Ra;let r=e.txBase;if(t.to==null&&(r+=e.txCreate),t.data)for(let s=2;s<t.data.length;s+=2)t.data.substring(s,s+2)==="00"?r+=e.txDataZero:r+=e.txDataNonzero;if(t.accessList){const s=Nr(t.accessList);for(const i in s)r+=e.txAccessListAddress+e.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(t){if(ew(),t==null)return zr.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=oc.get(t);if(e)return e();if(typeof t=="bigint")return new zr("unknown",t);w(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){w(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new zr(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&e.attachPlugin(new $a(t.ensAddress,t.ensNetwork)),e}w(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&&(t=BigInt(t));const r=oc.get(t);r&&w(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",t),oc.set(t,e)}};ks=new WeakMap,Ps=new WeakMap,An=new WeakMap;let We=zr,ih=!1;function ew(){if(ih)return;ih=!0;function n(t,e,r){const s=function(){const i=new We(t,e);return r.ensNetwork!=null&&i.attachPlugin(new $a(null,r.ensNetwork)),r.priorityFee,i.attachPlugin(new Ra),i};We.register(t,s),We.register(e,s),r.altNames&&r.altNames.forEach(i=>{We.register(i,s)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("classic",61,{}),n("classicKotti",6,{}),n("xdai",100,{ensNetwork:1}),n("matic",137,{ensNetwork:1,etherscan:{apiKey:"W6T8DJW654GNTQ34EFEYYP3EZD9DD27CT7",url:"https://api.polygonscan.com/"}}),n("maticMumbai",80001,{etherscan:{apiKey:"W6T8DJW654GNTQ34EFEYYP3EZD9DD27CT7",url:"https://api-testnet.polygonscan.com/"}}),n("bnb",56,{ensNetwork:1,etherscan:{apiKey:"EVTS3CU31AATZV72YQ55TPGXGMVIFUQ9M9",url:"http://api.bscscan.com"}}),n("bnbt",97,{etherscan:{apiKey:"EVTS3CU31AATZV72YQ55TPGXGMVIFUQ9M9",url:"http://api-testnet.bscscan.com"}})}function Dc(n){return JSON.parse(JSON.stringify(n))}var He,Wt,bn,be,Ns,Bo;class nw{constructor(t){m(this,Ns);m(this,He,void 0);m(this,Wt,void 0);m(this,bn,void 0);m(this,be,void 0);d(this,He,t),d(this,Wt,null),d(this,bn,4e3),d(this,be,-2)}get pollingInterval(){return u(this,bn)}set pollingInterval(t){d(this,bn,t)}start(){if(u(this,Wt))throw new Error("subscriber already running");d(this,Wt,u(this,He)._setTimeout(A(this,Ns,Bo).bind(this),u(this,bn))),A(this,Ns,Bo).call(this)}stop(){if(!u(this,Wt))throw new Error("subscriber not running");u(this,He)._clearTimeout(u(this,Wt)),d(this,Wt,null)}pause(t){this.stop(),t&&d(this,be,-2)}resume(){this.start()}}He=new WeakMap,Wt=new WeakMap,bn=new WeakMap,be=new WeakMap,Ns=new WeakSet,Bo=async function(){const t=await u(this,He).getBlockNumber();if(u(this,be)===-2){d(this,be,t);return}if(t!==u(this,be)){for(let e=u(this,be)+1;e<=t;e++){if(u(this,Wt)==null)return;await u(this,He).emit("block",e)}d(this,be,t)}u(this,Wt)!=null&&d(this,Wt,u(this,He)._setTimeout(A(this,Ns,Bo).bind(this),u(this,bn)))};var tr,er;class Nd{constructor(t){m(this,tr,void 0);m(this,er,void 0);d(this,tr,t),d(this,er,e=>{this._poll(e,u(this,tr))})}async _poll(t,e){throw new Error("sub-classes must override this")}start(){u(this,er).call(this,-2),u(this,tr).on("block",u(this,er))}stop(){u(this,tr).off("block",u(this,er))}pause(t){this.stop()}resume(){this.start()}}tr=new WeakMap,er=new WeakMap;var Aa;class rw extends Nd{constructor(e,r){super(e);m(this,Aa,void 0);d(this,Aa,Dc(r))}async _poll(e,r){throw new Error("@TODO")}}Aa=new WeakMap;var Is;class sw extends Nd{constructor(e,r){super(e);m(this,Is,void 0);d(this,Is,r)}async _poll(e,r){const s=await r.getTransactionReceipt(u(this,Is));s&&r.emit(u(this,Is),s)}}Is=new WeakMap;var Ge,Ts,Os,Yt,ba,Td;class Id{constructor(t,e){m(this,ba);m(this,Ge,void 0);m(this,Ts,void 0);m(this,Os,void 0);m(this,Yt,void 0);d(this,Ge,t),d(this,Ts,Dc(e)),d(this,Os,A(this,ba,Td).bind(this)),d(this,Yt,-2)}start(){u(this,Yt)===-2&&u(this,Ge).getBlockNumber().then(t=>{d(this,Yt,t)}),u(this,Ge).on("block",u(this,Os))}stop(){u(this,Ge).off("block",u(this,Os))}pause(t){this.stop(),t&&d(this,Yt,-2)}resume(){this.start()}}Ge=new WeakMap,Ts=new WeakMap,Os=new WeakMap,Yt=new WeakMap,ba=new WeakSet,Td=async function(t){if(u(this,Yt)===-2)return;const e=Dc(u(this,Ts));e.fromBlock=u(this,Yt)+1,e.toBlock=t;const r=await u(this,Ge).getLogs(e);if(r.length===0){u(this,Yt)<t-60&&d(this,Yt,t-60);return}d(this,Yt,t);for(const s of r)u(this,Ge).emit(u(this,Ts),s)};const iw=BigInt(2),ow=10;function So(n){return n&&typeof n.then=="function"}function Lo(n,t){return n+":"+JSON.stringify(t,(e,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}class ta{constructor(t){y(this,"name");R(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function aw(n){return JSON.parse(JSON.stringify(n))}function Mc(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function ac(n,t){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"pending":case"debug":case"network":return{type:n,tag:n}}if(nt(n,32)){const e=n.toLowerCase();return{type:"transaction",tag:Lo("tx",{hash:e}),hash:e}}if(n.orphan){const e=n;return{type:"orphan",tag:Lo("orphan",e),filter:aw(e)}}if(n.address||n.topics){const e=n,r={topics:(e.topics||[]).map(s=>s==null?null:Array.isArray(s)?Mc(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(e.address){const s=[],i=[],o=a=>{nt(a)?s.push(a):i.push((async()=>{s.push(await Dt(a,t))})())};Array.isArray(e.address)?e.address.forEach(o):o(e.address),i.length&&await Promise.all(i),r.address=Mc(s.map(a=>a.toLowerCase()))}return{filter:r,tag:Lo("event",r),type:"event"}}w(!1,"unknown ProviderEvent","event",n)}function cc(){return new Date().getTime()}var gt,vn,mt,_t,nr,En,ze,qi,Zt,Rs,Ct,zt,Xi,Hc,to,Gc,rr,pi,va,Od,sr,gi,$s,Uo;class cw{constructor(t){m(this,Ct);m(this,Xi);m(this,to);m(this,rr);m(this,va);m(this,sr);m(this,$s);m(this,gt,void 0);m(this,vn,void 0);m(this,mt,void 0);m(this,_t,void 0);m(this,nr,void 0);m(this,En,void 0);m(this,ze,void 0);m(this,qi,void 0);m(this,Zt,void 0);m(this,Rs,void 0);if(t==="any")d(this,nr,!0),d(this,_t,null);else if(t){const e=We.from(t);d(this,nr,!1),d(this,_t,Promise.resolve(e)),setTimeout(()=>{this.emit("network",e,null)},0)}else d(this,nr,!1),d(this,_t,null);d(this,ze,-1),d(this,En,new Map),d(this,gt,new Map),d(this,vn,new Map),d(this,mt,null),d(this,qi,1),d(this,Zt,new Map),d(this,Rs,!1)}get provider(){return this}get plugins(){return Array.from(u(this,vn).values())}attachPlugin(t){if(u(this,vn).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return u(this,vn).set(t.name,t.connect(this)),this}getPlugin(t){return u(this,vn).get(t)||null}get disableCcipRead(){return u(this,Rs)}set disableCcipRead(t){d(this,Rs,!!t)}async ccipReadFetch(t,e,r){if(this.disableCcipRead||r.length===0||t.to==null)return null;const s=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],l=c.replace("{sender}",s).replace("{data}",i),f=new Tn(l);c.indexOf("{data}")===-1&&(f.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:a,urls:r});let h="unknown error";const p=await f.send();try{const g=p.bodyJson;if(g.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:g}),g.data;g.message&&(h=g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:g})}catch{}x(p.statusCode<400||p.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:c,errorMessage:h}}),o.push(h)}x(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:r,errorMessages:o}})}_wrapBlock(t,e){return new Oy(rh(t),this)}_wrapLog(t,e){return new Ta(nh(t),this)}_wrapTransactionReceipt(t,e){return new md(sh(t),this)}_wrapTransactionResponse(t,e){return new Di(t,this)}_detectNetwork(){x(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){x(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=U(await A(this,Ct,zt).call(this,{method:"getBlockNumber"}),"%response");return u(this,ze)>=0&&d(this,ze,t),t}_getAddress(t){return Dt(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if(nt(t))return nt(t,32)?t:ui(t);if(typeof t=="number")return t>=0?ui(t):u(this,ze)>=0?ui(u(this,ze)+t):this.getBlockNumber().then(e=>ui(e+t));w(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(c=>c==null?null:Array.isArray(c)?Mc(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in t?t.blockHash:void 0,s=(c,l,f)=>{let h;switch(c.length){case 0:break;case 1:h=c[0];break;default:c.sort(),h=c}if(r&&(l!=null||f!=null))throw new Error("invalid filter");const p={};return h&&(p.address=h),e.length&&(p.topics=e),l&&(p.fromBlock=l),f&&(p.toBlock=f),r&&(p.blockHash=r),p};let i=[];if(t.address)if(Array.isArray(t.address))for(const c of t.address)i.push(this._getAddress(c));else i.push(this._getAddress(t.address));let o;"fromBlock"in t&&(o=this._getBlockTag(t.fromBlock));let a;return"toBlock"in t&&(a=this._getBlockTag(t.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(t){const e=Zo(t),r=[];if(["to","from"].forEach(s=>{if(e[s]==null)return;const i=Dt(e[s]);So(i)?r.push(async function(){e[s]=await i}()):e[s]=i}),e.blockTag!=null){const s=this._getBlockTag(e.blockTag);So(s)?r.push(async function(){e.blockTag=await s}()):e.blockTag=s}return r.length?async function(){return await Promise.all(r),e}():e}async getNetwork(){if(u(this,_t)==null){const s=this._detectNetwork().then(i=>(this.emit("network",i,null),i),i=>{throw u(this,_t)===s&&d(this,_t,null),i});return d(this,_t,s),(await s).clone()}const t=u(this,_t),[e,r]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==r.chainId&&(u(this,nr)?(this.emit("network",r,e),u(this,_t)===t&&d(this,_t,Promise.resolve(r))):x(!1,`network changed: ${e.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const{block:t,gasPrice:e}=await Pt({block:this.getBlock("latest"),gasPrice:(async()=>{try{const i=await A(this,Ct,zt).call(this,{method:"getGasPrice"});return O(i,"%response")}catch{}return null})()});let r=null,s=null;return t&&t.baseFeePerGas&&(s=BigInt("1000000000"),r=t.baseFeePerGas*iw+s),new Ty(e,r,s)}async estimateGas(t){let e=this._getTransactionRequest(t);return So(e)&&(e=await e),O(await A(this,Ct,zt).call(this,{method:"estimateGas",transaction:e}),"%response")}async call(t){const{tx:e,blockTag:r}=await Pt({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await A(this,to,Gc).call(this,A(this,Xi,Hc).call(this,e,r,t.enableCcipRead?0:-1))}async getBalance(t,e){return O(await A(this,rr,pi).call(this,{method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return U(await A(this,rr,pi).call(this,{method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return T(await A(this,rr,pi).call(this,{method:"getCode"},t,e))}async getStorage(t,e,r){const s=O(e,"position");return T(await A(this,rr,pi).call(this,{method:"getStorage",position:s},t,r))}async broadcastTransaction(t){const{blockNumber:e,hash:r,network:s}=await Pt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),i=Wo.from(t);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(e)}async getBlock(t,e){const{network:r,params:s}=await Pt({network:this.getNetwork(),params:A(this,va,Od).call(this,t,!!e)});return s==null?null:this._wrapBlock(rh(s),r)}async getTransaction(t){const{network:e,params:r}=await Pt({network:this.getNetwork(),params:A(this,Ct,zt).call(this,{method:"getTransaction",hash:t})});return r==null?null:this._wrapTransactionResponse(Pd(r),e)}async getTransactionReceipt(t){const{network:e,params:r}=await Pt({network:this.getNetwork(),params:A(this,Ct,zt).call(this,{method:"getTransactionReceipt",hash:t})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await A(this,Ct,zt).call(this,{method:"getTransaction",hash:t});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(sh(r),e)}async getTransactionResult(t){const{result:e}=await Pt({network:this.getNetwork(),result:A(this,Ct,zt).call(this,{method:"getTransactionResult",hash:t})});return e==null?null:T(e)}async getLogs(t){let e=this._getFilter(t);So(e)&&(e=await e);const{network:r,params:s}=await Pt({network:this.getNetwork(),params:A(this,Ct,zt).call(this,{method:"getLogs",filter:e})});return s.map(i=>this._wrapLog(nh(i),r))}_getProvider(t){x(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await Xo.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=V(t);const e=Oc(t.substring(2).toLowerCase()+".addr.reverse");try{const r=await Xo.getEnsAddress(this),i=await new Ei(r,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(i==null||i===Ic)return null;const a=await new Ei(i,["function name(bytes32) view returns (string)"],this).name(e),c=await this.resolveName(a);return c!==t&&console.log("FAIL",t,c),a}catch(r){console.log("TEMP",r)}return null}async waitForTransaction(t,e,r){const s=e??1;return s===0?this.getTransactionReceipt(t):new Promise(async(i,o)=>{let a=null;const c=async l=>{try{const f=await this.getTransactionReceipt(t);if(f!=null&&l-f.blockNumber+1>=s){i(f),a&&(clearTimeout(a),a=null);return}}catch(f){console.log("EEE",f)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Bt("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(t){x(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=u(this,Zt).get(t);e&&(e.timer&&clearTimeout(e.timer),u(this,Zt).delete(t))}_setTimeout(t,e){e==null&&(e=0);const r=Xs(this,qi)._++,s=()=>{u(this,Zt).delete(r),t()};if(this.paused)u(this,Zt).set(r,{timer:null,func:s,time:e});else{const i=setTimeout(s,e);u(this,Zt).set(r,{timer:i,func:s,time:cc()})}return r}_forEachSubscriber(t){for(const e of u(this,gt).values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"network":return new ta(t.type);case"block":return new nw(this);case"event":return new Id(this,t.filter);case"transaction":return new sw(this,t.hash);case"orphan":return new rw(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const r of u(this,gt).values())if(r.subscriber===t){r.started&&r.subscriber.stop(),r.subscriber=e,r.started&&e.start(),u(this,mt)!=null&&e.pause(u(this,mt));break}}async on(t,e){const r=await A(this,$s,Uo).call(this,t);return r.listeners.push({listener:e,once:!1}),r.started||(r.subscriber.start(),r.started=!0,u(this,mt)!=null&&r.subscriber.pause(u(this,mt))),this}async once(t,e){const r=await A(this,$s,Uo).call(this,t);return r.listeners.push({listener:e,once:!0}),r.started||(r.subscriber.start(),r.started=!0,u(this,mt)!=null&&r.subscriber.pause(u(this,mt))),this}async emit(t,...e){const r=await A(this,sr,gi).call(this,t,e);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{const a=new df(this,o?null:i,t);try{i.call(this,...e,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),u(this,gt).delete(r.tag)),s>0}async listenerCount(t){if(t){const r=await A(this,sr,gi).call(this,t);return r?r.listeners.length:0}let e=0;for(const{listeners:r}of u(this,gt).values())e+=r.length;return e}async listeners(t){if(t){const r=await A(this,sr,gi).call(this,t);return r?r.listeners.map(({listener:s})=>s):[]}let e=[];for(const{listeners:r}of u(this,gt).values())e=e.concat(r.map(({listener:s})=>s));return e}async off(t,e){const r=await A(this,sr,gi).call(this,t);if(!r)return this;if(e){const s=r.listeners.map(({listener:i})=>i).indexOf(e);s>=0&&r.listeners.splice(s,1)}return(!e||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),u(this,gt).delete(r.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:r,subscriber:s}=await A(this,$s,Uo).call(this,t);r&&s.stop(),u(this,gt).delete(e)}else for(const[e,{started:r,subscriber:s}]of u(this,gt))r&&s.stop(),u(this,gt).delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}destroy(){this.removeAllListeners();for(const t of u(this,Zt).keys())this._clearTimeout(t)}get paused(){return u(this,mt)!=null}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(d(this,ze,-1),u(this,mt)!=null){if(u(this,mt)==!!t)return;x(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=>e.pause(t)),d(this,mt,!!t);for(const e of u(this,Zt).values())e.timer&&clearTimeout(e.timer),e.time=cc()-e.time}resume(){if(u(this,mt)!=null){this._forEachSubscriber(t=>t.resume()),d(this,mt,null);for(const t of u(this,Zt).values()){let e=t.time;e<0&&(e=0),t.time=cc(),setTimeout(t.func,e)}}}}gt=new WeakMap,vn=new WeakMap,mt=new WeakMap,_t=new WeakMap,nr=new WeakMap,En=new WeakMap,ze=new WeakMap,qi=new WeakMap,Zt=new WeakMap,Rs=new WeakMap,Ct=new WeakSet,zt=async function(t){const e=Lo(t.method,t);let r=u(this,En).get(e);return r||(r=this._perform(t),u(this,En).set(e,r),setTimeout(()=>{u(this,En).get(e)===r&&u(this,En).delete(e)},250)),await r},Xi=new WeakSet,Hc=async function(t,e,r){x(r<ow,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const s=Zo(t);try{return T(await this._perform({method:"call",transaction:s,blockTag:e}))}catch(i){if(!this.disableCcipRead&&nl(i)&&i.data&&r>=0&&e==="latest"&&s.to!=null&&et(i.data,0,4)==="0x556f1830"){const o=i.data,a=await Dt(s.to,this);let c;try{c=dw(et(i.data,4))}catch(h){x(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}x(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(s,c.calldata,c.urls);x(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const f={to:a,data:ot([c.selector,fw([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:f});try{const h=await A(this,Xi,Hc).call(this,f,e,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},f),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},f),error:h}),h}}throw i}},to=new WeakSet,Gc=async function(t){const{value:e}=await Pt({network:this.getNetwork(),value:t});return e},rr=new WeakSet,pi=async function(t,e,r){let s=this._getAddress(e),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await A(this,to,Gc).call(this,A(this,Ct,zt).call(this,Object.assign(t,{address:s,blockTag:i})))},va=new WeakSet,Od=async function(t,e){if(nt(t,32))return await A(this,Ct,zt).call(this,{method:"getBlock",blockHash:t,includeTransactions:e});let r=this._getBlockTag(t);return typeof r!="string"&&(r=await r),await A(this,Ct,zt).call(this,{method:"getBlock",blockTag:r,includeTransactions:e})},sr=new WeakSet,gi=async function(t,e){let r=await ac(t,this);return r.type==="event"&&e&&e.length>0&&e[0].removed===!0&&(r=await ac({orphan:"drop-log",log:e[0]},this)),u(this,gt).get(r.tag)||null},$s=new WeakSet,Uo=async function(t){const e=await ac(t,this),r=e.tag;let s=u(this,gt).get(r);return s||(s={subscriber:this._getSubscriber(e),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},u(this,gt).set(r,s)),s};function lw(n,t){try{const e=zc(n,t);if(e)return sl(e)}catch{}return null}function zc(n,t){if(n==="0x")return null;try{const e=U(et(n,t,t+32)),r=U(et(n,e,e+32));return et(n,e+32,e+32+r)}catch{}return null}function oh(n){const t=Ft(n);if(t.length>32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function uw(n){if(n.length%32===0)return n;const t=new Uint8Array(Math.ceil(n.length/32)*32);return t.set(n),t}const hw=new Uint8Array([]);function fw(n){const t=[];let e=0;for(let r=0;r<n.length;r++)t.push(hw),e+=32;for(let r=0;r<n.length;r++){const s=F(n[r]);t[r]=oh(e),t.push(oh(s.length)),t.push(uw(s)),e+=32+Math.ceil(s.length/32)*32}return ot(t)}const ah="0x0000000000000000000000000000000000000000000000000000000000000000";function dw(n){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};x(Qr(n)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=et(n,0,32);x(et(e,0,12)===et(ah,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=et(e,12);try{const r=[],s=U(et(n,32,64)),i=U(et(n,s,s+32)),o=et(n,s+32);for(let a=0;a<i;a++){const c=lw(o,a*32);if(c==null)throw new Error("abort");r.push(c)}t.urls=r}catch{x(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=zc(n,64);if(r==null)throw new Error("abort");t.calldata=r}catch{x(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}x(et(n,100,128)===et(ah,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=et(n,96,100);try{const r=zc(n,128);if(r==null)throw new Error("abort");t.extraData=r}catch{x(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>t[r]),t}function Or(n,t){if(n.provider)return n.provider;x(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function ch(n,t){let e=Zo(t);if(e.to!=null&&(e.to=Dt(e.to,n)),e.from!=null){const r=e.from;e.from=Promise.all([n.getAddress(),Dt(r,n)]).then(([s,i])=>(w(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else e.from=n.getAddress();return await Pt(e)}class pw{constructor(t){y(this,"provider");R(this,{provider:t||null})}async getNonce(t){return Or(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await ch(this,t)}async populateTransaction(t){const e=Or(this,"populateTransaction"),r=await ch(this,t);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const o=O(r.chainId);w(o===s.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?w(!1,"eip-1559 transaction do not support gasPrice","tx",t):(r.type===0||r.type===1)&&i&&w(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await e.getFeeData();x(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await e.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(x(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):x(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Pt(r)}async estimateGas(t){return Or(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return Or(this,"call").call(await this.populateCall(t))}async resolveName(t){return await Or(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=Or(this,"sendTransaction"),r=await this.populateTransaction(t);delete r.from;const s=Wo.from(r);return await e.broadcastTransaction(await this.signTransaction(s))}}function gw(n){return JSON.parse(JSON.stringify(n))}var kt,Ve,ir,or,_s,eo,Vc,no,Qc;class Rd{constructor(t){m(this,eo);m(this,no);m(this,kt,void 0);m(this,Ve,void 0);m(this,ir,void 0);m(this,or,void 0);m(this,_s,void 0);d(this,kt,t),d(this,Ve,null),d(this,ir,A(this,eo,Vc).bind(this)),d(this,or,null),d(this,_s,!1)}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}start(){A(this,eo,Vc).call(this,-2)}stop(){d(this,_s,!0),A(this,no,Qc).call(this),u(this,kt).off("block",u(this,ir))}pause(t){t&&A(this,no,Qc).call(this),u(this,kt).off("block",u(this,ir))}resume(){this.start()}}kt=new WeakMap,Ve=new WeakMap,ir=new WeakMap,or=new WeakMap,_s=new WeakMap,eo=new WeakSet,Vc=async function(t){try{u(this,Ve)==null&&d(this,Ve,this._subscribe(u(this,kt)));const e=await u(this,Ve);if(e==null){u(this,kt)._recoverSubscriber(this,this._recover(u(this,kt)));return}const r=await u(this,kt).getNetwork();if(u(this,or)||d(this,or,r),u(this,or).chainId!==r.chainId)throw new Error("chaid changed");if(u(this,_s))return;const s=await u(this,kt).send("eth_getFilterChanges",[e]);await this._emitResults(u(this,kt),s)}catch(e){console.log("@TODO",e)}u(this,kt).once("block",u(this,ir))},no=new WeakSet,Qc=function(){const t=u(this,Ve);t&&(d(this,Ve,null),t.then(e=>{u(this,kt).send("eth_uninstallFilter",[e])}))};var ar;class mw extends Rd{constructor(e,r){super(e);m(this,ar,void 0);d(this,ar,gw(r))}_recover(e){return new Id(e,u(this,ar))}async _subscribe(e){return await e.send("eth_newFilter",[u(this,ar)])}async _emitResults(e,r){for(const s of r)e.emit(u(this,ar),e._wrapLog(s,e._network))}}ar=new WeakMap;class yw extends Rd{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const r of e)t.emit("pending",r)}}const ww="bigint,boolean,function,number,string,symbol".split(/,/g);function Fo(n){if(n==null||ww.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(Fo);if(typeof n=="object")return Object.keys(n).reduce((t,e)=>(t[e]=n[e],t),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function Aw(n){return new Promise(t=>{setTimeout(t,n)})}function Rr(n){return n&&n.toLowerCase()}function lh(n){return n&&typeof n.pollingInterval=="number"}const bw={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100};class uh extends pw{constructor(e,r){super(e);y(this,"address");R(this,{address:r})}connect(e){x(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const r=Fo(e),s=[];if(r.from){const o=r.from;s.push((async()=>{const a=await Dt(o,this.provider);w(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&s.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;s.push((async()=>{r.to=await Dt(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=>{const a=[1e3,100],c=async()=>{const l=await this.provider.getTransaction(s);if(l!=null){i(l.replaceableTransaction(r));return}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(e){const r=Fo(e);if(r.from){const i=await Dt(r.from,this.provider);w(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=i}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(e){const r=typeof e=="string"?Ye(e):e;return await this.provider.send("personal_sign",[T(r),this.address.toLowerCase()])}async signTypedData(e,r,s){const i=Fo(s),o=await Yo.resolveNames(e,r,i,async a=>{const c=await Dt(a);return w(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Yo.getPayload(o.domain,r,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const r=typeof e=="string"?Ye(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),T(r)])}}var cr,Bs,lr,ur,oe,Qe,ro,Kc;class $d extends cw{constructor(e,r){super(e);m(this,ro);m(this,cr,void 0);m(this,Bs,void 0);m(this,lr,void 0);m(this,ur,void 0);m(this,oe,void 0);m(this,Qe,void 0);d(this,Bs,1),d(this,cr,Object.assign({},bw,r||{})),d(this,lr,[]),d(this,ur,null),d(this,Qe,null);{let i=null;const o=new Promise(a=>{i=a});d(this,oe,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");s&&(w(s===e,"staticNetwork MUST match network object","options",r),d(this,Qe,s))}_getOption(e){return u(this,cr)[e]}get _network(){return x(u(this,Qe),"network is not available yet","NETWORK_ERROR"),u(this,Qe)}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let s=e.transaction;if(s&&s.type!=null&&O(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(e);return r!=null?await this.send(r.method,r.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)return e;if(this.ready)return We.from(O(await this.send("eth_chainId",[])));const r={id:Xs(this,Bs)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0]}catch(i){throw this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return We.from(O(s.result));throw this.getRpcError(r,s)}_start(){u(this,oe)==null||u(this,oe).resolve==null||(u(this,oe).resolve(),d(this,oe,null),(async()=>{for(;u(this,Qe)==null;)try{d(this,Qe,await this._detectNetwork())}catch{console.log("JsonRpcProvider failed to startup; retry in 1s"),await Aw(1e3)}A(this,ro,Kc).call(this)})())}async _waitUntilReady(){if(u(this,oe)!=null)return await u(this,oe).promise}_getSubscriber(e){return e.type==="pending"?new yw(this):e.type==="event"?new mw(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new ta("orphan"):super._getSubscriber(e)}get ready(){return u(this,oe)==null}getRpcTransaction(e){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(e[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),r[i]=ui(O(e[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{e[s]!=null&&(r[s]=T(e[s]))}),e.accessList&&(r.accessList=Nr(e.accessList)),r}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Rr(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Rr(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Rr(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Rr(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Rr):e.filter.address=Rr(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,r){const{method:s}=e,{error:i}=r;if(s==="eth_estimateGas"&&i.message){const a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Bt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0]})}if(s==="eth_call"||s==="eth_estimateGas"){const a=jc(i),c=Fi.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:i,payload:e},c}const o=JSON.stringify(vw(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Bt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Bt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a});if(o.match(/nonce/i)&&o.match(/too low/i))return Bt("nonce has already been used","NONCE_EXPIRED",{transaction:a});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Bt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a});if(o.match(/only replay-protected/i))return Bt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:a}})}return o.match(/the method .* does not exist/i)?Bt("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method}):Bt("could not coalesce error","UNKNOWN_ERROR",{error:i})}send(e,r){const s=Xs(this,Bs)._++,i=new Promise((o,a)=>{u(this,lr).push({resolve:o,reject:a,payload:{method:e,params:r,id:s,jsonrpc:"2.0"}})});return A(this,ro,Kc).call(this),i}async getSigner(e){e==null&&(e=0);const r=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await r;if(e>=i.length)throw new Error("no such account");return new uh(this,i[e])}const{accounts:s}=await Pt({network:this.getNetwork(),accounts:r});e=V(e);for(const i of s)if(V(i)===i)return new uh(this,i);throw new Error("invalid account")}}cr=new WeakMap,Bs=new WeakMap,lr=new WeakMap,ur=new WeakMap,oe=new WeakMap,Qe=new WeakMap,ro=new WeakSet,Kc=function(){if(u(this,ur))return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");d(this,ur,setTimeout(()=>{d(this,ur,null);const r=u(this,lr);for(d(this,lr,[]);r.length;){const s=[r.shift()];for(;r.length&&s.length!==u(this,cr).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(o=>o.payload)).length>u(this,cr).batchMaxSize){r.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:l}of s){const f=o.filter(h=>h.id===l.id)[0];if(f==null)return c(new Error("@TODO: no result"));if("error"in f)return c(this.getRpcError(l,f));a(f.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},e))};var xn;class _d extends $d{constructor(e,r){super(e,r);m(this,xn,void 0);d(this,xn,4e3)}_getSubscriber(e){const r=super._getSubscriber(e);return lh(r)&&(r.pollingInterval=u(this,xn)),r}get pollingInterval(){return u(this,xn)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");d(this,xn,e),this._forEachSubscriber(r=>{lh(r)&&(r.pollingInterval=u(this,xn))})}}xn=new WeakMap;var Ls;class Y1 extends _d{constructor(e,r,s){e==null&&(e="http://localhost:8545");super(r,s);m(this,Ls,void 0);typeof e=="string"?d(this,Ls,new Tn(e)):d(this,Ls,e.clone())}_getConnection(){return u(this,Ls).clone()}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){const r=this._getConnection();r.body=JSON.stringify(e),r.setHeader("content-type","application/json");const s=await r.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}Ls=new WeakMap;function jc(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match("reverted")&&nt(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const t in n){const e=jc(n[t]);if(e)return e}return null}if(typeof n=="string")try{return jc(JSON.parse(n))}catch{}return null}function Jc(n,t){if(n!=null){if(typeof n.message=="string"&&t.push(n.message),typeof n=="object")for(const e in n)Jc(n[e],t);if(typeof n=="string")try{return Jc(JSON.parse(n),t)}catch{}}}function vw(n){const t=[];return Jc(n,t),t}function Ew(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate globalThis object")}const xw=Ew().WebSocket;var Ke,so,Sn,hr,Cn;class ml{constructor(t,e){m(this,Ke,void 0);m(this,so,void 0);m(this,Sn,void 0);m(this,hr,void 0);m(this,Cn,void 0);d(this,Ke,t),d(this,so,JSON.stringify(e)),d(this,Sn,null),d(this,hr,null),d(this,Cn,null)}get filter(){return JSON.parse(u(this,so))}start(){d(this,Sn,u(this,Ke).send("eth_subscribe",this.filter).then(t=>(u(this,Ke)._register(t,this),t)))}stop(){u(this,Sn).then(t=>{u(this,Ke).send("eth_unsubscribe",[t])}),d(this,Sn,null)}pause(t){x(t,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),d(this,hr,!!t)}resume(){d(this,hr,null)}_handleMessage(t){if(u(this,Sn)!=null&&u(this,hr)===null){let e=u(this,Cn);e==null?e=this._emit(u(this,Ke),t):e=e.then(async()=>{await this._emit(u(this,Ke),t)}),d(this,Cn,e.then(()=>{u(this,Cn)===e&&d(this,Cn,null)}))}}async _emit(t,e){throw new Error("sub-classes must implemente this; _emit")}}Ke=new WeakMap,so=new WeakMap,Sn=new WeakMap,hr=new WeakMap,Cn=new WeakMap;class Sw extends ml{constructor(t){super(t,["newHeads"])}async _emit(t,e){t.emit("block",parseInt(e.number))}}class Cw extends ml{constructor(t){super(t,["newPendingTransactions"])}async _emit(t,e){t.emit("pending",e)}}var Us;class kw extends ml{constructor(e,r){super(e,["logs",r]);m(this,Us,void 0);d(this,Us,JSON.stringify(r))}get logFilter(){return JSON.parse(u(this,Us))}async _emit(e,r){e.emit(u(this,Us),e._wrapLog(r,e._network))}}Us=new WeakMap;var fr,Fs,kn;class Pw extends $d{constructor(e){super(e,{batchMaxCount:1});m(this,fr,void 0);m(this,Fs,void 0);m(this,kn,void 0);d(this,fr,new Map),d(this,Fs,new Map),d(this,kn,new Map)}_getSubscriber(e){switch(e.type){case"close":return new ta("close");case"block":return new Sw(this);case"pending":return new Cw(this);case"event":return new kw(this,e.filter);case"orphan":if(e.filter.orphan==="drop-log")return new ta("drop-log")}return super._getSubscriber(e)}_register(e,r){u(this,Fs).set(e,r);const s=u(this,kn).get(e);if(s){for(const i of s)r._handleMessage(i);u(this,kn).delete(e)}}async _send(e){w(!Array.isArray(e),"WebSocket does not support batch send","payload",e);const r=new Promise((s,i)=>{u(this,fr).set(e.id,{payload:e,resolve:s,reject:i})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await r]}async _processMessage(e){const r=JSON.parse(e);if("id"in r){const s=u(this,fr).get(r.id);if(s==null){console.log("Weird... Response for not a thing we sent");return}u(this,fr).delete(r.id),s.resolve(r)}else if(r.method==="eth_subscription"){const s=r.params.subscription,i=u(this,Fs).get(s);if(i)i._handleMessage(r.params.result);else{let o=u(this,kn).get(s);o==null&&(o=[],u(this,kn).set(s,o)),o.push(r.params.result)}}}async _write(e){throw new Error("sub-classes must override this")}}fr=new WeakMap,Fs=new WeakMap,kn=new WeakMap;var dr,ae;class Z1 extends Pw{constructor(e,r){super(r);m(this,dr,void 0);m(this,ae,void 0);typeof e=="string"?(d(this,dr,()=>new xw(e)),d(this,ae,u(this,dr).call(this))):typeof e=="function"?(d(this,dr,e),d(this,ae,e())):(d(this,dr,null),d(this,ae,e)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(s){console.log("failed to start WebsocketProvider",s)}},this.websocket.onmessage=s=>{this._processMessage(s.data)}}get websocket(){if(u(this,ae)==null)throw new Error("websocket closed");return u(this,ae)}async _write(e){this.websocket.send(e)}async destroy(){u(this,ae)!=null&&(u(this,ae).close(),d(this,ae,null)),super.destroy()}}dr=new WeakMap,ae=new WeakMap;var Ds;class q1 extends _d{constructor(e,r){super(r,{batchMaxCount:1});m(this,Ds,void 0);d(this,Ds,async(s,i)=>{const o={method:s,params:i};this.emit("debug",{action:"sendEip1193Request",payload:o});try{const a=await e.request(o);return this.emit("debug",{action:"receiveEip1193Result",result:a}),a}catch(a){const c=new Error(a.message);throw c.code=a.code,c.data=a.data,c.payload=o,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}})}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){w(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const r=await u(this,Ds).call(this,e.method,e.params||[]);return[{id:e.id,result:r}]}catch(r){return[{id:e.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(e,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(e,r)}async hasSigner(e){e==null&&(e=0);const r=await this.send("eth_accounts",[]);return typeof e=="number"?r.length>e:(e=e.toLowerCase(),r.filter(s=>s.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await u(this,Ds).call(this,"eth_requestAccounts",[])}catch(r){const s=r.payload;throw this.getRpcError(s,{id:s.id,error:r})}return await super.getSigner(e)}}Ds=new WeakMap;const Nw=new WeakMap;let hh=0;const lc=new Map,fh=new WeakSet,dh=()=>new Promise(n=>requestAnimationFrame(n)),ph=(n,t)=>{const e=n-t;return e===0?void 0:e},gh=(n,t)=>{const e=n/t;return e===1?void 0:e},uc={left:(n,t)=>{const e=ph(n,t);return{value:e,transform:e&&`translateX(${e}px)`}},top:(n,t)=>{const e=ph(n,t);return{value:e,transform:e&&`translateY(${e}px)`}},width:(n,t)=>{const e=gh(n,t);return{value:e,transform:e&&`scaleX(${e})`}},height:(n,t)=>{const e=gh(n,t);return{value:e,transform:e&&`scaleY(${e})`}}},Iw={duration:333,easing:"ease-in-out"},Tw=["left","top","width","height","opacity","color","background"],mh=new WeakMap;class Ow extends X0{constructor(t){if(super(t),this.t=null,this.i=null,this.o=!0,this.shouldLog=!1,t.type===Ws.CHILD)throw Error("The `animate` directive must be used in attribute position.");this.createFinished()}createFinished(){var t;(t=this.resolveFinished)===null||t===void 0||t.call(this),this.finished=new Promise(e=>{this.h=e})}async resolveFinished(){var t;(t=this.h)===null||t===void 0||t.call(this),this.h=void 0}render(t){return Z}getController(){return Nw.get(this.l)}isDisabled(){var t;return this.options.disabled||((t=this.getController())===null||t===void 0?void 0:t.disabled)}update(t,[e]){var r;const s=this.l===void 0;return s&&(this.l=(r=t.options)===null||r===void 0?void 0:r.host,this.l.addController(this),this.element=t.element,mh.set(this.element,this)),this.optionsOrCallback=e,(s||typeof e!="function")&&this.u(e),this.render(e)}u(t){var e,r;t=t??{};const s=this.getController();s!==void 0&&((t={...s.defaultOptions,...t}).keyframeOptions={...s.defaultOptions.keyframeOptions,...t.keyframeOptions}),(e=(r=t).properties)!==null&&e!==void 0||(r.properties=Tw),this.options=t}v(){const t={},e=this.element.getBoundingClientRect(),r=getComputedStyle(this.element);return this.options.properties.forEach(s=>{var i;const o=(i=e[s])!==null&&i!==void 0?i:uc[s]?void 0:r[s],a=Number(o);t[s]=isNaN(a)?o+"":a}),t}p(){let t,e=!0;return this.options.guard&&(t=this.options.guard(),e=((r,s)=>{if(Array.isArray(r)){if(Array.isArray(s)&&s.length===r.length&&r.every((i,o)=>i===s[o]))return!1}else if(s===r)return!1;return!0})(t,this.m)),this.o=this.l.hasUpdated&&!this.isDisabled()&&!this.isAnimating()&&e&&this.element.isConnected,this.o&&(this.m=Array.isArray(t)?Array.from(t):t),this.o}hostUpdate(){var t;typeof this.optionsOrCallback=="function"&&this.u(this.optionsOrCallback()),this.p()&&(this.g=this.v(),this.t=(t=this.t)!==null&&t!==void 0?t:this.element.parentNode,this.i=this.element.nextSibling)}async hostUpdated(){if(!this.o||!this.element.isConnected||this.options.skipInitial&&!this.isHostRendered)return;let t;this.prepare(),await dh;const e=this._(),r=this.A(this.options.keyframeOptions,e),s=this.v();if(this.g!==void 0){const{from:i,to:o}=this.O(this.g,s,e);this.log("measured",[this.g,s,i,o]),t=this.calculateKeyframes(i,o)}else{const i=lc.get(this.options.inId);if(i){lc.delete(this.options.inId);const{from:o,to:a}=this.O(i,s,e);t=this.calculateKeyframes(o,a),t=this.options.in?[{...this.options.in[0],...t[0]},...this.options.in.slice(1),t[1]]:t,hh++,t.forEach(c=>c.zIndex=hh)}else this.options.in&&(t=[...this.options.in,{}])}this.animate(t,r)}resetStyles(){var t;this.P!==void 0&&(this.element.setAttribute("style",(t=this.P)!==null&&t!==void 0?t:""),this.P=void 0)}commitStyles(){var t,e;this.P=this.element.getAttribute("style"),(t=this.webAnimation)===null||t===void 0||t.commitStyles(),(e=this.webAnimation)===null||e===void 0||e.cancel()}reconnected(){}async disconnected(){var t;if(!this.o||(this.options.id!==void 0&&lc.set(this.options.id,this.g),this.options.out===void 0))return;if(this.prepare(),await dh(),(t=this.t)===null||t===void 0?void 0:t.isConnected){const r=this.i&&this.i.parentNode===this.t?this.i:null;if(this.t.insertBefore(this.element,r),this.options.stabilizeOut){const s=this.v();this.log("stabilizing out");const i=this.g.left-s.left,o=this.g.top-s.top;getComputedStyle(this.element).position!=="static"||i===0&&o===0||(this.element.style.position="relative"),i!==0&&(this.element.style.left=i+"px"),o!==0&&(this.element.style.top=o+"px")}}const e=this.A(this.options.keyframeOptions);await this.animate(this.options.out,e),this.element.remove()}prepare(){this.createFinished()}start(){var t,e;(e=(t=this.options).onStart)===null||e===void 0||e.call(t,this)}didFinish(t){var e,r;t&&((r=(e=this.options).onComplete)===null||r===void 0||r.call(e,this)),this.g=void 0,this.animatingProperties=void 0,this.frames=void 0,this.resolveFinished()}_(){const t=[];for(let e=this.element.parentNode;e;e=e==null?void 0:e.parentNode){const r=mh.get(e);r&&!r.isDisabled()&&r&&t.push(r)}return t}get isHostRendered(){const t=fh.has(this.l);return t||this.l.updateComplete.then(()=>{fh.add(this.l)}),t}A(t,e=this._()){const r={...Iw};return e.forEach(s=>Object.assign(r,s.options.keyframeOptions)),Object.assign(r,t),r}O(t,e,r){t={...t},e={...e};const s=r.map(a=>a.animatingProperties).filter(a=>a!==void 0);let i=1,o=1;return s!==void 0&&(s.forEach(a=>{a.width&&(i/=a.width),a.height&&(o/=a.height)}),t.left!==void 0&&e.left!==void 0&&(t.left=i*t.left,e.left=i*e.left),t.top!==void 0&&e.top!==void 0&&(t.top=o*t.top,e.top=o*e.top)),{from:t,to:e}}calculateKeyframes(t,e,r=!1){var s;const i={},o={};let a=!1;const c={};for(const l in e){const f=t[l],h=e[l];if(l in uc){const p=uc[l];if(f===void 0||h===void 0)continue;const g=p(f,h);g.transform!==void 0&&(c[l]=g.value,a=!0,i.transform=`${(s=i.transform)!==null&&s!==void 0?s:""} ${g.transform}`)}else f!==h&&f!==void 0&&h!==void 0&&(a=!0,i[l]=f,o[l]=h)}return i.transformOrigin=o.transformOrigin=r?"center center":"top left",this.animatingProperties=c,a?[i,o]:void 0}async animate(t,e=this.options.keyframeOptions){this.start(),this.frames=t;let r=!1;if(!this.isAnimating()&&!this.isDisabled()&&(this.options.onFrames&&(this.frames=t=this.options.onFrames(this),this.log("modified frames",t)),t!==void 0)){this.log("animate",[t,e]),r=!0,this.webAnimation=this.element.animate(t,e);const s=this.getController();s==null||s.add(this);try{await this.webAnimation.finished}catch{}s==null||s.remove(this)}return this.didFinish(r),r}isAnimating(){var t,e;return((t=this.webAnimation)===null||t===void 0?void 0:t.playState)==="running"||((e=this.webAnimation)===null||e===void 0?void 0:e.pending)}log(t,e){this.shouldLog&&!this.isDisabled()&&console.log(t,this.options.id,e)}}const X1=Ys(Ow);var en=function(n){n==null&&(n=new Date().getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,n.constructor==Array?this.init_by_array(n,n.length):this.init_seed(n)};en.prototype.init_seed=function(n){for(this.mt[0]=n>>>0,this.mti=1;this.mti<this.N;this.mti++){var n=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(((n&4294901760)>>>16)*1812433253<<16)+(n&65535)*1812433253+this.mti,this.mt[this.mti]>>>=0}};en.prototype.init_by_array=function(n,t){var e,r,s;for(this.init_seed(19650218),e=1,r=0,s=this.N>t?this.N:t;s;s--){var i=this.mt[e-1]^this.mt[e-1]>>>30;this.mt[e]=(this.mt[e]^(((i&4294901760)>>>16)*1664525<<16)+(i&65535)*1664525)+n[r]+r,this.mt[e]>>>=0,e++,r++,e>=this.N&&(this.mt[0]=this.mt[this.N-1],e=1),r>=t&&(r=0)}for(s=this.N-1;s;s--){var i=this.mt[e-1]^this.mt[e-1]>>>30;this.mt[e]=(this.mt[e]^(((i&4294901760)>>>16)*1566083941<<16)+(i&65535)*1566083941)-e,this.mt[e]>>>=0,e++,e>=this.N&&(this.mt[0]=this.mt[this.N-1],e=1)}this.mt[0]=2147483648};en.prototype.random_int=function(){var n,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var e;for(this.mti==this.N+1&&this.init_seed(5489),e=0;e<this.N-this.M;e++)n=this.mt[e]&this.UPPER_MASK|this.mt[e+1]&this.LOWER_MASK,this.mt[e]=this.mt[e+this.M]^n>>>1^t[n&1];for(;e<this.N-1;e++)n=this.mt[e]&this.UPPER_MASK|this.mt[e+1]&this.LOWER_MASK,this.mt[e]=this.mt[e+(this.M-this.N)]^n>>>1^t[n&1];n=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^n>>>1^t[n&1],this.mti=0}return n=this.mt[this.mti++],n^=n>>>11,n^=n<<7&2636928640,n^=n<<15&4022730752,n^=n>>>18,n>>>0};en.prototype.random_int31=function(){return this.random_int()>>>1};en.prototype.random_incl=function(){return this.random_int()*(1/4294967295)};en.prototype.random=function(){return this.random_int()*(1/4294967296)};en.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)};en.prototype.random_long=function(){var n=this.random_int()>>>5,t=this.random_int()>>>6;return(n*67108864+t)*(1/9007199254740992)};var Rw=en;function $w(n,t){var e=document.createElement("div");return e.style.borderRadius="50px",e.style.overflow="hidden",e.style.padding="0px",e.style.margin="0px",e.style.width=""+n+"px",e.style.height=""+n+"px",e.style.display="inline-block",e.style.background=t,{container:e}}var _w=$w,Bd={exports:{}};(function(n){var t=function(){function e(c,l,f,h){typeof l=="object"&&(f=l.depth,h=l.prototype,l.filter,l=l.circular);var p=[],g=[],b=typeof Buffer<"u";typeof l>"u"&&(l=!0),typeof f>"u"&&(f=1/0);function E(v,k){if(v===null)return null;if(k==0)return v;var S,C;if(typeof v!="object")return v;if(e.__isArray(v))S=[];else if(e.__isRegExp(v))S=new RegExp(v.source,a(v)),v.lastIndex&&(S.lastIndex=v.lastIndex);else if(e.__isDate(v))S=new Date(v.getTime());else{if(b&&Buffer.isBuffer(v))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(v.length):S=new Buffer(v.length),v.copy(S),S;typeof h>"u"?(C=Object.getPrototypeOf(v),S=Object.create(C)):(S=Object.create(h),C=h)}if(l){var $=p.indexOf(v);if($!=-1)return g[$];p.push(v),g.push(S)}for(var B in v){var G;C&&(G=Object.getOwnPropertyDescriptor(C,B)),!(G&&G.set==null)&&(S[B]=E(v[B],k-1))}return S}return E(c,f)}e.clonePrototype=function(l){if(l===null)return null;var f=function(){};return f.prototype=l,new f};function r(c){return Object.prototype.toString.call(c)}e.__objToStr=r;function s(c){return typeof c=="object"&&r(c)==="[object Date]"}e.__isDate=s;function i(c){return typeof c=="object"&&r(c)==="[object Array]"}e.__isArray=i;function o(c){return typeof c=="object"&&r(c)==="[object RegExp]"}e.__isRegExp=o;function a(c){var l="";return c.global&&(l+="g"),c.ignoreCase&&(l+="i"),c.multiline&&(l+="m"),l}return e.__getRegExpFlags=a,e}();n.exports&&(n.exports=t)})(Bd);var Bw=Bd.exports,Ld={exports:{}},Lw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},wr=Lw,Ud={};for(var hc in wr)wr.hasOwnProperty(hc)&&(Ud[wr[hc]]=hc);var I=Ld.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var xt in I)if(I.hasOwnProperty(xt)){if(!("channels"in I[xt]))throw new Error("missing channels property: "+xt);if(!("labels"in I[xt]))throw new Error("missing channel labels property: "+xt);if(I[xt].labels.length!==I[xt].channels)throw new Error("channel and label counts mismatch: "+xt);var Uw=I[xt].channels,Fw=I[xt].labels;delete I[xt].channels,delete I[xt].labels,Object.defineProperty(I[xt],"channels",{value:Uw}),Object.defineProperty(I[xt],"labels",{value:Fw})}I.rgb.hsl=function(n){var t=n[0]/255,e=n[1]/255,r=n[2]/255,s=Math.min(t,e,r),i=Math.max(t,e,r),o=i-s,a,c,l;return i===s?a=0:t===i?a=(e-r)/o:e===i?a=2+(r-t)/o:r===i&&(a=4+(t-e)/o),a=Math.min(a*60,360),a<0&&(a+=360),l=(s+i)/2,i===s?c=0:l<=.5?c=o/(i+s):c=o/(2-i-s),[a,c*100,l*100]};I.rgb.hsv=function(n){var t,e,r,s,i,o=n[0]/255,a=n[1]/255,c=n[2]/255,l=Math.max(o,a,c),f=l-Math.min(o,a,c),h=function(p){return(l-p)/6/f+1/2};return f===0?s=i=0:(i=f/l,t=h(o),e=h(a),r=h(c),o===l?s=r-e:a===l?s=1/3+t-r:c===l&&(s=2/3+e-t),s<0?s+=1:s>1&&(s-=1)),[s*360,i*100,l*100]};I.rgb.hwb=function(n){var t=n[0],e=n[1],r=n[2],s=I.rgb.hsl(n)[0],i=1/255*Math.min(t,Math.min(e,r));return r=1-1/255*Math.max(t,Math.max(e,r)),[s,i*100,r*100]};I.rgb.cmyk=function(n){var t=n[0]/255,e=n[1]/255,r=n[2]/255,s,i,o,a;return a=Math.min(1-t,1-e,1-r),s=(1-t-a)/(1-a)||0,i=(1-e-a)/(1-a)||0,o=(1-r-a)/(1-a)||0,[s*100,i*100,o*100,a*100]};function Dw(n,t){return Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2)+Math.pow(n[2]-t[2],2)}I.rgb.keyword=function(n){var t=Ud[n];if(t)return t;var e=1/0,r;for(var s in wr)if(wr.hasOwnProperty(s)){var i=wr[s],o=Dw(n,i);o<e&&(e=o,r=s)}return r};I.keyword.rgb=function(n){return wr[n]};I.rgb.xyz=function(n){var t=n[0]/255,e=n[1]/255,r=n[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=t*.4124+e*.3576+r*.1805,i=t*.2126+e*.7152+r*.0722,o=t*.0193+e*.1192+r*.9505;return[s*100,i*100,o*100]};I.rgb.lab=function(n){var t=I.rgb.xyz(n),e=t[0],r=t[1],s=t[2],i,o,a;return e/=95.047,r/=100,s/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,i=116*r-16,o=500*(e-r),a=200*(r-s),[i,o,a]};I.hsl.rgb=function(n){var t=n[0]/360,e=n[1]/100,r=n[2]/100,s,i,o,a,c;if(e===0)return c=r*255,[c,c,c];r<.5?i=r*(1+e):i=r+e-r*e,s=2*r-i,a=[0,0,0];for(var l=0;l<3;l++)o=t+1/3*-(l-1),o<0&&o++,o>1&&o--,6*o<1?c=s+(i-s)*6*o:2*o<1?c=i:3*o<2?c=s+(i-s)*(2/3-o)*6:c=s,a[l]=c*255;return a};I.hsl.hsv=function(n){var t=n[0],e=n[1]/100,r=n[2]/100,s=e,i=Math.max(r,.01),o,a;return r*=2,e*=r<=1?r:2-r,s*=i<=1?i:2-i,a=(r+e)/2,o=r===0?2*s/(i+s):2*e/(r+e),[t,o*100,a*100]};I.hsv.rgb=function(n){var t=n[0]/60,e=n[1]/100,r=n[2]/100,s=Math.floor(t)%6,i=t-Math.floor(t),o=255*r*(1-e),a=255*r*(1-e*i),c=255*r*(1-e*(1-i));switch(r*=255,s){case 0:return[r,c,o];case 1:return[a,r,o];case 2:return[o,r,c];case 3:return[o,a,r];case 4:return[c,o,r];case 5:return[r,o,a]}};I.hsv.hsl=function(n){var t=n[0],e=n[1]/100,r=n[2]/100,s=Math.max(r,.01),i,o,a;return a=(2-e)*r,i=(2-e)*s,o=e*s,o/=i<=1?i:2-i,o=o||0,a/=2,[t,o*100,a*100]};I.hwb.rgb=function(n){var t=n[0]/360,e=n[1]/100,r=n[2]/100,s=e+r,i,o,a,c;s>1&&(e/=s,r/=s),i=Math.floor(6*t),o=1-r,a=6*t-i,i&1&&(a=1-a),c=e+a*(o-e);var l,f,h;switch(i){default:case 6:case 0:l=o,f=c,h=e;break;case 1:l=c,f=o,h=e;break;case 2:l=e,f=o,h=c;break;case 3:l=e,f=c,h=o;break;case 4:l=c,f=e,h=o;break;case 5:l=o,f=e,h=c;break}return[l*255,f*255,h*255]};I.cmyk.rgb=function(n){var t=n[0]/100,e=n[1]/100,r=n[2]/100,s=n[3]/100,i,o,a;return i=1-Math.min(1,t*(1-s)+s),o=1-Math.min(1,e*(1-s)+s),a=1-Math.min(1,r*(1-s)+s),[i*255,o*255,a*255]};I.xyz.rgb=function(n){var t=n[0]/100,e=n[1]/100,r=n[2]/100,s,i,o;return s=t*3.2406+e*-1.5372+r*-.4986,i=t*-.9689+e*1.8758+r*.0415,o=t*.0557+e*-.204+r*1.057,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[s*255,i*255,o*255]};I.xyz.lab=function(n){var t=n[0],e=n[1],r=n[2],s,i,o;return t/=95.047,e/=100,r/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,s=116*e-16,i=500*(t-e),o=200*(e-r),[s,i,o]};I.lab.xyz=function(n){var t=n[0],e=n[1],r=n[2],s,i,o;i=(t+16)/116,s=e/500+i,o=i-r/200;var a=Math.pow(i,3),c=Math.pow(s,3),l=Math.pow(o,3);return i=a>.008856?a:(i-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,o=l>.008856?l:(o-16/116)/7.787,s*=95.047,i*=100,o*=108.883,[s,i,o]};I.lab.lch=function(n){var t=n[0],e=n[1],r=n[2],s,i,o;return s=Math.atan2(r,e),i=s*360/2/Math.PI,i<0&&(i+=360),o=Math.sqrt(e*e+r*r),[t,o,i]};I.lch.lab=function(n){var t=n[0],e=n[1],r=n[2],s,i,o;return o=r/360*2*Math.PI,s=e*Math.cos(o),i=e*Math.sin(o),[t,s,i]};I.rgb.ansi16=function(n){var t=n[0],e=n[1],r=n[2],s=1 in arguments?arguments[1]:I.rgb.hsv(n)[2];if(s=Math.round(s/50),s===0)return 30;var i=30+(Math.round(r/255)<<2|Math.round(e/255)<<1|Math.round(t/255));return s===2&&(i+=60),i};I.hsv.ansi16=function(n){return I.rgb.ansi16(I.hsv.rgb(n),n[2])};I.rgb.ansi256=function(n){var t=n[0],e=n[1],r=n[2];if(t===e&&e===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var s=16+36*Math.round(t/255*5)+6*Math.round(e/255*5)+Math.round(r/255*5);return s};I.ansi16.rgb=function(n){var t=n%10;if(t===0||t===7)return n>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var e=(~~(n>50)+1)*.5,r=(t&1)*e*255,s=(t>>1&1)*e*255,i=(t>>2&1)*e*255;return[r,s,i]};I.ansi256.rgb=function(n){if(n>=232){var t=(n-232)*10+8;return[t,t,t]}n-=16;var e,r=Math.floor(n/36)/5*255,s=Math.floor((e=n%36)/6)/5*255,i=e%6/5*255;return[r,s,i]};I.rgb.hex=function(n){var t=((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255),e=t.toString(16).toUpperCase();return"000000".substring(e.length)+e};I.hex.rgb=function(n){var t=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var e=t[0];t[0].length===3&&(e=e.split("").map(function(a){return a+a}).join(""));var r=parseInt(e,16),s=r>>16&255,i=r>>8&255,o=r&255;return[s,i,o]};I.rgb.hcg=function(n){var t=n[0]/255,e=n[1]/255,r=n[2]/255,s=Math.max(Math.max(t,e),r),i=Math.min(Math.min(t,e),r),o=s-i,a,c;return o<1?a=i/(1-o):a=0,o<=0?c=0:s===t?c=(e-r)/o%6:s===e?c=2+(r-t)/o:c=4+(t-e)/o+4,c/=6,c%=1,[c*360,o*100,a*100]};I.hsl.hcg=function(n){var t=n[1]/100,e=n[2]/100,r=1,s=0;return e<.5?r=2*t*e:r=2*t*(1-e),r<1&&(s=(e-.5*r)/(1-r)),[n[0],r*100,s*100]};I.hsv.hcg=function(n){var t=n[1]/100,e=n[2]/100,r=t*e,s=0;return r<1&&(s=(e-r)/(1-r)),[n[0],r*100,s*100]};I.hcg.rgb=function(n){var t=n[0]/360,e=n[1]/100,r=n[2]/100;if(e===0)return[r*255,r*255,r*255];var s=[0,0,0],i=t%1*6,o=i%1,a=1-o,c=0;switch(Math.floor(i)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a}return c=(1-e)*r,[(e*s[0]+c)*255,(e*s[1]+c)*255,(e*s[2]+c)*255]};I.hcg.hsv=function(n){var t=n[1]/100,e=n[2]/100,r=t+e*(1-t),s=0;return r>0&&(s=t/r),[n[0],s*100,r*100]};I.hcg.hsl=function(n){var t=n[1]/100,e=n[2]/100,r=e*(1-t)+.5*t,s=0;return r>0&&r<.5?s=t/(2*r):r>=.5&&r<1&&(s=t/(2*(1-r))),[n[0],s*100,r*100]};I.hcg.hwb=function(n){var t=n[1]/100,e=n[2]/100,r=t+e*(1-t);return[n[0],(r-t)*100,(1-r)*100]};I.hwb.hcg=function(n){var t=n[1]/100,e=n[2]/100,r=1-e,s=r-t,i=0;return s<1&&(i=(r-s)/(1-s)),[n[0],s*100,i*100]};I.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};I.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};I.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};I.gray.hsl=I.gray.hsv=function(n){return[0,0,n[0]]};I.gray.hwb=function(n){return[0,100,n[0]]};I.gray.cmyk=function(n){return[0,0,0,n[0]]};I.gray.lab=function(n){return[n[0],0,0]};I.gray.hex=function(n){var t=Math.round(n[0]/100*255)&255,e=(t<<16)+(t<<8)+t,r=e.toString(16).toUpperCase();return"000000".substring(r.length)+r};I.rgb.gray=function(n){var t=(n[0]+n[1]+n[2])/3;return[t/255*100]};var Fd=Ld.exports,ea=Fd;function Mw(){for(var n={},t=Object.keys(ea),e=t.length,r=0;r<e;r++)n[t[r]]={distance:-1,parent:null};return n}function Hw(n){var t=Mw(),e=[n];for(t[n].distance=0;e.length;)for(var r=e.pop(),s=Object.keys(ea[r]),i=s.length,o=0;o<i;o++){var a=s[o],c=t[a];c.distance===-1&&(c.distance=t[r].distance+1,c.parent=r,e.unshift(a))}return t}function Gw(n,t){return function(e){return t(n(e))}}function zw(n,t){for(var e=[t[n].parent,n],r=ea[t[n].parent][n],s=t[n].parent;t[s].parent;)e.unshift(t[s].parent),r=Gw(ea[t[s].parent][s],r),s=t[s].parent;return r.conversion=e,r}var Vw=function(n){for(var t=Hw(n),e={},r=Object.keys(t),s=r.length,i=0;i<s;i++){var o=r[i],a=t[o];a.parent!==null&&(e[o]=zw(o,t))}return e},Wc=Fd,Qw=Vw,Ur={},Kw=Object.keys(Wc);function jw(n){var t=function(e){return e==null?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),n(e))};return"conversion"in n&&(t.conversion=n.conversion),t}function Jw(n){var t=function(e){if(e==null)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var r=n(e);if(typeof r=="object")for(var s=r.length,i=0;i<s;i++)r[i]=Math.round(r[i]);return r};return"conversion"in n&&(t.conversion=n.conversion),t}Kw.forEach(function(n){Ur[n]={},Object.defineProperty(Ur[n],"channels",{value:Wc[n].channels}),Object.defineProperty(Ur[n],"labels",{value:Wc[n].labels});var t=Qw(n),e=Object.keys(t);e.forEach(function(r){var s=t[r];Ur[n][r]=Jw(s),Ur[n][r].raw=jw(s)})});var Ww=Ur,Yw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Yc=Yw,Zw={getRgba:yl,getHsla:wl,getRgb:qw,getHsl:Xw,getHwb:Dd,getAlpha:t1,hexString:e1,rgbString:n1,rgbaString:Md,percentString:r1,percentaString:Hd,hslString:s1,hslaString:Gd,hwbString:i1,keyword:o1};function yl(n){if(n){var t=/^#([a-fA-F0-9]{3})$/,e=/^#([a-fA-F0-9]{6})$/,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,i=/(\D+)/,o=[0,0,0],a=1,c=n.match(t);if(c){c=c[1];for(var l=0;l<o.length;l++)o[l]=parseInt(c[l]+c[l],16)}else if(c=n.match(e)){c=c[1];for(var l=0;l<o.length;l++)o[l]=parseInt(c.slice(l*2,l*2+2),16)}else if(c=n.match(r)){for(var l=0;l<o.length;l++)o[l]=parseInt(c[l+1]);a=parseFloat(c[4])}else if(c=n.match(s)){for(var l=0;l<o.length;l++)o[l]=Math.round(parseFloat(c[l+1])*2.55);a=parseFloat(c[4])}else if(c=n.match(i)){if(c[1]=="transparent")return[0,0,0,0];if(o=Yc[c[1]],!o)return}for(var l=0;l<o.length;l++)o[l]=xe(o[l],0,255);return!a&&a!=0?a=1:a=xe(a,0,1),o[3]=a,o}}function wl(n){if(n){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,e=n.match(t);if(e){var r=parseFloat(e[4]),s=xe(parseInt(e[1]),0,360),i=xe(parseFloat(e[2]),0,100),o=xe(parseFloat(e[3]),0,100),a=xe(isNaN(r)?1:r,0,1);return[s,i,o,a]}}}function Dd(n){if(n){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,e=n.match(t);if(e){var r=parseFloat(e[4]),s=xe(parseInt(e[1]),0,360),i=xe(parseFloat(e[2]),0,100),o=xe(parseFloat(e[3]),0,100),a=xe(isNaN(r)?1:r,0,1);return[s,i,o,a]}}}function qw(n){var t=yl(n);return t&&t.slice(0,3)}function Xw(n){var t=wl(n);return t&&t.slice(0,3)}function t1(n){var t=yl(n);if(t)return t[3];if(t=wl(n))return t[3];if(t=Dd(n))return t[3]}function e1(n){return"#"+fc(n[0])+fc(n[1])+fc(n[2])}function n1(n,t){return t<1||n[3]&&n[3]<1?Md(n,t):"rgb("+n[0]+", "+n[1]+", "+n[2]+")"}function Md(n,t){return t===void 0&&(t=n[3]!==void 0?n[3]:1),"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+t+")"}function r1(n,t){if(t<1||n[3]&&n[3]<1)return Hd(n,t);var e=Math.round(n[0]/255*100),r=Math.round(n[1]/255*100),s=Math.round(n[2]/255*100);return"rgb("+e+"%, "+r+"%, "+s+"%)"}function Hd(n,t){var e=Math.round(n[0]/255*100),r=Math.round(n[1]/255*100),s=Math.round(n[2]/255*100);return"rgba("+e+"%, "+r+"%, "+s+"%, "+(t||n[3]||1)+")"}function s1(n,t){return t<1||n[3]&&n[3]<1?Gd(n,t):"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)"}function Gd(n,t){return t===void 0&&(t=n[3]!==void 0?n[3]:1),"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+t+")"}function i1(n,t){return t===void 0&&(t=n[3]!==void 0?n[3]:1),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+(t!==void 0&&t!==1?", "+t:"")+")"}function o1(n){return zd[n.slice(0,3)]}function xe(n,t,e){return Math.min(Math.max(t,n),e)}function fc(n){var t=n.toString(16).toUpperCase();return t.length<2?"0"+t:t}var zd={};for(var yh in Yc)zd[Yc[yh]]=yh;var a1=Bw,c1=Ww,ne=Zw,Ce=function(n){if(n instanceof Ce)return n;if(!(this instanceof Ce))return new Ce(n);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var t;if(typeof n=="string")if(t=ne.getRgba(n),t)this.setValues("rgb",t);else if(t=ne.getHsla(n))this.setValues("hsl",t);else if(t=ne.getHwb(n))this.setValues("hwb",t);else throw new Error('Unable to parse color from string "'+n+'"');else if(typeof n=="object")if(t=n,t.r!==void 0||t.red!==void 0)this.setValues("rgb",t);else if(t.l!==void 0||t.lightness!==void 0)this.setValues("hsl",t);else if(t.v!==void 0||t.value!==void 0)this.setValues("hsv",t);else if(t.w!==void 0||t.whiteness!==void 0)this.setValues("hwb",t);else if(t.c!==void 0||t.cyan!==void 0)this.setValues("cmyk",t);else throw new Error("Unable to parse color from object "+JSON.stringify(n))};Ce.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return this.values.alpha!==1?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var n=this.values.rgb;return n.concat([this.values.alpha])},rgbaArrayNormalized:function(){for(var n=this.values.rgb,t=[],e=0;e<3;e++)t[e]=n[e]/255;return t.push(this.values.alpha),t},hslaArray:function(){var n=this.values.hsl;return n.concat([this.values.alpha])},alpha:function(n){return n===void 0?this.values.alpha:(this.setValues("alpha",n),this)},red:function(n){return this.setChannel("rgb",0,n)},green:function(n){return this.setChannel("rgb",1,n)},blue:function(n){return this.setChannel("rgb",2,n)},hue:function(n){return n&&(n%=360,n=n<0?360+n:n),this.setChannel("hsl",0,n)},saturation:function(n){return this.setChannel("hsl",1,n)},lightness:function(n){return this.setChannel("hsl",2,n)},saturationv:function(n){return this.setChannel("hsv",1,n)},whiteness:function(n){return this.setChannel("hwb",1,n)},blackness:function(n){return this.setChannel("hwb",2,n)},value:function(n){return this.setChannel("hsv",2,n)},cyan:function(n){return this.setChannel("cmyk",0,n)},magenta:function(n){return this.setChannel("cmyk",1,n)},yellow:function(n){return this.setChannel("cmyk",2,n)},black:function(n){return this.setChannel("cmyk",3,n)},hexString:function(){return ne.hexString(this.values.rgb)},rgbString:function(){return ne.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return ne.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return ne.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return ne.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return ne.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return ne.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return ne.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var n=this.values.rgb,t=[],e=0;e<n.length;e++){var r=n[e]/255;t[e]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(n){var t=this.luminosity(),e=n.luminosity();return t>e?(t+.05)/(e+.05):(e+.05)/(t+.05)},level:function(n){var t=this.contrast(n);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var n=this.values.rgb,t=(n[0]*299+n[1]*587+n[2]*114)/1e3;return t<128},light:function(){return!this.dark()},negate:function(){for(var n=[],t=0;t<3;t++)n[t]=255-this.values.rgb[t];return this.setValues("rgb",n),this},lighten:function(n){return this.values.hsl[2]+=this.values.hsl[2]*n,this.setValues("hsl",this.values.hsl),this},darken:function(n){return this.values.hsl[2]-=this.values.hsl[2]*n,this.setValues("hsl",this.values.hsl),this},saturate:function(n){return this.values.hsl[1]+=this.values.hsl[1]*n,this.setValues("hsl",this.values.hsl),this},desaturate:function(n){return this.values.hsl[1]-=this.values.hsl[1]*n,this.setValues("hsl",this.values.hsl),this},whiten:function(n){return this.values.hwb[1]+=this.values.hwb[1]*n,this.setValues("hwb",this.values.hwb),this},blacken:function(n){return this.values.hwb[2]+=this.values.hwb[2]*n,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var n=this.values.rgb,t=n[0]*.3+n[1]*.59+n[2]*.11;return this.setValues("rgb",[t,t,t]),this},clearer:function(n){return this.setValues("alpha",this.values.alpha-this.values.alpha*n),this},opaquer:function(n){return this.setValues("alpha",this.values.alpha+this.values.alpha*n),this},rotate:function(n){var t=this.values.hsl[0];return t=(t+n)%360,t=t<0?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this},mix:function(n,t){var e=this,r=n,s=t===void 0?.5:t,i=2*s-1,o=e.alpha()-r.alpha(),a=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,c=1-a;return this.rgb(a*e.red()+c*r.red(),a*e.green()+c*r.green(),a*e.blue()+c*r.blue()).alpha(e.alpha()*s+r.alpha()*(1-s))},toJSON:function(){return this.rgb()},clone:function(){var n=new Ce;return n.values=a1(this.values),n}};Ce.prototype.getValues=function(n){for(var t={},e=0;e<n.length;e++)t[n.charAt(e)]=this.values[n][e];return this.values.alpha!==1&&(t.a=this.values.alpha),t};Ce.prototype.setValues=function(n,t){var e={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},r={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},s,i=1;if(n==="alpha")i=t;else if(t.length)this.values[n]=t.slice(0,n.length),i=t[n.length];else if(t[n.charAt(0)]!==void 0){for(s=0;s<n.length;s++)this.values[n][s]=t[n.charAt(s)];i=t.a}else if(t[e[n][0]]!==void 0){var o=e[n];for(s=0;s<n.length;s++)this.values[n][s]=t[o[s]];i=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,i===void 0?this.values.alpha:i)),n==="alpha")return!1;var a;for(s=0;s<n.length;s++)a=Math.max(0,Math.min(r[n][s],this.values[n][s])),this.values[n][s]=Math.round(a);for(var c in e)for(c!==n&&(this.values[c]=c1[n][c](this.values[n])),s=0;s<c.length;s++)a=Math.max(0,Math.min(r[c][s],this.values[c][s])),this.values[c][s]=Math.round(a);return!0};Ce.prototype.setSpace=function(n,t){var e=t[0];return e===void 0?this.getValues(n):(typeof e=="number"&&(e=Array.prototype.slice.call(t)),this.setValues(n,e),this)};Ce.prototype.setChannel=function(n,t,e){return e===void 0?this.values[n][t]:e===this.values[n][t]?this:(this.values[n][t]=e,this.setValues(n,this.values[n]),this)};var l1=Ce,u1=["#01888C","#FC7500","#034F5D","#F73F01","#FC1960","#C7144C","#F3C100","#1598F2","#2465E1","#F19E02"],h1=Rw,f1=_w,d1=l1,p1=u1,wh=4,Vd="http://www.w3.org/2000/svg",g1=m1,Ar;function m1(n,t){Ar=new h1(t);var e=A1(p1.slice(),Ar),r=f1(n,Qd(e)),s=r.container,i=document.createElementNS(Vd,"svg");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",n),i.setAttributeNS(null,"height",n),s.appendChild(i);for(var o=0;o<wh-1;o++)y1(e,n,o,wh-1,i);return s}function y1(n,t,e,r,s){var i=t/2,o=document.createElementNS(Vd,"rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",t),o.setAttributeNS(null,"height",t);var a=Ar.random(),c=Math.PI*2*a,l=t/r*Ar.random()+e*t/r,f=Math.cos(c)*l,h=Math.sin(c)*l,p="translate("+f+" "+h+")",g=Ar.random(),b=a*360+g*180,E="rotate("+b.toFixed(1)+" "+i+" "+i+")",v=p+" "+E;o.setAttributeNS(null,"transform",v);var k=Qd(n);o.setAttributeNS(null,"fill",k),s.appendChild(o)}function Qd(n){Ar.random();var t=Math.floor(n.length*Ar.random()),e=n.splice(t,1)[0];return e}var w1=30;function A1(n,t){var e=t.random()*30-w1/2;return n.map(function(r){var s=d1(r);return s.rotate(e),s.hexString()})}const tA=lf(g1);export{X1 as $,q1 as B,Y1 as J,Wa as S,Z1 as W,j1 as a,J1 as b,D1 as c,V0 as d,L1 as e,Q1 as f,V as g,z1 as h,H1 as i,V1 as j,tA as k,M1 as l,K1 as n,P0 as o,W1 as p,N0 as r,To as s,U1 as t,$1 as x};
